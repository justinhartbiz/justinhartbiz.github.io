<!doctype html><html><head><meta charset="utf-8"><meta name="viewport" content="width=device-width,initial-scale=1"><title>Markov Chain World Builder</title><style>body{font-family:Inter,system-ui,sans-serif;background:#0f1117;color:#e9edf5;margin:0}.wrap{max-width:1100px;margin:0 auto;padding:28px}h1{margin:0 0 8px;font-size:2rem}p{color:#b6c0d3}.panel{background:#171a22;border:1px solid #2a3040;border-radius:12px;padding:14px;margin:14px 0}label{font-size:.9rem;color:#b6c0d3}input,select{width:100%;margin-top:6px;background:#0f1117;color:#e9edf5;border:1px solid #31394c;border-radius:8px;padding:8px}canvas{width:100%;background:#0b0d12;border:1px solid #2a3040;border-radius:10px}a{color:#89b4ff}</style></head><body><div class="wrap"><a href="./index.html">← Back to Expansion Lab</a><h1>Markov Chain World Builder</h1><p>Long-run behavior emerges from simple transition probabilities.</p><div class="panel"><label>P(Rain→Rain)<input id=rr type=range min=0 max=1 step=0.01 value=0.7></label><label>P(Sun→Sun)<input id=ss type=range min=0 max=1 step=0.01 value=0.8></label><label>Steps<input id=n type=range min=50 max=2000 value=500></label><button id=run>Run</button><div id=o></div></div><canvas id=mk width=900 height=240></canvas><script>const ctx=mk.getContext('2d');run.onclick=sim;[rr,ss,n].forEach(e=>e.oninput=sim);function sim(){let pRR=+rr.value,pSS=+ss.value,N=+n.value,state=Math.random()<.5?'R':'S',seq=[];for(let i=0;i<N;i++){seq.push(state);if(state==='R')state=Math.random()<pRR?'R':'S';else state=Math.random()<pSS?'S':'R';}let rain=seq.filter(s=>s==='R').length;ctx.fillStyle='#0b0d12';ctx.fillRect(0,0,900,240);for(let i=0;i<Math.min(N,900);i++){ctx.fillStyle=seq[i]==='R'?'#60a5fa':'#fbbf24';ctx.fillRect(i,40,1,160);}o.innerHTML=`Rain share: <b>${(rain/N*100).toFixed(1)}%</b> | Sun share: <b>${(100-rain/N*100).toFixed(1)}%</b>`;}sim();</script></div></body></html>