<!doctype html><html><head><meta charset="UTF-8"><meta name="viewport" content="width=device-width, initial-scale=1.0"><title>Double Pendulum Chaos</title><style>
body{margin:0;background:#090b14;color:#f3f6ff;font-family:Cambria,serif}.w{max-width:1100px;margin:0 auto;padding:24px}canvas{width:100%;height:560px;background:#05070f;border:1px solid #24315f;border-radius:12px}
.controls{display:grid;grid-template-columns:repeat(4,1fr);gap:10px;margin:12px 0}label{font-size:.82rem;color:#9fb0e0}input{width:100%}.insight{color:#bdd1ff}a{color:#78e2ff}
</style></head><body><div class=w><a href=index.html>← Horizon v4</a><h1>Double Pendulum Chaos Lab</h1><p class=insight>Insight: deterministic systems can still be prediction-hostile. Tiny angle deltas create path divergence that behaves like randomness.</p>
<div class=controls>
<div><label>θ1 <span id=v1></span></label><input id=t1 type=range min=-2 max=2 step=0.01 value=1.3></div>
<div><label>θ2 <span id=v2></span></label><input id=t2 type=range min=-2 max=2 step=0.01 value=1.1></div>
<div><label>Damping <span id=v3></span></label><input id=d type=range min=0 max=0.02 step=0.0005 value=0.002></div>
<div><label>Gravity <span id=v4></span></label><input id=g type=range min=0.2 max=2 step=0.01 value=1></div></div>
<canvas id=c></canvas></div>
<script>
const c=document.getElementById('c'),x=c.getContext('2d');function fit(){c.width=c.clientWidth;c.height=c.clientHeight};addEventListener('resize',fit);fit();
const $=id=>document.getElementById(id);let trail=[];function upd(){v1.textContent=t1.value;v2.textContent=t2.value;v3.textContent=d.value;v4.textContent=g.value}
let a=+t1.value,b=+t2.value,w1=0,w2=0,l1=170,l2=150,m1=1,m2=1;['t1','t2','d','g'].forEach(id=>$(id).oninput=()=>{upd();a=+t1.value;b=+t2.value;w1=w2=0;trail=[]});upd();
function step(){for(let k=0;k<4;k++){let G=+g.value,D=+d.value;
 let num1=-G*(2*m1+m2)*Math.sin(a)-m2*G*Math.sin(a-2*b)-2*Math.sin(a-b)*m2*(w2*w2*l2+w1*w1*l1*Math.cos(a-b));
 let den1=l1*(2*m1+m2-m2*Math.cos(2*a-2*b));let num2=2*Math.sin(a-b)*(w1*w1*l1*(m1+m2)+G*(m1+m2)*Math.cos(a)+w2*w2*l2*m2*Math.cos(a-b));
 let den2=l2*(2*m1+m2-m2*Math.cos(2*a-2*b));w1+=(num1/den1-D*w1)*0.03;w2+=(num2/den2-D*w2)*0.03;a+=w1*0.03;b+=w2*0.03;}
 const ox=c.width/2,oy=120,x1=ox+l1*Math.sin(a),y1=oy+l1*Math.cos(a),x2=x1+l2*Math.sin(b),y2=y1+l2*Math.cos(b);
 trail.push([x2,y2]);if(trail.length>900)trail.shift();x.fillStyle='rgba(5,7,15,.25)';x.fillRect(0,0,c.width,c.height);
 x.strokeStyle='#5c74d1';x.beginPath();x.moveTo(ox,oy);x.lineTo(x1,y1);x.lineTo(x2,y2);x.stroke();
 for(let i=1;i<trail.length;i++){x.strokeStyle='hsla('+(210+i/5)+',100%,70%,'+(i/trail.length)+')';x.beginPath();x.moveTo(...trail[i-1]);x.lineTo(...trail[i]);x.stroke();}
 x.fillStyle='#f8faff';x.beginPath();x.arc(x1,y1,7,0,7);x.fill();x.fillStyle='#7ef3ff';x.beginPath();x.arc(x2,y2,9,0,7);x.fill();requestAnimationFrame(step)}step();
</script></body></html>