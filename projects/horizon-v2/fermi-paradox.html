<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>The Fermi Paradox: Where Is Everybody?</title>
    <style>
        /* Global styles */
        @import url('https://fonts.googleapis.com/css2?family=Playfair+Display:wght@400;500;600;700&display=swap');
        @import url('https://fonts.googleapis.com/css2?family=JetBrains+Mono:wght@400;500;600&display=swap');
        
        :root {
            --dark-bg: #030305;
            --panel-bg: rgba(15, 15, 25, 0.7);
            --gold: #FFD28E;
            --gold-light: rgba(255, 210, 142, 0.2);
            --gold-medium: rgba(255, 210, 142, 0.5);
            --gold-bright: rgba(255, 210, 142, 0.9);
            --panel-border: 1px solid rgba(255, 210, 142, 0.3);
            --panel-shadow: 0 8px 32px 0 rgba(0, 0, 0, 0.37);
        }

        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            background-color: var(--dark-bg);
            color: white;
            font-family: 'Playfair Display', serif;
            line-height: 1.6;
            overflow-x: hidden;
            position: relative;
        }

        /* Starfield background */
        #starfield {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            z-index: -1;
        }

        /* Typography */
        h1, h2, h3, h4 {
            font-family: 'Playfair Display', serif;
            font-weight: 700;
            margin-bottom: 1rem;
            color: var(--gold);
        }

        h1 {
            font-size: 3.5rem;
            text-align: center;
            margin: 2rem 0;
            text-shadow: 0 0 10px rgba(255, 210, 142, 0.5);
        }

        h2 {
            font-size: 2.5rem;
            margin-top: 2rem;
            border-bottom: 1px solid var(--gold-medium);
            padding-bottom: 0.5rem;
        }

        h3 {
            font-size: 1.8rem;
            margin-top: 1.5rem;
        }

        p {
            margin-bottom: 1.5rem;
            font-size: 1.1rem;
            color: rgba(255, 255, 255, 0.9);
        }

        .mono {
            font-family: 'JetBrains Mono', monospace;
            font-size: 0.9em;
        }

        .highlight {
            color: var(--gold);
            font-weight: 600;
        }

        /* Layout */
        .container {
            max-width: 1200px;
            margin: 0 auto;
            padding: 2rem;
            position: relative;
            z-index: 1;
        }

        .quote {
            font-style: italic;
            padding: 1.5rem;
            margin: 1rem 0;
            position: relative;
            background: var(--panel-bg);
            backdrop-filter: blur(8px);
            border-radius: 10px;
            border: var(--panel-border);
            box-shadow: var(--panel-shadow);
        }

        .quote::before {
            content: '"';
            font-size: 4rem;
            position: absolute;
            left: 0.5rem;
            top: -0.5rem;
            color: var(--gold);
            opacity: 0.4;
        }

        /* Glassmorphism panels */
        .panel {
            background: var(--panel-bg);
            backdrop-filter: blur(8px);
            border-radius: 10px;
            border: var(--panel-border);
            padding: 2rem;
            margin: 2rem 0;
            box-shadow: var(--panel-shadow);
        }

        .info-box {
            background: var(--panel-bg);
            backdrop-filter: blur(4px);
            border-radius: 8px;
            border: var(--panel-border);
            padding: 1rem;
            margin: 1rem 0;
            font-family: 'JetBrains Mono', monospace;
            font-size: 0.9rem;
        }

        /* Navigation */
        nav {
            position: sticky;
            top: 0;
            background: rgba(3, 3, 5, 0.8);
            backdrop-filter: blur(10px);
            z-index: 100;
            border-bottom: var(--panel-border);
            padding: 1rem 0;
        }

        .nav-container {
            display: flex;
            justify-content: center;
            max-width: 1200px;
            margin: 0 auto;
        }

        nav a {
            color: white;
            text-decoration: none;
            padding: 0.5rem 1rem;
            margin: 0 0.5rem;
            border-radius: 5px;
            transition: all 0.3s ease;
        }

        nav a:hover {
            background: var(--gold-light);
            color: var(--gold);
        }

        /* Interactive elements */
        .interactive-section {
            margin: 4rem 0;
        }

        .control-row {
            display: flex;
            flex-wrap: wrap;
            gap: 1rem;
            margin: 1.5rem 0;
        }

        .control-group {
            flex: 1;
            min-width: 300px;
        }

        .slider-container {
            margin-bottom: 1.5rem;
        }

        .slider-label {
            display: flex;
            justify-content: space-between;
            margin-bottom: 0.5rem;
        }

        .slider-label .value {
            color: var(--gold);
            font-family: 'JetBrains Mono', monospace;
        }

        input[type="range"] {
            width: 100%;
            background: var(--gold-light);
            height: 8px;
            border-radius: 4px;
            -webkit-appearance: none;
        }

        input[type="range"]::-webkit-slider-thumb {
            -webkit-appearance: none;
            width: 20px;
            height: 20px;
            background: var(--gold);
            border-radius: 50%;
            cursor: pointer;
        }

        button {
            background: var(--gold-light);
            border: 1px solid var(--gold);
            color: var(--gold);
            font-family: 'JetBrains Mono', monospace;
            padding: 0.75rem 1.5rem;
            border-radius: 5px;
            cursor: pointer;
            transition: all 0.3s ease;
            font-size: 1rem;
        }

        button:hover {
            background: var(--gold-medium);
            color: var(--dark-bg);
        }

        #universe-zoom {
            position: relative;
            height: 600px;
            overflow: hidden;
            background: black;
            border-radius: 10px;
            border: var(--panel-border);
        }

        #zoom-canvas {
            position: absolute;
            width: 100%;
            height: 100%;
        }

        #zoom-info {
            position: absolute;
            bottom: 20px;
            left: 20px;
            background: rgba(0, 0, 0, 0.7);
            padding: 1rem;
            border-radius: 5px;
            border: var(--panel-border);
            font-family: 'JetBrains Mono', monospace;
            color: var(--gold);
            max-width: 300px;
        }

        #zoom-controls {
            position: absolute;
            bottom: 20px;
            right: 20px;
            display: flex;
            gap: 0.5rem;
        }

        #radio-bubble {
            position: relative;
            height: 500px;
            background: black;
            border-radius: 10px;
            border: var(--panel-border);
        }

        #radio-canvas {
            position: absolute;
            width: 100%;
            height: 100%;
        }

        #filter-position {
            position: relative;
            height: 300px;
            background: var(--panel-bg);
            border-radius: 10px;
            border: var(--panel-border);
            margin: 2rem 0;
            padding: 1rem;
            overflow: hidden;
        }

        #filter-canvas {
            position: absolute;
            width: 100%;
            height: 100%;
            top: 0;
            left: 0;
        }

        #filter-controls {
            position: absolute;
            bottom: 20px;
            width: 90%;
            left: 5%;
            background: rgba(0, 0, 0, 0.7);
            padding: 1rem;
            border-radius: 5px;
        }

        .result-panel {
            background: var(--panel-bg);
            border-radius: 8px;
            border: var(--panel-border);
            padding: 1.5rem;
            margin-top: 1rem;
            display: none;
        }

        #drake-result {
            font-size: 2rem;
            text-align: center;
            color: var(--gold);
        }

        /* Quiz styles */
        .quiz-container {
            margin-top: 2rem;
        }

        .question {
            margin-bottom: 2rem;
            display: none;
        }

        .question.active {
            display: block;
        }

        .options {
            display: grid;
            grid-template-columns: 1fr;
            gap: 1rem;
            margin: 1rem 0;
        }

        .option {
            background: var(--panel-bg);
            border: var(--panel-border);
            padding: 1rem;
            border-radius: 5px;
            cursor: pointer;
            transition: all 0.3s ease;
        }

        .option:hover {
            border-color: var(--gold);
            background: rgba(15, 15, 25, 0.9);
        }

        .option.selected {
            border-color: var(--gold);
            background: var(--gold-light);
        }

        .quiz-controls {
            display: flex;
            justify-content: space-between;
            margin-top: 1.5rem;
        }

        .quiz-result {
            text-align: center;
            margin-top: 2rem;
            display: none;
        }

        /* Media queries */
        @media (max-width: 768px) {
            h1 {
                font-size: 2.5rem;
            }
            
            h2 {
                font-size: 2rem;
            }
            
            .control-group {
                min-width: 100%;
            }
            
            #universe-zoom,
            #radio-bubble {
                height: 400px;
            }
            
            .nav-container {
                flex-wrap: wrap;
            }
        }

        /* Animations */
        @keyframes fadeIn {
            from { opacity: 0; }
            to { opacity: 1; }
        }

        .animate-fade {
            animation: fadeIn 1s ease-out;
        }

        .pulse {
            animation: pulse 2s infinite;
        }

        @keyframes pulse {
            0% { transform: scale(1); }
            50% { transform: scale(1.05); }
            100% { transform: scale(1); }
        }

        /* Scrollbar customization */
        ::-webkit-scrollbar {
            width: 10px;
        }

        ::-webkit-scrollbar-track {
            background: rgba(3, 3, 5, 0.8);
        }

        ::-webkit-scrollbar-thumb {
            background: var(--gold-light);
            border-radius: 5px;
        }

        ::-webkit-scrollbar-thumb:hover {
            background: var(--gold-medium);
        }
    </style>
</head>
<body>
    <!-- Starfield background -->
    <canvas id="starfield"></canvas>
    
    <nav>
        <div class="nav-container">
            <a href="#intro">Introduction</a>
            <a href="#scale">Scale of Universe</a>
            <a href="#drake">Drake Equation</a>
            <a href="#theories">Theories</a>
            <a href="#radio">Radio Bubble</a>
            <a href="#filter">Great Filter</a>
            <a href="#quiz">Quiz</a>
        </div>
    </nav>
    
    <div class="container">
        <header>
            <h1 id="intro">The Fermi Paradox</h1>
            <div class="quote">
                <p>"Where is everybody?" — Enrico Fermi, 1950</p>
            </div>
        </header>
        
        <section class="panel animate-fade">
            <h2>Introduction: The Great Silence</h2>
            <p>The Fermi Paradox is the apparent contradiction between:</p>
            <div class="info-box">
                <p><span class="highlight">High probability of extraterrestrial civilizations</span> — Given the vastness of the universe with its <span class="mono">2 trillion</span> galaxies containing approximately <span class="mono">700 sextillion</span> stars</p>
                <p><span class="highlight">vs.</span></p>
                <p><span class="highlight">Lack of evidence for, or contact with, such civilizations</span> — Despite our searches, we've found no clear signs of intelligent alien life</p>
            </div>
            
            <p>In 1950, physicist Enrico Fermi posed a deceptively simple question during a lunch with colleagues: "Where is everybody?" This question encapsulates what we now call the Fermi Paradox. If the universe is so vast and potentially full of life, why haven't we detected any signals or evidence of other civilizations?</p>
            
            <p>The paradox becomes even more puzzling when we consider the scales involved:</p>
            <ul>
                <li>Our Milky Way galaxy contains between <span class="mono">100-400 billion</span> stars</li>
                <li>The observable universe contains approximately <span class="mono">2 trillion</span> galaxies</li>
                <li>That's roughly <span class="mono">700,000,000,000,000,000,000,000</span> (700 sextillion) stars</li>
                <li>Many of these stars host planets in their habitable zones</li>
                <li>Earth is a relatively young planet in cosmic terms</li>
            </ul>
            
            <p>Given these numbers, even if the probability of life evolving is extremely low, we would still expect countless other civilizations to exist. So why the silence? The solutions to this paradox range from sobering to hopeful, from terrifying to awe-inspiring.</p>
        </section>
        
        <section id="scale" class="interactive-section">
            <h2>The Scale of the Universe</h2>
            <p>To truly understand the Fermi Paradox, we must grasp the incomprehensible scale of the universe. Explore from Earth to the edge of the observable universe:</p>
            
            <div id="universe-zoom" class="panel">
                <canvas id="zoom-canvas"></canvas>
                <div id="zoom-info">
                    <h4>Location: Earth</h4>
                    <p>Scale: 1x</p>
                </div>
                <div id="zoom-controls">
                    <button id="zoom-out">Zoom Out</button>
                    <button id="zoom-in">Zoom In</button>
                    <button id="auto-journey">Journey Through Space</button>
                </div>
            </div>
            
            <p>Our cosmic address begins in San Diego, then Earth, Solar System, Local Interstellar Cloud, Local Bubble, Orion Arm, Milky Way, Local Group, Virgo Supercluster, Laniakea Supercluster, Observable Universe. Our 100-year-old radio bubble is invisibly small on this scale.</p>
        </section>
        
        <section id="drake" class="interactive-section">
            <h2>The Drake Equation: Quantifying the Paradox</h2>
            <p>In 1961, astronomer Frank Drake created an equation to estimate the number of active, communicative extraterrestrial civilizations in our galaxy. The Drake Equation provides a framework for understanding the factors that would determine the number of such civilizations.</p>
            
            <div class="panel">
                <h3>N = R<sub>*</sub> × f<sub>p</sub> × n<sub>e</sub> × f<sub>l</sub> × f<sub>i</sub> × f<sub>c</sub> × L</h3>
                
                <p>Where:</p>
                <ul>
                    <li><strong>N</strong> = The number of civilizations in our galaxy with which communication might be possible</li>
                    <li><strong>R<sub>*</sub></strong> = The rate of formation of stars suitable for the development of intelligent life</li>
                    <li><strong>f<sub>p</sub></strong> = The fraction of those stars with planetary systems</li>
                    <li><strong>n<sub>e</sub></strong> = The number of planets per solar system with an environment suitable for life</li>
                    <li><strong>f<sub>l</sub></strong> = The fraction of suitable planets on which life actually appears</li>
                    <li><strong>f<sub>i</sub></strong> = The fraction of life-bearing planets on which intelligent life emerges</li>
                    <li><strong>f<sub>c</sub></strong> = The fraction of civilizations that develop technology that releases detectable signs of their existence</li>
                    <li><strong>L</strong> = The length of time such civilizations release detectable signals</li>
                </ul>
                
                <div class="control-row">
                    <div class="control-group">
                        <div class="slider-container">
                            <div class="slider-label">
                                <span>Star formation rate (R<sub>*</sub>)</span>
                                <span class="value" id="r-stars-value">1.5</span>
                            </div>
                            <input type="range" id="r-stars" min="0.1" max="10" step="0.1" value="1.5">
                        </div>
                        
                        <div class="slider-container">
                            <div class="slider-label">
                                <span>Fraction with planets (f<sub>p</sub>)</span>
                                <span class="value" id="f-planets-value">0.9</span>
                            </div>
                            <input type="range" id="f-planets" min="0" max="1" step="0.01" value="0.9">
                        </div>
                        
                        <div class="slider-container">
                            <div class="slider-label">
                                <span>Habitable planets per system (n<sub>e</sub>)</span>
                                <span class="value" id="n-earthlike-value">0.4</span>
                            </div>
                            <input type="range" id="n-earthlike" min="0" max="5" step="0.1" value="0.4">
                        </div>
                        
                        <div class="slider-container">
                            <div class="slider-label">
                                <span>Fraction developing life (f<sub>l</sub>)</span>
                                <span class="value" id="f-life-value">0.1</span>
                            </div>
                            <input type="range" id="f-life" min="0" max="1" step="0.01" value="0.1">
                        </div>
                    </div>
                    
                    <div class="control-group">
                        <div class="slider-container">
                            <div class="slider-label">
                                <span>Fraction developing intelligence (f<sub>i</sub>)</span>
                                <span class="value" id="f-intelligence-value">0.1</span>
                            </div>
                            <input type="range" id="f-intelligence" min="0" max="1" step="0.01" value="0.1">
                        </div>
                        
                        <div class="slider-container">
                            <div class="slider-label">
                                <span>Fraction communicating (f<sub>c</sub>)</span>
                                <span class="value" id="f-communicate-value">0.1</span>
                            </div>
                            <input type="range" id="f-communicate" min="0" max="1" step="0.01" value="0.1">
                        </div>
                        
                        <div class="slider-container">
                            <div class="slider-label">
                                <span>Civilization longevity in years (L)</span>
                                <span class="value" id="l-years-value">10000</span>
                            </div>
                            <input type="range" id="l-years" min="100" max="1000000" step="100" value="10000">
                        </div>
                    </div>
                </div>
                
                <button id="calculate-drake">Calculate</button>
                
                <div class="result-panel" id="drake-equation-result">
                    <p>Based on your parameters, the Drake Equation estimates:</p>
                    <h3 id="drake-result">0 civilizations</h3>
                    <p id="drake-interpretation"></p>
                </div>
            </div>
        </section>
        
        <section id="theories" class="panel">
            <h2>Potential Explanations</h2>
            
            <h3>The Great Filter</h3>
            <p>The Great Filter theory suggests there's a barrier that prevents life from evolving to the point where it becomes a space-faring civilization. The crucial question is: where is this filter in our evolutionary timeline?</p>
            
            <div class="info-box">
                <p><span class="highlight">Are we past the Great Filter?</span> Perhaps the emergence of complex life is extraordinarily rare, and Earth is one of the few places that has passed this filter.</p>
                <p><span class="highlight">Or is it ahead of us?</span> Perhaps many civilizations reach our current stage, but something prevents them from expanding into space — nuclear war, climate catastrophe, artificial intelligence gone awry, or some unknown threat.</p>
            </div>
            
            <h3>The Zoo Hypothesis</h3>
            <p>The Zoo Hypothesis proposes that advanced alien civilizations are aware of us but deliberately avoid contact — similar to how we might observe animals in a zoo without interfering with their natural development.</p>
            
            <p>This could be for our protection, their ethical principles, or to observe our natural evolution as a scientific study. Perhaps there's a "galactic quarantine" around Earth until we reach a certain threshold of development.</p>
            
            <h3>The Dark Forest Theory</h3>
            <p>Popularized by Chinese science fiction author Liu Cixin in "The Three-Body Problem" trilogy, the Dark Forest Theory suggests that all civilizations are potential threats to one another.</p>
            
            <div class="info-box">
                <p>In a universe where:</p>
                <ol>
                    <li>All life desires to survive</li>
                    <li>Resources are finite</li>
                    <li>There's no way to know if other civilizations are benign or hostile</li>
                    <li>When civilizations meet, the safest action is to destroy the other before they might destroy you</li>
                </ol>
                <p>The result: intelligent life stays quiet and hidden, like hunters in a dark forest, afraid to reveal their positions.</p>
            </div>
            
            <h3>The Kardashev Scale: Civilizational Advancement</h3>
            <p>Proposed by Russian astrophysicist Nikolai Kardashev, this scale classifies civilizations by their energy usage:</p>
            
            <div class="control-row">
                <div class="control-group">
                    <div class="info-box">
                        <h4>Type I Civilization</h4>
                        <p>Can use and store all the energy available on its home planet. Humanity is currently at ~0.73 on this scale.</p>
                    </div>
                </div>
                
                <div class="control-group">
                    <div class="info-box">
                        <h4>Type II Civilization</h4>
                        <p>Can harness the entire energy output of its host star (e.g., via a Dyson sphere).</p>
                    </div>
                </div>
                
                <div class="control-group">
                    <div class="info-box">
                        <h4>Type III Civilization</h4>
                        <p>Can control energy at the scale of its entire galaxy.</p>
                    </div>
                </div>
            </div>
            
            <p>Perhaps the truly advanced civilizations in our universe have moved beyond our ability to detect or comprehend them, utilizing physics and technology we don't yet understand.</p>
        </section>
        
        <section id="radio" class="interactive-section">
            <h2>Our Radio Bubble</h2>
            <p>Since the early 20th century, humans have been broadcasting radio signals into space. These signals propagate outward at the speed of light, creating a sphere of human electromagnetic emissions.</p>
            
            <div class="panel">
                <div id="radio-bubble">
                    <canvas id="radio-canvas"></canvas>
                </div>
                <div class="info-box">
                    <p>Our first powerful radio broadcasts began around 100 years ago. This means our radio signals have only traveled about <span class="mono">100 light-years</span> in all directions.</p>
                    <p>The Milky Way is about <span class="mono">100,000 light-years</span> across.</p>
                    <p>So our signals have reached less than <span class="mono">0.1%</span> of our galaxy — a tiny bubble in cosmic terms.</p>
                    <p>And even within this bubble, our earliest signals have likely degraded to become indistinguishable from background noise.</p>
                </div>
            </div>
        </section>
        
        <section id="filter" class="interactive-section">
            <h2>The Great Filter: Where Is It?</h2>
            <p>Where might the Great Filter lie in the developmental timeline of life? Use the slider to position the filter and see the implications:</p>
            
            <div id="filter-position">
                <canvas id="filter-canvas"></canvas>
                
                <div id="filter-controls">
                    <input type="range" id="filter-slider" min="1" max="10" step="1" value="6">
                    <div class="slider-label">
                        <span>Before Us</span>
                        <span>After Us</span>
                    </div>
                </div>
            </div>
            
            <div class="info-box">
                <h4>Stages of Development:</h4>
                <ol>
                    <li>Suitable star system formation</li>
                    <li>Stable, habitable planets</li>
                    <li>Emergence of simple life (abiogenesis)</li>
                    <li>Evolution of complex, multicellular life</li>
                    <li>Development of advanced intelligence and tool use</li>
                    <li>Formation of technological civilization (where we are now)</li>
                    <li>Long-term survival of technological civilization</li>
                    <li>Interstellar exploration capability</li>
                    <li>Galactic colonization</li>
                    <li>Universe-spanning super-civilization</li>
                </ol>
            </div>
            
            <div class="result-panel" id="filter-result">
                <h3 id="filter-position-text">The Great Filter is just ahead of us</h3>
                <p id="filter-implication">This suggests many civilizations reach our current stage but fail to become truly interstellar. This is a concerning position, as it implies humanity faces major challenges that most civilizations don't survive.</p>
            </div>
        </section>
        
        <section id="quiz" class="interactive-section">
            <h2>Test Your Knowledge: The Fermi Paradox Quiz</h2>
            
            <div class="panel">
                <div class="quiz-container">
                    <div class="question active" data-question="1">
                        <h3>Question 1: Who asked "Where is everybody?"</h3>
                        <div class="options">
                            <div class="option" data-correct="true">Enrico Fermi</div>
                            <div class="option">Frank Drake</div>
                            <div class="option">Carl Sagan</div>
                            <div class="option">Stephen Hawking</div>
                        </div>
                    </div>
                    
                    <div class="question" data-question="2">
                        <h3>Question 2: Approximately how many galaxies are in the observable universe?</h3>
                        <div class="options">
                            <div class="option">Millions</div>
                            <div class="option">Billions</div>
                            <div class="option" data-correct="true">Trillions</div>
                            <div class="option">Quadrillions</div>
                        </div>
                    </div>
                    
                    <div class="question" data-question="3">
                        <h3>Question 3: Which of these is NOT a proposed solution to the Fermi Paradox?</h3>
                        <div class="options">
                            <div class="option">The Great Filter</div>
                            <div class="option">The Zoo Hypothesis</div>
                            <div class="option">The Dark Forest Theory</div>
                            <div class="option" data-correct="true">The Quantum Consciousness Theory</div>
                        </div>
                    </div>
                    
                    <div class="question" data-question="4">
                        <h3>Question 4: A Type II Kardashev civilization can harness the energy of:</h3>
                        <div class="options">
                            <div class="option">Its planet</div>
                            <div class="option" data-correct="true">Its star</div>
                            <div class="option">Its galaxy</div>
                            <div class="option">Multiple galaxies</div>
                        </div>
                    </div>
                    
                    <div class="question" data-question="5">
                        <h3>Question 5: How far have human radio signals traveled into space?</h3>
                        <div class="options">
                            <div class="option" data-correct="true">About 100 light-years</div>
                            <div class="option">About 1,000 light-years</div>
                            <div class="option">About 10,000 light-years</div>
                            <div class="option">Throughout the entire Milky Way</div>
                        </div>
                    </div>
                    
                    <div class="quiz-controls">
                        <button id="prev-question" disabled>Previous</button>
                        <span id="question-counter">Question 1 of 5</span>
                        <button id="next-question">Next</button>
                    </div>
                    
                    <div class="quiz-result">
                        <h3>Quiz Complete!</h3>
                        <p>Your score: <span id="quiz-score">0</span>/5</p>
                        <p id="quiz-message"></p>
                        <button id="restart-quiz">Try Again</button>
                    </div>
                </div>
            </div>
        </section>
        
        <footer class="panel">
            <h3>Final Thoughts: The Silence Continues</h3>
            <p>The Fermi Paradox remains one of the most profound puzzles in our understanding of the cosmos. As we continue to search the skies with increasingly sophisticated technology, the silence grows more deafening—and more meaningful.</p>
            
            <p>Perhaps we are alone. Perhaps we are not. Either possibility is equally awe-inspiring and terrifying, as Arthur C. Clarke noted. The true answer may be beyond our current comprehension, or it may be staring us in the face.</p>
            
            <p>What do you think? Where is everybody?</p>
            
            <p class="mono" style="text-align: center; margin-top: 2rem;">© 2026 · Justin Hart · <span class="highlight">justinhart.biz</span></p>
        </footer>
    </div>
    
    <script>
        // Starfield background
        (function createStarfield() {
            const canvas = document.getElementById('starfield');
            const ctx = canvas.getContext('2d');
            let width, height;
            
            // Stars array
            const stars = [];
            const shootingStars = [];
            const starCount = 400;
            const shootingStarChance = 0.03; // Chance per frame
            
            function resizeCanvas() {
                width = window.innerWidth;
                height = window.innerHeight;
                canvas.width = width;
                canvas.height = height;
                
                // Recreate stars when resized
                stars.length = 0;
                createStars();
            }
            
            function createStars() {
                for (let i = 0; i < starCount; i++) {
                    stars.push({
                        x: Math.random() * width,
                        y: Math.random() * height,
                        r: Math.random() * 1.5 + 0.5,
                        color: `rgba(255, ${Math.floor(200 + Math.random() * 55)}, ${Math.floor(180 + Math.random() * 75)}, ${Math.random() * 0.8 + 0.2})`,
                        speed: Math.random() * 0.05,
                        angle: Math.random() * Math.PI * 2,
                        twinkleSpeed: 0.01 + Math.random() * 0.03,
                        twinklePhase: Math.random() * Math.PI * 2
                    });
                }
            }
            
            function createShootingStar() {
                if (Math.random() < shootingStarChance) {
                    const angle = Math.random() * Math.PI / 4 - Math.PI / 8;
                    shootingStars.push({
                        x: Math.random() * width,
                        y: Math.random() * height / 3,
                        length: 50 + Math.random() * 80,
                        speed: 5 + Math.random() * 10,
                        angle: angle,
                        color: `rgba(255, ${Math.floor(210 + Math.random() * 45)}, 150, 0.8)`,
                        decay: 0.01 + Math.random() * 0.02
                    });
                }
            }
            
            function updateStars() {
                for (let i = 0; i < stars.length; i++) {
                    const star = stars[i];
                    star.twinklePhase += star.twinkleSpeed;
                    // Subtle movement
                    star.x += Math.cos(star.angle) * star.speed;
                    star.y += Math.sin(star.angle) * star.speed;
                    
                    // Wrap around edges
                    if (star.x < 0) star.x = width;
                    if (star.x > width) star.x = 0;
                    if (star.y < 0) star.y = height;
                    if (star.y > height) star.y = 0;
                }
                
                // Update shooting stars
                for (let i = shootingStars.length - 1; i >= 0; i--) {
                    const star = shootingStars[i];
                    star.x += Math.cos(star.angle) * star.speed;
                    star.y += Math.sin(star.angle) * star.speed;
                    star.speed *= 0.98; // Slow down
                    star.length *= 0.98; // Shorten tail
                    
                    if (star.speed < 0.5 || star.x < 0 || star.x > width || star.y < 0 || star.y > height) {
                        shootingStars.splice(i, 1);
                    }
                }
                
                createShootingStar();
            }
            
            function drawStars() {
                ctx.clearRect(0, 0, width, height);
                
                // Draw background gradient
                const gradient = ctx.createLinearGradient(0, 0, 0, height);
                gradient.addColorStop(0, '#070714');
                gradient.addColorStop(1, '#030305');
                ctx.fillStyle = gradient;
                ctx.fillRect(0, 0, width, height);
                
                // Draw stars
                for (let i = 0; i < stars.length; i++) {
                    const star = stars[i];
                    const twinkle = 0.5 + 0.5 * Math.sin(star.twinklePhase);
                    
                    ctx.beginPath();
                    // Parse color to get the base values
                    const colorParts = star.color.match(/rgba?\((\d+),\s*(\d+),\s*(\d+)(?:,\s*([\d.]+))?\)/);
                    if (colorParts) {
                        const r = parseInt(colorParts[1]);
                        const g = parseInt(colorParts[2]);
                        const b = parseInt(colorParts[3]);
                        const a = colorParts[4] ? parseFloat(colorParts[4]) * twinkle : twinkle;
                        ctx.fillStyle = `rgba(${r}, ${g}, ${b}, ${a})`;
                    } else {
                        ctx.fillStyle = star.color;
                    }
                    
                    ctx.arc(star.x, star.y, star.r * twinkle, 0, Math.PI * 2);
                    ctx.fill();
                    
                    // Some stars get a glow
                    if (star.r > 1.2) {
                        ctx.beginPath();
                        const glow = ctx.createRadialGradient(star.x, star.y, 0, star.x, star.y, star.r * 4);
                        glow.addColorStop(0, `rgba(255, 240, 200, ${0.1 * twinkle})`);
                        glow.addColorStop(1, 'rgba(255, 240, 200, 0)');
                        ctx.fillStyle = glow;
                        ctx.arc(star.x, star.y, star.r * 4, 0, Math.PI * 2);
                        ctx.fill();
                    }
                }
                
                // Draw shooting stars
                for (let i = 0; i < shootingStars.length; i++) {
                    const star = shootingStars[i];
                    ctx.strokeStyle = star.color;
                    ctx.lineWidth = 1.5;
                    ctx.beginPath();
                    ctx.moveTo(star.x, star.y);
                    ctx.lineTo(star.x - Math.cos(star.angle) * star.length, 
                               star.y - Math.sin(star.angle) * star.length);
                    ctx.stroke();
                    
                    // Head glow
                    ctx.beginPath();
                    const glow = ctx.createRadialGradient(star.x, star.y, 0, star.x, star.y, 3);
                    glow.addColorStop(0, 'rgba(255, 240, 200, 0.8)');
                    glow.addColorStop(1, 'rgba(255, 240, 200, 0)');
                    ctx.fillStyle = glow;
                    ctx.arc(star.x, star.y, 3, 0, Math.PI * 2);
                    ctx.fill();
                }
            }
            
            function animate() {
                updateStars();
                drawStars();
                requestAnimationFrame(animate);
            }
            
            window.addEventListener('resize', resizeCanvas);
            resizeCanvas(); // Initial setup
            animate(); // Start the animation loop
        })();

        // Scale of the Universe interactive zoom
        (function setupUniverseZoom() {
            const canvas = document.getElementById('zoom-canvas');
            const ctx = canvas.getContext('2d');
            const infoElement = document.getElementById('zoom-info');
            const zoomInBtn = document.getElementById('zoom-in');
            const zoomOutBtn = document.getElementById('zoom-out');
            const autoJourneyBtn = document.getElementById('auto-journey');
            
            let width, height;
            let zoomLevel = 0; // 0 = Earth, 10 = Observable Universe
            let autoZooming = false;
            let targetZoom = 0;
            
            const scaleLabels = [
                { scale: "Earth - San Diego", description: "Our starting point on planet Earth", size: "12,742 km diameter" },
                { scale: "Earth-Moon System", description: "Our planet and its natural satellite", size: "384,400 km apart" },
                { scale: "Inner Solar System", description: "Mercury, Venus, Earth, Mars", size: "~2 AU across" },
                { scale: "Solar System", description: "Our star and its planets", size: "~80 AU across" },
                { scale: "Local Interstellar Neighborhood", description: "Nearest stars to our Sun", size: "~15 light-years" },
                { scale: "Local Bubble", description: "Cavity in the interstellar medium", size: "~300 light-years" },
                { scale: "Orion Arm", description: "Our spiral arm in the Milky Way", size: "~10,000 light-years" },
                { scale: "Milky Way Galaxy", description: "Our spiral galaxy", size: "~100,000 light-years" },
                { scale: "Local Group", description: "Cluster of ~54 galaxies including Milky Way", size: "~10 million light-years" },
                { scale: "Virgo Supercluster", description: "Collection of galaxy clusters", size: "~110 million light-years" },
                { scale: "Observable Universe", description: "Everything we can theoretically see", size: "~93 billion light-years" }
            ];
            
            function resizeCanvas() {
                width = canvas.parentElement.offsetWidth;
                height = canvas.parentElement.offsetHeight;
                canvas.width = width;
                canvas.height = height;
                drawCurrentZoom();
            }
            
            function drawCurrentZoom() {
                const intZoom = Math.floor(zoomLevel);
                const fraction = zoomLevel - intZoom;
                
                ctx.clearRect(0, 0, width, height);
                
                // Black space background
                ctx.fillStyle = 'black';
                ctx.fillRect(0, 0, width, height);
                
                // Draw stars with density based on zoom level
                drawStarsForZoom(zoomLevel);
                
                // Draw the main object based on zoom level
                switch(intZoom) {
                    case 0: // Earth
                        drawEarth(fraction);
                        break;
                    case 1: // Earth-Moon
                        drawEarthMoon(fraction);
                        break;
                    case 2: // Inner Solar System
                        drawInnerSolar(fraction);
                        break;
                    case 3: // Solar System
                        drawSolarSystem(fraction);
                        break;
                    case 4: // Local stars
                        drawLocalStars(fraction);
                        break;
                    case 5: // Local Bubble
                        drawLocalBubble(fraction);
                        break;
                    case 6: // Orion Arm
                        drawOrionArm(fraction);
                        break;
                    case 7: // Milky Way
                        drawMilkyWay(fraction);
                        break;
                    case 8: // Local Group
                        drawLocalGroup(fraction);
                        break;
                    case 9: // Virgo Supercluster
                        drawVirgoSupercluster(fraction);
                        break;
                    case 10: // Observable Universe
                        drawObservableUniverse(fraction);
                        break;
                }
                
                // Update info display
                updateInfo();
            }
            
            function drawStarsForZoom(level) {
                const starCount = Math.min(3000, Math.pow(2, level) * 20);
                
                for (let i = 0; i < starCount; i++) {
                    const x = Math.random() * width;
                    const y = Math.random() * height;
                    const size = Math.random() * 1.5 + 0.2;
                    
                    ctx.beginPath();
                    ctx.fillStyle = `rgba(255, ${200 + Math.random() * 55}, ${180 + Math.random() * 75}, ${0.2 + Math.random() * 0.8})`;
                    ctx.arc(x, y, size, 0, Math.PI * 2);
                    ctx.fill();
                }
            }
            
            // Drawing functions for each scale
            function drawEarth(fraction) {
                const earthRadius = 100 - fraction * 30;
                const centerX = width / 2;
                const centerY = height / 2;
                
                // Earth
                const earthGradient = ctx.createRadialGradient(centerX, centerY, 0, centerX, centerY, earthRadius);
                earthGradient.addColorStop(0, '#1E3D7B');
                earthGradient.addColorStop(0.5, '#36788E');
                earthGradient.addColorStop(1, '#2E5D8C');
                
                ctx.beginPath();
                ctx.fillStyle = earthGradient;
                ctx.arc(centerX, centerY, earthRadius, 0, Math.PI * 2);
                ctx.fill();
                
                // Land masses (simplified)
                ctx.fillStyle = '#5A8D5F';
                
                // North America
                ctx.beginPath();
                ctx.ellipse(centerX - 30, centerY - 20, earthRadius * 0.2, earthRadius * 0.3, 0.2, 0, Math.PI * 2);
                ctx.fill();
                
                // South America
                ctx.beginPath();
                ctx.ellipse(centerX - 10, centerY + 30, earthRadius * 0.15, earthRadius * 0.25, 0.5, 0, Math.PI * 2);
                ctx.fill();
                
                // Africa/Europe
                ctx.beginPath();
                ctx.ellipse(centerX + 20, centerY - 10, earthRadius * 0.25, earthRadius * 0.4, 0.3, 0, Math.PI * 2);
                ctx.fill();
                
                // Asia/Australia
                ctx.beginPath();
                ctx.ellipse(centerX + 40, centerY + 20, earthRadius * 0.3, earthRadius * 0.2, 0.1, 0, Math.PI * 2);
                ctx.fill();
                
                // Point for San Diego
                ctx.beginPath();
                ctx.fillStyle = '#FFD28E';
                ctx.arc(centerX - 40, centerY - 30, 3, 0, Math.PI * 2);
                ctx.fill();
                
                // Label for San Diego
                ctx.font = '14px "JetBrains Mono", monospace';
                ctx.fillStyle = '#FFD28E';
                ctx.fillText('San Diego', centerX - 35, centerY - 40);
                
                // Radio bubble (100 light years)
                // At Earth scale, this would be microscopic
                if (fraction > 0.7) {
                    const bubbleOpacity = (fraction - 0.7) / 0.3;
                    ctx.beginPath();
                    ctx.strokeStyle = `rgba(65, 190, 255, ${bubbleOpacity})`;
                    ctx.lineWidth = 2;
                    ctx.arc(centerX, centerY, 5, 0, Math.PI * 2);
                    ctx.stroke();
                }
            }
            
            function drawEarthMoon(fraction) {
                const centerX = width / 2;
                const centerY = height / 2;
                const earthRadius = 40 - fraction * 20;
                const moonRadius = 10 - fraction * 5;
                const distance = 120 - fraction * 60;
                
                // Earth
                ctx.beginPath();
                ctx.fillStyle = '#2E5D8C';
                ctx.arc(centerX - distance/2, centerY, earthRadius, 0, Math.PI * 2);
                ctx.fill();
                
                // Moon
                ctx.beginPath();
                ctx.fillStyle = '#D6D6D6';
                ctx.arc(centerX + distance/2, centerY, moonRadius, 0, Math.PI * 2);
                ctx.fill();
                
                // Radio bubble (100 light years)
                // Still tiny at this scale
                ctx.beginPath();
                ctx.strokeStyle = 'rgba(65, 190, 255, 0.5)';
                ctx.lineWidth = 2;
                ctx.arc(centerX - distance/2, centerY, 2, 0, Math.PI * 2);
                ctx.stroke();
            }
            
            function drawInnerSolar(fraction) {
                const centerX = width / 2;
                const centerY = height / 2;
                const scale = 1 - fraction * 0.5;
                const sunRadius = 40 * scale;
                
                // Sun
                const sunGradient = ctx.createRadialGradient(centerX, centerY, 0, centerX, centerY, sunRadius);
                sunGradient.addColorStop(0, '#FFF9A6');
                sunGradient.addColorStop(0.8, '#FFC107');
                sunGradient.addColorStop(1, '#FF7B01');
                
                ctx.beginPath();
                ctx.fillStyle = sunGradient;
                ctx.arc(centerX, centerY, sunRadius, 0, Math.PI * 2);
                ctx.fill();
                
                // Glow
                const glowGradient = ctx.createRadialGradient(centerX, centerY, sunRadius, centerX, centerY, sunRadius * 1.5);
                glowGradient.addColorStop(0, 'rgba(255, 180, 0, 0.5)');
                glowGradient.addColorStop(1, 'rgba(255, 180, 0, 0)');
                
                ctx.beginPath();
                ctx.fillStyle = glowGradient;
                ctx.arc(centerX, centerY, sunRadius * 1.5, 0, Math.PI * 2);
                ctx.fill();
                
                // Planets
                drawOrbit(centerX, centerY, 80 * scale, 'rgba(200, 200, 200, 0.2)');
                drawPlanet(centerX, centerY, 80 * scale, 0, 3 * scale, '#A57655'); // Mercury
                
                drawOrbit(centerX, centerY, 120 * scale, 'rgba(200, 200, 200, 0.2)');
                drawPlanet(centerX, centerY, 120 * scale, 0.3, 6 * scale, '#E3BB76'); // Venus
                
                drawOrbit(centerX, centerY, 160 * scale, 'rgba(200, 200, 200, 0.2)');
                drawPlanet(centerX, centerY, 160 * scale, 0.6, 6 * scale, '#2E5D8C'); // Earth
                
                drawOrbit(centerX, centerY, 200 * scale, 'rgba(200, 200, 200, 0.2)');
                drawPlanet(centerX, centerY, 200 * scale, 0.9, 5 * scale, '#CB5C4B'); // Mars
                
                // Radio bubble - still tiny
                const earthPos = getOrbitPosition(centerX, centerY, 160 * scale, 0.6);
                ctx.beginPath();
                ctx.strokeStyle = 'rgba(65, 190, 255, 0.5)';
                ctx.lineWidth = 2;
                ctx.arc(earthPos.x, earthPos.y, 4 * scale, 0, Math.PI * 2);
                ctx.stroke();
            }
            
            function drawSolarSystem(fraction) {
                const centerX = width / 2;
                const centerY = height / 2;
                const scale = 0.5 - fraction * 0.3;
                const sunRadius = 20 * scale;
                
                // Sun
                const sunGradient = ctx.createRadialGradient(centerX, centerY, 0, centerX, centerY, sunRadius);
                sunGradient.addColorStop(0, '#FFF9A6');
                sunGradient.addColorStop(0.8, '#FFC107');
                sunGradient.addColorStop(1, '#FF7B01');
                
                ctx.beginPath();
                ctx.fillStyle = sunGradient;
                ctx.arc(centerX, centerY, sunRadius, 0, Math.PI * 2);
                ctx.fill();
                
                // Inner planets
                drawOrbit(centerX, centerY, 40 * scale, 'rgba(200, 200, 200, 0.1)');
                drawOrbit(centerX, centerY, 60 * scale, 'rgba(200, 200, 200, 0.1)');
                drawOrbit(centerX, centerY, 80 * scale, 'rgba(200, 200, 200, 0.1)');
                drawOrbit(centerX, centerY, 100 * scale, 'rgba(200, 200, 200, 0.1)');
                
                // Asteroid belt
                drawAsteroidBelt(centerX, centerY, 150 * scale, 30 * scale);
                
                // Outer planets
                drawOrbit(centerX, centerY, 200 * scale, 'rgba(200, 200, 200, 0.1)');
                drawPlanet(centerX, centerY, 200 * scale, 0.2, 10 * scale, '#E0BC95'); // Jupiter
                
                drawOrbit(centerX, centerY, 300 * scale, 'rgba(200, 200, 200, 0.1)');
                drawPlanet(centerX, centerY, 300 * scale, 0.5, 8 * scale, '#C5A880'); // Saturn
                
                drawOrbit(centerX, centerY, 400 * scale, 'rgba(200, 200, 200, 0.1)');
                drawPlanet(centerX, centerY, 400 * scale, 0.7, 7 * scale, '#A7C3E8'); // Uranus
                
                drawOrbit(centerX, centerY, 500 * scale, 'rgba(200, 200, 200, 0.1)');
                drawPlanet(centerX, centerY, 500 * scale, 0.9, 7 * scale, '#5B73A7'); // Neptune
                
                // Kuiper belt
                drawAsteroidBelt(centerX, centerY, 550 * scale, 80 * scale, 0.3);
                
                // Radio bubble - still tiny
                const earthPos = getOrbitPosition(centerX, centerY, 80 * scale, 0.6);
                ctx.beginPath();
                ctx.strokeStyle = 'rgba(65, 190, 255, 0.5)';
                ctx.lineWidth = 2;
                ctx.arc(earthPos.x, earthPos.y, 5, 0, Math.PI * 2);
                ctx.stroke();
            }
            
            function drawLocalStars(fraction) {
                const centerX = width / 2;
                const centerY = height / 2;
                
                // Draw Sun at center
                ctx.beginPath();
                ctx.fillStyle = '#FFC107';
                ctx.arc(centerX, centerY, 8, 0, Math.PI * 2);
                ctx.fill();
                
                // Draw Sun's glow
                const sunGlow = ctx.createRadialGradient(centerX, centerY, 0, centerX, centerY, 20);
                sunGlow.addColorStop(0, 'rgba(255, 193, 7, 0.5)');
                sunGlow.addColorStop(1, 'rgba(255, 193, 7, 0)');
                ctx.beginPath();
                ctx.fillStyle = sunGlow;
                ctx.arc(centerX, centerY, 20, 0, Math.PI * 2);
                ctx.fill();
                
                // Radio bubble around Sun - finally visible!
                ctx.beginPath();
                ctx.strokeStyle = 'rgba(65, 190, 255, 0.7)';
                ctx.lineWidth = 2;
                ctx.arc(centerX, centerY, 15, 0, Math.PI * 2);
                ctx.stroke();
                
                // Nearby stars
                const nearbyStars = [
                    { name: 'Proxima Centauri', distance: 100, size: 3, color: '#FF6B4A' },
                    { name: 'Alpha Centauri A/B', distance: 110, size: 6, color: '#FFD35B' },
                    { name: 'Barnard\'s Star', distance: 150, size: 4, color: '#FF6B4A' },
                    { name: 'Sirius', distance: 200, size: 7, color: '#B6DDFF' },
                    { name: 'Epsilon Eridani', distance: 250, size: 5, color: '#FFD35B' },
                    { name: 'Tau Ceti', distance: 300, size: 5, color: '#FFD35B' },
                    { name: 'YZ Ceti', distance: 330, size: 3, color: '#FF6B4A' },
                    { name: 'Luyten\'s Star', distance: 360, size: 4, color: '#FF8A5B' },
                    { name: 'Teegarden\'s Star', distance: 380, size: 2, color: '#FF6B4A' },
                    { name: 'Wolf 359', distance: 240, size: 3, color: '#FF6B4A' }
                ];
                
                for (const star of nearbyStars) {
                    const angle = Math.random() * Math.PI * 2;
                    const x = centerX + Math.cos(angle) * star.distance * (1 - fraction * 0.5);
                    const y = centerY + Math.sin(angle) * star.distance * (1 - fraction * 0.5);
                    
                    // Star
                    ctx.beginPath();
                    ctx.fillStyle = star.color;
                    ctx.arc(x, y, star.size, 0, Math.PI * 2);
                    ctx.fill();
                    
                    // Glow
                    const glowGradient = ctx.createRadialGradient(x, y, 0, x, y, star.size * 3);
                    glowGradient.addColorStop(0, star.color.replace(')', ', 0.5)').replace('rgb', 'rgba'));
                    glowGradient.addColorStop(1, star.color.replace(')', ', 0)').replace('rgb', 'rgba'));
                    
                    ctx.beginPath();
                    ctx.fillStyle = glowGradient;
                    ctx.arc(x, y, star.size * 3, 0, Math.PI * 2);
                    ctx.fill();
                    
                    if (star.size > 4) {
                        ctx.fillStyle = 'rgba(255, 255, 255, 0.7)';
                        ctx.font = '10px "JetBrains Mono", monospace';
                        ctx.fillText(star.name, x + star.size + 5, y + 3);
                    }
                }
            }
            
            function drawLocalBubble(fraction) {
                const centerX = width / 2;
                const centerY = height / 2;
                const bubbleRadius = width * 0.4 * (1 - fraction * 0.5);
                
                // Local Bubble outline
                ctx.beginPath();
                ctx.strokeStyle = 'rgba(100, 150, 255, 0.3)';
                ctx.lineWidth = 2;
                ctx.arc(centerX, centerY, bubbleRadius, 0, Math.PI * 2);
                ctx.stroke();
                
                // Some gas/dust inside
                for (let i = 0; i < 200; i++) {
                    const angle = Math.random() * Math.PI * 2;
                    const distance = Math.random() * bubbleRadius * 0.9;
                    const x = centerX + Math.cos(angle) * distance;
                    const y = centerY + Math.sin(angle) * distance;
                    const size = Math.random() * 2 + 0.5;
                    
                    ctx.beginPath();
                    ctx.fillStyle = `rgba(100, 150, 255, ${Math.random() * 0.2})`;
                    ctx.arc(x, y, size, 0, Math.PI * 2);
                    ctx.fill();
                }
                
                // Denser gas at the shell
                for (let i = 0; i < 100; i++) {
                    const angle = Math.random() * Math.PI * 2;
                    const distance = bubbleRadius * 0.9 + Math.random() * bubbleRadius * 0.1;
                    const x = centerX + Math.cos(angle) * distance;
                    const y = centerY + Math.sin(angle) * distance;
                    const size = Math.random() * 3 + 1;
                    
                    ctx.beginPath();
                    ctx.fillStyle = `rgba(150, 180, 255, ${Math.random() * 0.3 + 0.1})`;
                    ctx.arc(x, y, size, 0, Math.PI * 2);
                    ctx.fill();
                }
                
                // Our solar system
                ctx.beginPath();
                ctx.fillStyle = '#FFC107';
                ctx.arc(centerX, centerY, 4, 0, Math.PI * 2);
                ctx.fill();
                
                // Radio bubble now visible as a tiny dot
                ctx.beginPath();
                ctx.strokeStyle = 'rgba(65, 190, 255, 0.8)';
                ctx.lineWidth = 2;
                ctx.arc(centerX, centerY, 6, 0, Math.PI * 2);
                ctx.stroke();
                
                // Some nearby star systems
                for (let i = 0; i < 30; i++) {
                    const angle = Math.random() * Math.PI * 2;
                    const distance = Math.random() * bubbleRadius * 0.8;
                    const x = centerX + Math.cos(angle) * distance;
                    const y = centerY + Math.sin(angle) * distance;
                    const size = Math.random() * 2 + 1;
                    
                    ctx.beginPath();
                    ctx.fillStyle = `rgb(${200 + Math.random() * 55}, ${180 + Math.random() * 75}, ${100 + Math.random() * 155})`;
                    ctx.arc(x, y, size, 0, Math.PI * 2);
                    ctx.fill();
                }
            }
            
            function drawOrionArm(fraction) {
                const centerX = width / 2;
                const centerY = height / 2;
                const armLength = width * 0.9 * (1 - fraction * 0.3);
                const armWidth = height * 0.3 * (1 - fraction * 0.3);
                
                // Draw spiral arm shape
                ctx.save();
                ctx.translate(centerX, centerY);
                ctx.rotate(Math.PI * 0.25);
                
                const gradient = ctx.createLinearGradient(-armLength/2, 0, armLength/2, 0);
                gradient.addColorStop(0, 'rgba(100, 150, 255, 0)');
                gradient.addColorStop(0.2, 'rgba(100, 150, 255, 0.2)');
                gradient.addColorStop(0.5, 'rgba(180, 200, 255, 0.3)');
                gradient.addColorStop(0.8, 'rgba(100, 150, 255, 0.2)');
                gradient.addColorStop(1, 'rgba(100, 150, 255, 0)');
                
                // Curved arm
                ctx.beginPath();
                ctx.ellipse(0, 0, armLength/2, armWidth/2, 0, 0, Math.PI * 2);
                ctx.fillStyle = gradient;
                ctx.fill();
                
                // Stars along the arm
                for (let i = 0; i < 200; i++) {
                    const angle = Math.random() * Math.PI * 2;
                    const radial = Math.random() * 0.8 + 0.2; // Keep stars along the arm
                    const x = Math.cos(angle) * armLength/2 * radial;
                    const y = Math.sin(angle) * armWidth/2 * radial;
                    const size = Math.random() * 2 + 1;
                    const brightness = Math.random() * 0.5 + 0.5;
                    
                    ctx.beginPath();
                    ctx.fillStyle = `rgba(${200 + Math.random() * 55}, ${180 + Math.random() * 75}, ${100 + Math.random() * 155}, ${brightness})`;
                    ctx.arc(x, y, size, 0, Math.PI * 2);
                    ctx.fill();
                    
                    // Add glow to some stars
                    if (size > 2) {
                        const glow = ctx.createRadialGradient(x, y, 0, x, y, size * 3);
                        glow.addColorStop(0, `rgba(255, 240, 200, ${0.2 * brightness})`);
                        glow.addColorStop(1, 'rgba(255, 240, 200, 0)');
                        ctx.fillStyle = glow;
                        ctx.beginPath();
                        ctx.arc(x, y, size * 3, 0, Math.PI * 2);
                        ctx.fill();
                    }
                }
                
                // Our position
                ctx.fillStyle = '#FFD28E';
                ctx.beginPath();
                ctx.arc(armLength/4, 0, 5, 0, Math.PI * 2);
                ctx.fill();
                
                // Label
                ctx.fillStyle = '#FFD28E';
                ctx.font = '12px "JetBrains Mono", monospace';
                ctx.fillText('Sun', armLength/4 + 8, 4);
                
                // Radio bubble - barely visible dot
                ctx.strokeStyle = 'rgba(65, 190, 255, 0.8)';
                ctx.lineWidth = 2;
                ctx.beginPath();
                ctx.arc(armLength/4, 0, 2, 0, Math.PI * 2);
                ctx.stroke();
                
                ctx.restore();
            }
            
            function drawMilkyWay(fraction) {
                const centerX = width / 2;
                const centerY = height / 2;
                const galaxyRadius = Math.min(width, height) * 0.45 * (1 - fraction * 0.3);
                
                // Galaxy core
                const coreGradient = ctx.createRadialGradient(centerX, centerY, 0, centerX, centerY, galaxyRadius * 0.2);
                coreGradient.addColorStop(0, 'rgba(255, 240, 180, 0.8)');
                coreGradient.addColorStop(0.5, 'rgba(255, 240, 150, 0.5)');
                coreGradient.addColorStop(1, 'rgba(255, 240, 150, 0)');
                
                ctx.beginPath();
                ctx.fillStyle = coreGradient;
                ctx.arc(centerX, centerY, galaxyRadius * 0.2, 0, Math.PI * 2);
                ctx.fill();
                
                // Draw spiral arms
                for (let arm = 0; arm < 4; arm++) {
                    const startAngle = arm * Math.PI / 2;
                    drawSpiralArm(centerX, centerY, galaxyRadius, startAngle);
                }
                
                // Our position
                const angle = Math.PI * 0.65; // Position in one of the arms
                const distance = galaxyRadius * 0.7;
                const sunX = centerX + Math.cos(angle) * distance;
                const sunY = centerY + Math.sin(angle) * distance;
                
                ctx.fillStyle = '#FFD28E';
                ctx.beginPath();
                ctx.arc(sunX, sunY, 4, 0, Math.PI * 2);
                ctx.fill();
                
                // Label
                ctx.fillStyle = '#FFD28E';
                ctx.font = '12px "JetBrains Mono", monospace';
                ctx.fillText('Sun', sunX + 6, sunY + 4);
                
                // Radio bubble - invisible at this scale
            }
            
            function drawSpiralArm(centerX, centerY, radius, startAngle) {
                ctx.save();
                ctx.translate(centerX, centerY);
                ctx.rotate(startAngle);
                
                const points = 100;
                
                ctx.beginPath();
                ctx.moveTo(0, 0);
                
                const armWidth = radius * 0.15;
                
                // Draw the spiral arm as a path
                for (let i = 0; i < points; i++) {
                    const t = i / (points - 1);
                    const angle = t * Math.PI * 1.5;
                    const distance = t * radius;
                    const x = Math.cos(angle) * distance;
                    const y = Math.sin(angle) * distance;
                    
                    if (i === 0) {
                        ctx.moveTo(x, y);
                    } else {
                        ctx.lineTo(x, y);
                    }
                }
                
                ctx.strokeStyle = 'rgba(180, 200, 255, 0.3)';
                ctx.lineWidth = armWidth;
                ctx.stroke();
                
                // Add stars along the arm
                for (let i = 0; i < 100; i++) {
                    const t = Math.random();
                    const angle = t * Math.PI * 1.5;
                    const distance = t * radius;
                    // Add some randomness to position
                    const offsetAngle = angle + (Math.random() - 0.5) * 0.5;
                    const offsetDistance = distance + (Math.random() - 0.5) * armWidth;
                    const x = Math.cos(offsetAngle) * offsetDistance;
                    const y = Math.sin(offsetAngle) * offsetDistance;
                    
                    const size = Math.random() * 2 + 0.5;
                    
                    ctx.beginPath();
                    ctx.fillStyle = `rgba(${200 + Math.random() * 55}, ${180 + Math.random() * 75}, ${150 + Math.random() * 105}, ${Math.random() * 0.5 + 0.5})`;
                    ctx.arc(x, y, size, 0, Math.PI * 2);
                    ctx.fill();
                    
                    // Add glow to some stars
                    if (size > 1.5) {
                        const glow = ctx.createRadialGradient(x, y, 0, x, y, size * 4);
                        glow.addColorStop(0, 'rgba(255, 240, 200, 0.2)');
                        glow.addColorStop(1, 'rgba(255, 240, 200, 0)');
                        ctx.fillStyle = glow;
                        ctx.beginPath();
                        ctx.arc(x, y, size * 4, 0, Math.PI * 2);
                        ctx.fill();
                    }
                }
                
                ctx.restore();
            }
            
            function drawLocalGroup(fraction) {
                const centerX = width / 2;
                const centerY = height / 2;
                const scale = 1 - fraction * 0.4;
                
                // Milky Way
                drawGalaxy(centerX, centerY + 80 * scale, 70 * scale, 'spiral', 'Milky Way');
                
                // Andromeda
                drawGalaxy(centerX - 120 * scale, centerY - 80 * scale, 100 * scale, 'spiral', 'Andromeda');
                
                // Triangulum
                drawGalaxy(centerX + 150 * scale, centerY - 100 * scale, 50 * scale, 'spiral', 'Triangulum');
                
                // Dwarf galaxies
                drawGalaxy(centerX - 50 * scale, centerY + 20 * scale, 20 * scale, 'elliptical', 'LMC');
                drawGalaxy(centerX + 40 * scale, centerY + 30 * scale, 15 * scale, 'elliptical', 'SMC');
                drawGalaxy(centerX + 90 * scale, centerY + 150 * scale, 25 * scale, 'elliptical');
                drawGalaxy(centerX - 180 * scale, centerY + 100 * scale, 20 * scale, 'elliptical');
                drawGalaxy(centerX - 100 * scale, centerY - 150 * scale, 18 * scale, 'elliptical');
                drawGalaxy(centerX + 180 * scale, centerY - 180 * scale, 22 * scale, 'elliptical');
                
                // Connection lines
                ctx.strokeStyle = 'rgba(100, 150, 255, 0.1)';
                ctx.lineWidth = 1;
                ctx.beginPath();
                ctx.moveTo(centerX, centerY + 80 * scale); // Milky Way
                ctx.lineTo(centerX - 120 * scale, centerY - 80 * scale); // to Andromeda
                ctx.stroke();
                
                ctx.beginPath();
                ctx.moveTo(centerX, centerY + 80 * scale); // Milky Way
                ctx.lineTo(centerX + 150 * scale, centerY - 100 * scale); // to Triangulum
                ctx.stroke();
                
                // Our marker in Milky Way
                ctx.fillStyle = '#FFD28E';
                ctx.beginPath();
                ctx.arc(centerX, centerY + 80 * scale, 3, 0, Math.PI * 2);
                ctx.fill();
            }
            
            function drawGalaxy(x, y, radius, type, name) {
                ctx.save();
                ctx.translate(x, y);
                
                if (type === 'spiral') {
                    // Core
                    const coreGradient = ctx.createRadialGradient(0, 0, 0, 0, 0, radius * 0.3);
                    coreGradient.addColorStop(0, 'rgba(255, 240, 180, 0.7)');
                    coreGradient.addColorStop(1, 'rgba(255, 240, 180, 0)');
                    
                    ctx.beginPath();
                    ctx.fillStyle = coreGradient;
                    ctx.arc(0, 0, radius * 0.3, 0, Math.PI * 2);
                    ctx.fill();
                    
                    // Spiral arms
                    ctx.rotate(Math.random() * Math.PI); // Random rotation
                    
                    for (let arm = 0; arm < 2; arm++) {
                        const startAngle = arm * Math.PI;
                        ctx.save();
                        ctx.rotate(startAngle);
                        
                        ctx.beginPath();
                        for (let i = 0; i <= 50; i++) {
                            const t = i / 50;
                            const angle = t * Math.PI * 1.5;
                            const distance = t * radius;
                            const x = Math.cos(angle) * distance;
                            const y = Math.sin(angle) * distance;
                            
                            if (i === 0) {
                                ctx.moveTo(x, y);
                            } else {
                                ctx.lineTo(x, y);
                            }
                        }
                        
                        ctx.strokeStyle = 'rgba(180, 200, 255, 0.2)';
                        ctx.lineWidth = radius * 0.2;
                        ctx.stroke();
                        
                        ctx.restore();
                    }
                } else if (type === 'elliptical') {
                    // Elliptical galaxy
                    const galaxyGradient = ctx.createRadialGradient(0, 0, 0, 0, 0, radius);
                    galaxyGradient.addColorStop(0, 'rgba(255, 240, 180, 0.5)');
                    galaxyGradient.addColorStop(0.7, 'rgba(200, 200, 255, 0.2)');
                    galaxyGradient.addColorStop(1, 'rgba(200, 200, 255, 0)');
                    
                    ctx.beginPath();
                    ctx.ellipse(0, 0, radius, radius * 0.7, Math.random() * Math.PI, 0, Math.PI * 2);
                    ctx.fillStyle = galaxyGradient;
                    ctx.fill();
                }
                
                // Add galaxy name if provided
                if (name) {
                    ctx.fillStyle = 'rgba(255, 255, 255, 0.7)';
                    ctx.font = '12px "JetBrains Mono", monospace';
                    ctx.textAlign = 'center';
                    ctx.fillText(name, 0, radius + 15);
                }
                
                ctx.restore();
            }
            
            function drawVirgoSupercluster(fraction) {
                const centerX = width / 2;
                const centerY = height / 2;
                const scale = 1 - fraction * 0.5;
                
                // Draw filaments
                ctx.strokeStyle = 'rgba(100, 150, 255, 0.1)';
                ctx.lineWidth = 3;
                
                // Main filaments
                drawFilament(centerX, centerY, 250 * scale, 170 * scale, 0.3);
                drawFilament(centerX, centerY, 300 * scale, 200 * scale, -0.5);
                drawFilament(centerX, centerY, 270 * scale, 220 * scale, 1.2);
                drawFilament(centerX, centerY, 350 * scale, 180 * scale, -1.8);
                
                // Draw galaxy clusters
                drawGalaxyCluster(centerX, centerY, 60 * scale, 'Virgo Cluster');
                drawGalaxyCluster(centerX - 170 * scale, centerY + 100 * scale, 40 * scale, 'Local Group');
                drawGalaxyCluster(centerX + 200 * scale, centerY - 150 * scale, 45 * scale, 'Fornax Cluster');
                drawGalaxyCluster(centerX - 220 * scale, centerY - 120 * scale, 35 * scale, 'Ursa Major Cluster');
                drawGalaxyCluster(centerX + 150 * scale, centerY + 180 * scale, 38 * scale, 'Centaurus Cluster');
                
                // Our position
                ctx.fillStyle = '#FFD28E';
                ctx.beginPath();
                ctx.arc(centerX - 170 * scale, centerY + 100 * scale, 3, 0, Math.PI * 2);
                ctx.fill();
            }
            
            function drawFilament(x, y, length, width, angle) {
                ctx.save();
                ctx.translate(x, y);
                ctx.rotate(angle);
                
                // Draw main filament
                const gradient = ctx.createLinearGradient(-length/2, 0, length/2, 0);
                gradient.addColorStop(0, 'rgba(100, 150, 255, 0)');
                gradient.addColorStop(0.2, 'rgba(100, 150, 255, 0.05)');
                gradient.addColorStop(0.5, 'rgba(100, 150, 255, 0.1)');
                gradient.addColorStop(0.8, 'rgba(100, 150, 255, 0.05)');
                gradient.addColorStop(1, 'rgba(100, 150, 255, 0)');
                
                ctx.beginPath();
                ctx.ellipse(0, 0, length/2, width/2, 0, 0, Math.PI * 2);
                ctx.fillStyle = gradient;
                ctx.fill();
                
                // Add some galaxy dots along filament
                for (let i = 0; i < 50; i++) {
                    const angle = Math.random() * Math.PI * 2;
                    const radial = Math.random() * 0.8 + 0.2; // Keep galaxies along the filament
                    const x = Math.cos(angle) * length/2 * radial;
                    const y = Math.sin(angle) * width/2 * radial;
                    const size = Math.random() * 1.5 + 0.5;
                    
                    ctx.beginPath();
                    ctx.fillStyle = `rgba(255, 240, 200, ${Math.random() * 0.3 + 0.1})`;
                    ctx.arc(x, y, size, 0, Math.PI * 2);
                    ctx.fill();
                }
                
                ctx.restore();
            }
            
            function drawGalaxyCluster(x, y, radius, name) {
                // Cluster glow
                const clusterGlow = ctx.createRadialGradient(x, y, 0, x, y, radius);
                clusterGlow.addColorStop(0, 'rgba(150, 180, 255, 0.2)');
                clusterGlow.addColorStop(1, 'rgba(150, 180, 255, 0)');
                
                ctx.beginPath();
                ctx.fillStyle = clusterGlow;
                ctx.arc(x, y, radius, 0, Math.PI * 2);
                ctx.fill();
                
                // Galaxies in cluster
                const galaxyCount = Math.floor(radius / 5);
                
                for (let i = 0; i < galaxyCount; i++) {
                    const angle = Math.random() * Math.PI * 2;
                    const distance = Math.random() * radius * 0.9;
                    const gx = x + Math.cos(angle) * distance;
                    const gy = y + Math.sin(angle) * distance;
                    const size = Math.random() * 2 + 0.5;
                    
                    ctx.beginPath();
                    ctx.fillStyle = `rgba(255, 240, 200, ${Math.random() * 0.4 + 0.2})`;
                    ctx.arc(gx, gy, size, 0, Math.PI * 2);
                    ctx.fill();
                }
                
                // Cluster name
                if (name) {
                    ctx.fillStyle = 'rgba(255, 255, 255, 0.7)';
                    ctx.font = '12px "JetBrains Mono", monospace';
                    ctx.textAlign = 'center';
                    ctx.fillText(name, x, y + radius + 15);
                }
            }
            
            function drawObservableUniverse(fraction) {
                const centerX = width / 2;
                const centerY = height / 2;
                
                // CMB glow
                const cmbGradient = ctx.createRadialGradient(centerX, centerY, 0, centerX, centerY, width);
                cmbGradient.addColorStop(0, 'rgba(30, 30, 50, 1)');
                cmbGradient.addColorStop(0.8, 'rgba(20, 20, 40, 1)');
                cmbGradient.addColorStop(1, 'rgba(10, 10, 30, 1)');
                
                ctx.fillStyle = cmbGradient;
                ctx.fillRect(0, 0, width, height);
                
                // Cosmic web
                drawCosmicWeb(centerX, centerY);
                
                // Major galaxy clusters
                const clusters = 12;
                const maxRadius = Math.min(width, height) * 0.4;
                
                for (let i = 0; i < clusters; i++) {
                    const angle = i * (Math.PI * 2 / clusters);
                    const distance = Math.random() * maxRadius * 0.7 + maxRadius * 0.3;
                    const x = centerX + Math.cos(angle) * distance;
                    const y = centerY + Math.sin(angle) * distance;
                    const radius = Math.random() * 30 + 20;
                    
                    drawGalaxyCluster(x, y, radius);
                }
                
                // Our position
                ctx.fillStyle = '#FFD28E';
                ctx.beginPath();
                ctx.arc(centerX, centerY, 5, 0, Math.PI * 2);
                ctx.fill();
                
                // Label
                ctx.fillStyle = '#FFD28E';
                ctx.font = '12px "JetBrains Mono", monospace';
                ctx.textAlign = 'center';
                ctx.fillText('Milky Way', centerX, centerY + 20);
                
                // Scale text
                ctx.fillStyle = 'rgba(255, 255, 255, 0.7)';
                ctx.textAlign = 'center';
                ctx.font = '14px "JetBrains Mono", monospace';
                ctx.fillText('Observable Universe: ~93 billion light-years diameter', centerX, height - 20);
            }
            
            function drawCosmicWeb(centerX, centerY) {
                const filamentCount = 20;
                const maxLength = Math.min(width, height) * 1.5;
                
                for (let i = 0; i < filamentCount; i++) {
                    const x = centerX + (Math.random() - 0.5) * width * 0.8;
                    const y = centerY + (Math.random() - 0.5) * height * 0.8;
                    const length = Math.random() * maxLength * 0.7 + maxLength * 0.3;
                    const width = length * (Math.random() * 0.2 + 0.1);
                    const angle = Math.random() * Math.PI;
                    
                    drawFilament(x, y, length, width, angle);
                }
            }
            
            // Helper functions
            function drawOrbit(centerX, centerY, radius, color) {
                ctx.beginPath();
                ctx.strokeStyle = color;
                ctx.lineWidth = 1;
                ctx.arc(centerX, centerY, radius, 0, Math.PI * 2);
                ctx.stroke();
            }
            
            function drawPlanet(centerX, centerY, orbitRadius, position, planetRadius, color) {
                const angle = position * Math.PI * 2;
                const x = centerX + Math.cos(angle) * orbitRadius;
                const y = centerY + Math.sin(angle) * orbitRadius;
                
                ctx.beginPath();
                ctx.fillStyle = color;
                ctx.arc(x, y, planetRadius, 0, Math.PI * 2);
                ctx.fill();
                
                return { x, y };
            }
            
            function getOrbitPosition(centerX, centerY, orbitRadius, position) {
                const angle = position * Math.PI * 2;
                const x = centerX + Math.cos(angle) * orbitRadius;
                const y = centerY + Math.sin(angle) * orbitRadius;
                return { x, y };
            }
            
            function drawAsteroidBelt(centerX, centerY, radius, width, density = 1) {
                const asteroidCount = Math.floor(250 * density);
                
                for (let i = 0; i < asteroidCount; i++) {
                    const angle = Math.random() * Math.PI * 2;
                    const distance = radius - width/2 + Math.random() * width;
                    const x = centerX + Math.cos(angle) * distance;
                    const y = centerY + Math.sin(angle) * distance;
                    const size = Math.random() * 1.5 + 0.5;
                    
                    ctx.beginPath();
                    ctx.fillStyle = `rgba(180, 180, 180, ${Math.random() * 0.5 + 0.3})`;
                    ctx.arc(x, y, size, 0, Math.PI * 2);
                    ctx.fill();
                }
            }
            
            function updateInfo() {
                const intZoom = Math.floor(zoomLevel);
                const scaleInfo = scaleLabels[intZoom];
                
                infoElement.innerHTML = `
                    <h4>Location: ${scaleInfo.scale}</h4>
                    <p>${scaleInfo.description}</p>
                    <p>Size: ${scaleInfo.size}</p>
                `;
                
                // Update zoom control buttons
                zoomInBtn.disabled = (zoomLevel >= 10);
                zoomOutBtn.disabled = (zoomLevel <= 0);
            }
            
            // Event listeners
            zoomInBtn.addEventListener('click', () => {
                if (zoomLevel < 10) {
                    zoomLevel = Math.min(10, zoomLevel + 1);
                    drawCurrentZoom();
                }
            });
            
            zoomOutBtn.addEventListener('click', () => {
                if (zoomLevel > 0) {
                    zoomLevel = Math.max(0, zoomLevel - 1);
                    drawCurrentZoom();
                }
            });
            
            autoJourneyBtn.addEventListener('click', () => {
                if (!autoZooming) {
                    autoZooming = true;
                    targetZoom = 10;
                    autoJourneyBtn.textContent = "Stop Journey";
                    animateZoom();
                } else {
                    autoZooming = false;
                    autoJourneyBtn.textContent = "Journey Through Space";
                }
            });
            
            function animateZoom() {
                if (!autoZooming) return;
                
                if (zoomLevel < targetZoom) {
                    zoomLevel = Math.min(targetZoom, zoomLevel + 0.05);
                    drawCurrentZoom();
                    requestAnimationFrame(animateZoom);
                } else if (zoomLevel > targetZoom) {
                    zoomLevel = Math.max(targetZoom, zoomLevel - 0.05);
                    drawCurrentZoom();
                    requestAnimationFrame(animateZoom);
                } else {
                    // Reached target, reverse direction
                    if (targetZoom === 10) {
                        targetZoom = 0;
                    } else {
                        targetZoom = 10;
                        autoZooming = false;
                        autoJourneyBtn.textContent = "Journey Through Space";
                    }
                    if (autoZooming) {
                        requestAnimationFrame(animateZoom);
                    }
                }
            }
            
            window.addEventListener('resize', resizeCanvas);
            resizeCanvas(); // Initial setup
        })();

        // Drake Equation Calculator
        (function setupDrakeCalculator() {
            const sliders = {
                rStars: document.getElementById('r-stars'),
                fPlanets: document.getElementById('f-planets'),
                nEarthlike: document.getElementById('n-earthlike'),
                fLife: document.getElementById('f-life'),
                fIntelligence: document.getElementById('f-intelligence'),
                fCommunicate: document.getElementById('f-communicate'),
                lYears: document.getElementById('l-years')
            };
            
            const values = {
                rStarsValue: document.getElementById('r-stars-value'),
                fPlanetsValue: document.getElementById('f-planets-value'),
                nEarthlikeValue: document.getElementById('n-earthlike-value'),
                fLifeValue: document.getElementById('f-life-value'),
                fIntelligenceValue: document.getElementById('f-intelligence-value'),
                fCommunicateValue: document.getElementById('f-communicate-value'),
                lYearsValue: document.getElementById('l-years-value')
            };
            
            const calculateButton = document.getElementById('calculate-drake');
            const resultPanel = document.getElementById('drake-equation-result');
            const drakeResult = document.getElementById('drake-result');
            const drakeInterpretation = document.getElementById('drake-interpretation');
            
            // Update values as sliders change
            Object.keys(sliders).forEach(key => {
                const valueKey = key + 'Value';
                sliders[key].addEventListener('input', () => {
                    values[valueKey].textContent = sliders[key].value;
                });
            });
            
            // Calculate button
            calculateButton.addEventListener('click', calculateDrake);
            
            function calculateDrake() {
                const R = parseFloat(sliders.rStars.value);
                const fp = parseFloat(sliders.fPlanets.value);
                const ne = parseFloat(sliders.nEarthlike.value);
                const fl = parseFloat(sliders.fLife.value);
                const fi = parseFloat(sliders.fIntelligence.value);
                const fc = parseFloat(sliders.fCommunicate.value);
                const L = parseFloat(sliders.lYears.value);
                
                const N = R * fp * ne * fl * fi * fc * L;
                const roundedN = Math.round(N * 100) / 100;
                
                drakeResult.textContent = roundedN < 0.01 ? 
                    'Less than 0.01 civilizations' : 
                    `${roundedN.toLocaleString()} civilizations`;
                
                // Interpretation
                let interpretation = '';
                
                if (N < 1) {
                    interpretation = 'With these parameters, we would be alone in our galaxy, which could explain the Fermi Paradox.';
                } else if (N < 10) {
                    interpretation = 'A few civilizations might exist, but they would be so far apart that contact is extremely unlikely.';
                } else if (N < 100) {
                    interpretation = 'Dozens of civilizations may exist, but interstellar distances make communication challenging.';
                } else if (N < 1000) {
                    interpretation = 'Hundreds of civilizations could exist. The silence becomes more puzzling at this level.';
                } else {
                    interpretation = 'With this many civilizations, the Fermi Paradox becomes quite striking. Why haven\'t we detected any?';
                }
                
                drakeInterpretation.textContent = interpretation;
                resultPanel.style.display = 'block';
            }
        })();

        // Radio Bubble Visualization
        (function setupRadioBubble() {
            const canvas = document.getElementById('radio-canvas');
            const ctx = canvas.getContext('2d');
            let width, height;
            let animationFrame;
            let bubbleSize = 0;
            
            function resizeCanvas() {
                width = canvas.parentElement.offsetWidth;
                height = canvas.parentElement.offsetHeight;
                canvas.width = width;
                canvas.height = height;
                drawRadioBubble();
            }
            
            function drawRadioBubble() {
                ctx.clearRect(0, 0, width, height);
                
                // Black space background
                ctx.fillStyle = 'black';
                ctx.fillRect(0, 0, width, height);
                
                const centerX = width / 2;
                const centerY = height / 2;
                
                // Draw stars for context
                for (let i = 0; i < 200; i++) {
                    const x = Math.random() * width;
                    const y = Math.random() * height;
                    const size = Math.random() * 1.5 + 0.2;
                    
                    ctx.beginPath();
                    ctx.fillStyle = `rgba(255, ${200 + Math.random() * 55}, ${180 + Math.random() * 75}, ${0.2 + Math.random() * 0.8})`;
                    ctx.arc(x, y, size, 0, Math.PI * 2);
                    ctx.fill();
                }
                
                // Milky Way scale (width of canvas = 100,000 light years)
                const galaxyWidth = width * 0.95;
                const galaxyHeight = height * 0.4;
                
                // Draw Milky Way outline
                ctx.strokeStyle = 'rgba(100, 150, 255, 0.3)';
                ctx.lineWidth = 1;
                ctx.beginPath();
                ctx.ellipse(centerX, centerY, galaxyWidth / 2, galaxyHeight / 2, 0, 0, Math.PI * 2);
                ctx.stroke();
                
                // Draw stars in the Milky Way
                for (let i = 0; i < 500; i++) {
                    const angle = Math.random() * Math.PI * 2;
                    const radialDistance = Math.random();
                    const adjustedRadial = Math.pow(radialDistance, 0.5); // Concentrate stars toward center
                    const x = centerX + Math.cos(angle) * adjustedRadial * galaxyWidth / 2;
                    const y = centerY + Math.sin(angle) * adjustedRadial * galaxyHeight / 2;
                    const size = Math.random() * 1.5 + 0.2;
                    
                    ctx.beginPath();
                    ctx.fillStyle = `rgba(255, ${220 + Math.random() * 35}, ${180 + Math.random() * 75}, ${0.3 + Math.random() * 0.7})`;
                    ctx.arc(x, y, size, 0, Math.PI * 2);
                    ctx.fill();
                }
                
                // Draw our solar system
                ctx.fillStyle = '#FFD28E';
                ctx.beginPath();
                ctx.arc(centerX, centerY, 3, 0, Math.PI * 2);
                ctx.fill();
                
                // Draw label for solar system
                ctx.fillStyle = '#FFD28E';
                ctx.font = '12px "JetBrains Mono", monospace';
                ctx.fillText('Solar System', centerX + 8, centerY - 5);
                
                // Scale: 100,000 light-years across the galaxy
                // 100 light-years is 0.1% of that, or ~width/1000
                
                const maxBubbleSize = width / 500; // Size of our radio bubble (exaggerated for visibility)
                
                // Draw radio bubble
                ctx.beginPath();
                ctx.strokeStyle = 'rgba(65, 190, 255, 0.8)';
                ctx.lineWidth = 2;
                const currentSize = bubbleSize % maxBubbleSize;
                ctx.arc(centerX, centerY, currentSize, 0, Math.PI * 2);
                ctx.stroke();
                
                // Draw second, fading bubble
                const secondSize = (bubbleSize - maxBubbleSize/2) % maxBubbleSize;
                if (secondSize > 0) {
                    const opacity = 0.8 * (1 - secondSize / maxBubbleSize);
                    ctx.beginPath();
                    ctx.strokeStyle = `rgba(65, 190, 255, ${opacity})`;
                    ctx.arc(centerX, centerY, secondSize, 0, Math.PI * 2);
                    ctx.stroke();
                }
                
                // Scale references
                ctx.fillStyle = 'rgba(255, 255, 255, 0.7)';
                ctx.font = '10px "JetBrains Mono", monospace';
                ctx.textAlign = 'left';
                ctx.fillText('Galaxy width: ~100,000 light-years', 10, height - 40);
                ctx.fillText('Our radio bubble: ~100 light-years', 10, height - 25);
                
                // Pulsate the bubble
                bubbleSize += 0.2;
                animationFrame = requestAnimationFrame(drawRadioBubble);
            }
            
            window.addEventListener('resize', resizeCanvas);
            resizeCanvas(); // Initial setup
            
            // Cleanup when leaving this section
            return function cleanup() {
                cancelAnimationFrame(animationFrame);
            };
        })();

        // Great Filter Visualization
        (function setupFilterVisualization() {
            const canvas = document.getElementById('filter-canvas');
            const ctx = canvas.getContext('2d');
            const filterSlider = document.getElementById('filter-slider');
            const filterResultPanel = document.getElementById('filter-result');
            const filterPositionText = document.getElementById('filter-position-text');
            const filterImplicationText = document.getElementById('filter-implication');
            
            let width, height;
            
            function resizeCanvas() {
                width = canvas.parentElement.offsetWidth;
                height = canvas.parentElement.offsetHeight;
                canvas.width = width;
                canvas.height = height;
                drawFilterVisualization();
            }
            
            function drawFilterVisualization() {
                ctx.clearRect(0, 0, width, height);
                
                // Timeline background
                const topMargin = 50;
                const timelineHeight = height - 100;
                const stepWidth = width / 11;
                const filterPosition = parseInt(filterSlider.value);
                
                // Draw timeline line
                ctx.strokeStyle = 'rgba(255, 255, 255, 0.3)';
                ctx.lineWidth = 2;
                ctx.beginPath();
                ctx.moveTo(stepWidth, topMargin);
                ctx.lineTo(width - stepWidth, topMargin);
                ctx.stroke();
                
                // Draw timeline steps
                const stages = [
                    'Star Formation',
                    'Habitable Planets',
                    'Simple Life',
                    'Complex Life',
                    'Intelligence',
                    'Technology',
                    'Long-term Survival',
                    'Interstellar Travel',
                    'Galactic Spread',
                    'Type III Civilization'
                ];
                
                for (let i = 0; i < stages.length; i++) {
                    const x = stepWidth + i * stepWidth;
                    
                    // Draw step marker
                    ctx.beginPath();
                    ctx.arc(x, topMargin, 5, 0, Math.PI * 2);
                    
                    // Differentiate past, current, and future stages
                    if (i < 5) {
                        // Past (we've achieved this)
                        ctx.fillStyle = 'rgba(100, 255, 100, 0.7)';
                    } else if (i === 5) {
                        // Current (where we are now)
                        ctx.fillStyle = '#FFD28E';
                    } else {
                        // Future (not yet achieved)
                        ctx.fillStyle = 'rgba(255, 255, 255, 0.3)';
                    }
                    
                    ctx.fill();
                    
                    // Draw vertical connection
                    ctx.strokeStyle = 'rgba(255, 255, 255, 0.1)';
                    ctx.beginPath();
                    ctx.moveTo(x, topMargin + 5);
                    ctx.lineTo(x, topMargin + timelineHeight * 0.6);
                    ctx.stroke();
                    
                    // Draw label
                    ctx.fillStyle = i === 5 ? '#FFD28E' : 'rgba(255, 255, 255, 0.7)';
                    ctx.font = '10px "JetBrains Mono", monospace';
                    ctx.textAlign = 'center';
                    
                    // Split text into two lines if needed
                    const words = stages[i].split(' ');
                    if (words.length > 1) {
                        const midpoint = Math.floor(words.length / 2);
                        const line1 = words.slice(0, midpoint).join(' ');
                        const line2 = words.slice(midpoint).join(' ');
                        ctx.fillText(line1, x, topMargin + timelineHeight * 0.6 + 15);
                        ctx.fillText(line2, x, topMargin + timelineHeight * 0.6 + 30);
                    } else {
                        ctx.fillText(stages[i], x, topMargin + timelineHeight * 0.6 + 15);
                    }
                }
                
                // Draw the Great Filter
                const filterX = stepWidth + (filterPosition - 1) * stepWidth;
                
                // Filter glow
                const filterGradient = ctx.createRadialGradient(filterX, topMargin, 0, filterX, topMargin, 40);
                if (filterPosition <= 6) {
                    // Filter behind us or at present - optimistic
                    filterGradient.addColorStop(0, 'rgba(100, 255, 100, 0.5)');
                    filterGradient.addColorStop(1, 'rgba(100, 255, 100, 0)');
                } else {
                    // Filter ahead - concerning
                    filterGradient.addColorStop(0, 'rgba(255, 100, 100, 0.5)');
                    filterGradient.addColorStop(1, 'rgba(255, 100, 100, 0)');
                }
                
                ctx.beginPath();
                ctx.fillStyle = filterGradient;
                ctx.arc(filterX, topMargin, 40, 0, Math.PI * 2);
                ctx.fill();
                
                // Filter marker
                ctx.beginPath();
                ctx.arc(filterX, topMargin, 10, 0, Math.PI * 2);
                ctx.fillStyle = filterPosition <= 6 ? 'rgba(100, 255, 100, 0.9)' : 'rgba(255, 100, 100, 0.9)';
                ctx.fill();
                
                ctx.strokeStyle = 'white';
                ctx.lineWidth = 2;
                ctx.stroke();
                
                // Draw "Great Filter" text
                ctx.fillStyle = 'white';
                ctx.font = 'bold 14px "JetBrains Mono", monospace';
                ctx.textAlign = 'center';
                ctx.fillText('THE GREAT FILTER', filterX, topMargin - 20);
                
                // Update the filter result text
                updateFilterResult(filterPosition);
            }
            
            function updateFilterResult(position) {
                filterResultPanel.style.display = 'block';
                
                if (position < 6) {
                    // Filter is behind us
                    filterPositionText.textContent = 'The Great Filter is likely behind us';
                    filterImplicationText.textContent = 'This optimistic scenario suggests we've already overcome the hardest challenges. If true, advanced civilizations are extremely rare, and we might be among the first to achieve interstellar capability.';
                } else if (position === 6) {
                    // Filter is where we are now
                    filterPositionText.textContent = 'The Great Filter is where we are now';
                    filterImplicationText.textContent = 'We are currently facing the Great Filter. This suggests many civilizations develop technology but fail to achieve long-term survival, perhaps due to nuclear war, climate catastrophe, pandemic, or AI risk.';
                } else {
                    // Filter is ahead of us
                    filterPositionText.textContent = 'The Great Filter is ahead of us';
                    filterImplicationText.textContent = 'This concerning position suggests that a challenge we haven't yet encountered prevents most civilizations from expanding beyond their home systems. Perhaps interstellar travel is fundamentally impossible, or some cosmic threat awaits.';
                }
            }
            
            // Event listener for the filter slider
            filterSlider.addEventListener('input', drawFilterVisualization);
            
            window.addEventListener('resize', resizeCanvas);
            resizeCanvas(); // Initial setup
        })();

        // Quiz functionality
        (function setupQuiz() {
            const questions = document.querySelectorAll('.question');
            const nextButton = document.getElementById('next-question');
            const prevButton = document.getElementById('prev-question');
            const counterDisplay = document.getElementById('question-counter');
            const quizResult = document.querySelector('.quiz-result');
            const quizScore = document.getElementById('quiz-score');
            const quizMessage = document.getElementById('quiz-message');
            const restartButton = document.getElementById('restart-quiz');
            
            let currentQuestion = 1;
            let score = 0;
            const answers = new Array(questions.length).fill(null);
            
            // Initialize quiz
            function updateQuestionDisplay() {
                questions.forEach(q => q.classList.remove('active'));
                document.querySelector(`.question[data-question="${currentQuestion}"]`).classList.add('active');
                counterDisplay.textContent = `Question ${currentQuestion} of ${questions.length}`;
                
                prevButton.disabled = (currentQuestion === 1);
                nextButton.textContent = (currentQuestion === questions.length) ? 'Finish Quiz' : 'Next';
                
                // Restore any previously selected answer
                if (answers[currentQuestion - 1] !== null) {
                    const selectedOption = document.querySelector(`.question[data-question="${currentQuestion}"] .option:nth-child(${answers[currentQuestion - 1] + 1})`);
                    if (selectedOption) {
                        selectedOption.classList.add('selected');
                    }
                }
            }
            
            // Option selection
            document.querySelectorAll('.option').forEach(option => {
                option.addEventListener('click', () => {
                    // Clear other selections in this question
                    const questionElement = option.closest('.question');
                    questionElement.querySelectorAll('.option').forEach(o => o.classList.remove('selected'));
                    
                    // Mark this option as selected
                    option.classList.add('selected');
                    
                    // Record the answer (1-indexed for the array)
                    const questionNumber = parseInt(questionElement.dataset.question);
                    const optionIndex = Array.from(questionElement.querySelectorAll('.option')).indexOf(option);
                    answers[questionNumber - 1] = optionIndex;
                });
            });
            
            // Navigation
            nextButton.addEventListener('click', () => {
                if (currentQuestion < questions.length) {
                    currentQuestion++;
                    updateQuestionDisplay();
                } else {
                    // Quiz is finished
                    calculateScore();
                    showResults();
                }
            });
            
            prevButton.addEventListener('click', () => {
                if (currentQuestion > 1) {
                    currentQuestion--;
                    updateQuestionDisplay();
                }
            });
            
            restartButton.addEventListener('click', () => {
                // Reset quiz
                currentQuestion = 1;
                score = 0;
                answers.fill(null);
                
                // Clear all selected options
                document.querySelectorAll('.option').forEach(o => o.classList.remove('selected'));
                
                // Hide results, show questions
                quizResult.style.display = 'none';
                questions.forEach(q => q.style.display = 'none');
                questions[0].style.display = 'block';
                document.querySelector('.quiz-controls').style.display = 'flex';
                
                updateQuestionDisplay();
            });
            
            function calculateScore() {
                score = 0;
                questions.forEach((question, index) => {
                    const correctOption = question.querySelector('.option[data-correct="true"]');
                    const correctIndex = Array.from(question.querySelectorAll('.option')).indexOf(correctOption);
                    
                    if (answers[index] === correctIndex) {
                        score++;
                    }
                });
            }
            
            function showResults() {
                // Hide questions and controls
                questions.forEach(q => q.style.display = 'none');
                document.querySelector('.quiz-controls').style.display = 'none';
                
                // Show result
                quizResult.style.display = 'block';
                quizScore.textContent = score;
                
                // Add a message based on score
                if (score === questions.length) {
                    quizMessage.textContent = 'Perfect! You're a Fermi Paradox expert!';
                } else if (score >= questions.length * 0.8) {
                    quizMessage.textContent = 'Great job! You know your cosmic mysteries well.';
                } else if (score >= questions.length * 0.6) {
                    quizMessage.textContent = 'Good effort! You understand the basics of the Fermi Paradox.';
                } else {
                    quizMessage.textContent = 'Keep exploring the cosmos! The Fermi Paradox has many fascinating aspects to discover.';
                }
            }
            
            updateQuestionDisplay(); // Initialize
        })();
        
        // Smooth scrolling for navigation
        document.querySelectorAll('nav a').forEach(anchor => {
            anchor.addEventListener('click', function(e) {
                e.preventDefault();
                
                const targetId = this.getAttribute('href');
                const targetElement = document.querySelector(targetId);
                
                window.scrollTo({
                    top: targetElement.offsetTop - 70,
                    behavior: 'smooth'
                });
            });
        });

        // Intersection Observer for animations
        const observer = new IntersectionObserver((entries) => {
            entries.forEach(entry => {
                if (entry.isIntersecting) {
                    entry.target.classList.add('animate-fade');
                }
            });
        }, { threshold: 0.1 });

        document.querySelectorAll('.panel').forEach(panel => {
            observer.observe(panel);
        });
    </script>
</body>
</html>