<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>The Voynich Manuscript</title>
    <style>
        /* Base Styles */
        @import url('https://fonts.googleapis.com/css2?family=Playfair+Display:ital,wght@0,400;0,700;1,400&family=JetBrains+Mono:wght@400;700&display=swap');
        
        :root {
            --bg-color: #030305;
            --gold-accent: #FFD28E;
            --glass-bg: rgba(255, 255, 255, 0.05);
            --glass-border: rgba(255, 255, 255, 0.1);
        }
        
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }
        
        body {
            background-color: var(--bg-color);
            color: #f5f5f5;
            font-family: 'Playfair Display', serif;
            line-height: 1.6;
            overflow-x: hidden;
            position: relative;
            min-height: 100vh;
        }
        
        /* Starfield Background */
        #starfield {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            z-index: -1;
        }
        
        /* Typography */
        h1, h2, h3 {
            color: var(--gold-accent);
            margin-bottom: 1rem;
        }
        
        h1 {
            font-size: 2.5rem;
            text-align: center;
            margin-top: 2rem;
            text-shadow: 0 0 10px rgba(255, 210, 142, 0.5);
        }
        
        h2 {
            font-size: 1.8rem;
            border-bottom: 1px solid var(--gold-accent);
            padding-bottom: 0.5rem;
        }
        
        h3 {
            font-size: 1.4rem;
        }
        
        p {
            margin-bottom: 1rem;
        }
        
        code, .mono {
            font-family: 'JetBrains Mono', monospace;
            background-color: rgba(0, 0, 0, 0.3);
            padding: 0.1rem 0.3rem;
            border-radius: 3px;
        }
        
        /* Layout */
        .container {
            max-width: 1200px;
            margin: 0 auto;
            padding: 1rem;
        }
        
        /* Glassmorphism Panels */
        .glass-panel {
            background-color: var(--glass-bg);
            backdrop-filter: blur(10px);
            border: 1px solid var(--glass-border);
            border-radius: 10px;
            padding: 1.5rem;
            margin-bottom: 2rem;
            box-shadow: 0 4px 20px rgba(0, 0, 0, 0.3);
        }
        
        /* Navigation */
        nav {
            display: flex;
            justify-content: center;
            margin: 1rem 0 2rem;
        }
        
        nav button {
            background-color: transparent;
            border: 1px solid var(--gold-accent);
            color: var(--gold-accent);
            padding: 0.5rem 1rem;
            margin: 0 0.5rem;
            border-radius: 5px;
            cursor: pointer;
            font-family: 'Playfair Display', serif;
            transition: all 0.3s ease;
        }
        
        nav button:hover {
            background-color: var(--gold-accent);
            color: var(--bg-color);
        }
        
        nav button.active {
            background-color: var(--gold-accent);
            color: var(--bg-color);
        }
        
        /* Sections */
        section {
            display: none;
            animation: fadeIn 0.5s;
        }
        
        section.active {
            display: block;
        }
        
        @keyframes fadeIn {
            from { opacity: 0; }
            to { opacity: 1; }
        }
        
        /* Manuscript Viewer */
        .manuscript-viewer {
            display: flex;
            flex-direction: column;
            align-items: center;
        }
        
        .viewer-controls {
            display: flex;
            margin-bottom: 1rem;
            width: 100%;
            justify-content: center;
        }
        
        .viewer-controls button {
            background-color: transparent;
            border: 1px solid var(--gold-accent);
            color: var(--gold-accent);
            padding: 0.3rem 0.8rem;
            margin: 0 0.3rem;
            border-radius: 5px;
            cursor: pointer;
            font-family: 'JetBrains Mono', monospace;
        }
        
        .viewer-controls button:hover {
            background-color: var(--gold-accent);
            color: var(--bg-color);
        }
        
        .manuscript-container {
            width: 100%;
            height: 400px;
            overflow: hidden;
            position: relative;
            border: 1px solid var(--glass-border);
            border-radius: 5px;
        }
        
        #manuscript-canvas {
            cursor: move;
        }
        
        /* Decode Terminal */
        .terminal-container {
            font-family: 'JetBrains Mono', monospace;
            background-color: rgba(0, 0, 0, 0.3);
            border-radius: 5px;
            padding: 1rem;
            margin-top: 1rem;
        }
        
        .sample-text {
            margin-bottom: 1rem;
            line-height: 1.8;
            font-size: 1.2rem;
            color: var(--gold-accent);
        }
        
        .cipher-controls {
            display: flex;
            flex-wrap: wrap;
            gap: 1rem;
            margin-bottom: 1rem;
        }
        
        .cipher-controls select, .cipher-controls input {
            background-color: rgba(0, 0, 0, 0.5);
            border: 1px solid var(--glass-border);
            color: #f5f5f5;
            padding: 0.5rem;
            border-radius: 5px;
            font-family: 'JetBrains Mono', monospace;
        }
        
        .output-text {
            background-color: rgba(0, 0, 0, 0.2);
            padding: 1rem;
            border-radius: 5px;
            min-height: 100px;
        }
        
        /* Theory Voting */
        .theories {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(250px, 1fr));
            gap: 1.5rem;
            margin-bottom: 1.5rem;
        }
        
        .theory-card {
            background-color: rgba(0, 0, 0, 0.2);
            border: 1px solid var(--glass-border);
            border-radius: 5px;
            padding: 1rem;
            transition: transform 0.3s ease;
        }
        
        .theory-card:hover {
            transform: translateY(-5px);
        }
        
        .theory-card h3 {
            margin-bottom: 0.5rem;
            text-align: center;
        }
        
        .vote-btn {
            width: 100%;
            background-color: transparent;
            border: 1px solid var(--gold-accent);
            color: var(--gold-accent);
            padding: 0.5rem 0;
            margin-top: 1rem;
            cursor: pointer;
            transition: all 0.3s ease;
            font-family: 'Playfair Display', serif;
        }
        
        .vote-btn:hover {
            background-color: var(--gold-accent);
            color: var(--bg-color);
        }
        
        .vote-results {
            margin-top: 2rem;
        }
        
        .vote-bar {
            display: flex;
            align-items: center;
            margin-bottom: 0.5rem;
        }
        
        .vote-label {
            width: 150px;
        }
        
        .vote-progress {
            flex-grow: 1;
            height: 20px;
            background-color: rgba(0, 0, 0, 0.3);
            border-radius: 10px;
            overflow: hidden;
            position: relative;
        }
        
        .vote-fill {
            height: 100%;
            background-color: var(--gold-accent);
            width: 0;
            transition: width 1s ease-out;
        }
        
        .vote-percent {
            margin-left: 10px;
            min-width: 50px;
            text-align: right;
        }
        
        /* Script Comparison */
        .scripts-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
            gap: 1rem;
        }
        
        .script-card {
            background-color: rgba(0, 0, 0, 0.2);
            border: 1px solid var(--glass-border);
            border-radius: 5px;
            padding: 1rem;
        }
        
        .script-card h3 {
            text-align: center;
            margin-bottom: 0.5rem;
        }
        
        .script-sample {
            font-size: 1.2rem;
            text-align: center;
            margin: 1rem 0;
            line-height: 1.6;
        }
        
        /* Quiz */
        .quiz-container {
            max-width: 800px;
            margin: 0 auto;
        }
        
        .question {
            margin-bottom: 1.5rem;
        }
        
        .question h3 {
            margin-bottom: 0.5rem;
        }
        
        .options {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(250px, 1fr));
            gap: 0.5rem;
            margin-top: 0.5rem;
        }
        
        .option {
            display: flex;
            align-items: center;
            padding: 0.5rem;
            cursor: pointer;
            border: 1px solid var(--glass-border);
            border-radius: 5px;
            transition: all 0.2s;
        }
        
        .option:hover {
            background-color: rgba(255, 210, 142, 0.1);
        }
        
        .option.selected {
            background-color: rgba(255, 210, 142, 0.3);
            border-color: var(--gold-accent);
        }
        
        .option.correct {
            background-color: rgba(50, 205, 50, 0.3);
            border-color: lightgreen;
        }
        
        .option.incorrect {
            background-color: rgba(205, 50, 50, 0.3);
            border-color: lightcoral;
        }
        
        .submit-quiz {
            background-color: transparent;
            border: 1px solid var(--gold-accent);
            color: var(--gold-accent);
            padding: 0.5rem 2rem;
            margin: 1rem auto;
            display: block;
            cursor: pointer;
            font-family: 'Playfair Display', serif;
            font-size: 1.1rem;
            transition: all 0.3s ease;
        }
        
        .submit-quiz:hover {
            background-color: var(--gold-accent);
            color: var(--bg-color);
        }
        
        .quiz-results {
            text-align: center;
            font-size: 1.2rem;
            margin-top: 1rem;
            display: none;
        }
        
        .quiz-score {
            font-size: 2rem;
            color: var(--gold-accent);
            margin: 1rem 0;
        }
        
        .reset-quiz {
            background-color: transparent;
            border: 1px solid var(--gold-accent);
            color: var(--gold-accent);
            padding: 0.5rem 1.5rem;
            cursor: pointer;
            font-family: 'Playfair Display', serif;
            transition: all 0.3s ease;
        }
        
        .reset-quiz:hover {
            background-color: var(--gold-accent);
            color: var(--bg-color);
        }
        
        /* Mobile Responsive */
        @media (max-width: 768px) {
            h1 {
                font-size: 1.8rem;
            }
            
            h2 {
                font-size: 1.5rem;
            }
            
            nav {
                flex-wrap: wrap;
            }
            
            nav button {
                margin: 0.3rem;
            }
            
            .theories {
                grid-template-columns: 1fr;
            }
            
            .manuscript-container {
                height: 300px;
            }
        }
    </style>
</head>
<body>
    <canvas id="starfield"></canvas>
    
    <div class="container">
        <h1>The Voynich Manuscript</h1>
        <p class="glass-panel">A mysterious 15th century codex written in an unknown script that has puzzled scholars, cryptographers, and linguists for over a century. Despite numerous attempts at decipherment, the manuscript's contents remain an enigma to this day.</p>
        
        <nav>
            <button data-section="about" class="active">About</button>
            <button data-section="manuscript">Manuscript Viewer</button>
            <button data-section="decode">Decode Terminal</button>
            <button data-section="theories">Theories</button>
            <button data-section="scripts">Script Comparison</button>
            <button data-section="quiz">Quiz</button>
        </nav>
        
        <!-- About Section -->
        <section id="about" class="glass-panel active">
            <h2>The Enigmatic Codex</h2>
            <p>The Voynich Manuscript is a mysterious illustrated codex hand-written in an unknown writing system. The manuscript is named after Wilfrid Voynich, a Polish book dealer who purchased it in 1912 from the Jesuit College at Villa Mondragone in Italy.</p>
            
            <p>Carbon dating has confirmed that the vellum on which it is written dates to between 1404 and 1438. The manuscript's pages contain detailed illustrations of plants (many of which cannot be identified), astronomical diagrams, biological designs, cosmological imagery, and pharmaceutical drawings.</p>
            
            <h3>Discovery and History</h3>
            <p>Purchased by Wilfrid Voynich in 1912, the manuscript's earlier history includes a letter dated 1665 from Johannes Marcus Marci of Cronland to Athanasius Kircher, which was found tucked inside the manuscript. The letter stated that the book once belonged to Emperor Rudolf II (1552-1612), who reportedly purchased it for 600 gold ducats.</p>
            
            <p>After Voynich's death in 1930, the manuscript passed to his widow Ethel Voynich, then to her friend Anne Nill, and finally was sold in 1961 to H.P. Kraus. Unable to sell it, Kraus donated it to Yale University's Beinecke Rare Book and Manuscript Library in 1969, where it remains cataloged as MS 408.</p>
            
            <h3>Structure and Content</h3>
            <p>The manuscript contains approximately 240 pages, organized into six sections:</p>
            <ul style="margin-left: 2rem;">
                <li><strong>Herbal</strong> - Contains drawings of plants, some recognizable, most enigmatic</li>
                <li><strong>Astronomical</strong> - Includes circular diagrams, some resembling astrological symbols</li>
                <li><strong>Biological</strong> - Contains drawings with small human figures in baths</li>
                <li><strong>Cosmological</strong> - Features circular designs and celestial objects</li>
                <li><strong>Pharmaceutical</strong> - Shows labeled drawings of containers and plants</li>
                <li><strong>Recipes</strong> - Text-heavy pages with star-shaped patterns in margins</li>
            </ul>
            
            <h3>Major Decipherment Attempts</h3>
            <p>Over the years, many scholars, cryptographers, and linguists have attempted to decipher the manuscript's text:</p>
            <ul style="margin-left: 2rem;">
                <li><strong>William Newbold (1920s)</strong> - Claimed it was written by Roger Bacon using a microscopic shorthand system</li>
                <li><strong>Joseph Martin Feely (1943)</strong> - Believed it was encoded using a complex cipher</li>
                <li><strong>Leonell Strong (1945)</strong> - Proposed it was an early form of medical shorthand</li>
                <li><strong>William F. Friedman (1940s-50s)</strong> - Legendary cryptanalyst who believed it might be an early constructed language</li>
                <li><strong>Mary D'Imperio (1976)</strong> - Published a comprehensive analysis of the manuscript</li>
                <li><strong>Gordon Rugg (2003)</strong> - Demonstrated how a meaningless text with Voynich-like properties could be generated</li>
                <li><strong>Stephen Bax (2014)</strong> - Claimed to have deciphered 14 characters using proper names</li>
                <li><strong>Gerard Cheshire (2019)</strong> - Claimed it was a proto-Romance language (widely disputed)</li>
            </ul>
            
            <p>To date, no proposed solution has been widely accepted by the academic community.</p>
        </section>
        
        <!-- Manuscript Viewer Section -->
        <section id="manuscript" class="glass-panel">
            <h2>Manuscript Viewer</h2>
            <p>Explore pages inspired by the Voynich Manuscript. Use the controls to navigate through different page types and zoom in on details.</p>
            
            <div class="manuscript-viewer">
                <div class="viewer-controls">
                    <button id="herbal-btn" class="active">Herbal</button>
                    <button id="astro-btn">Astronomical</button>
                    <button id="bio-btn">Biological</button>
                    <button id="cosmo-btn">Cosmological</button>
                    <button id="zoom-in">+</button>
                    <button id="zoom-out">-</button>
                    <button id="reset-view">Reset</button>
                </div>
                
                <div class="manuscript-container">
                    <canvas id="manuscript-canvas" width="800" height="600"></canvas>
                </div>
            </div>
        </section>
        
        <!-- Decode Terminal Section -->
        <section id="decode" class="glass-panel">
            <h2>Decode Terminal</h2>
            <p>Try your hand at deciphering sample text from the Voynich Manuscript. Select a cipher method and apply it to the sample text below.</p>
            
            <div class="sample-text" id="voynich-sample">
                ·¥ï·¥ö·¥ù·¥û·¥ô·¥î·¥¢·¥ö·¥ù·¥õ·¥ê·¥ï·¥ü·¥û·¥ì·¥ù·¥ú·¥Ñ·¥ô·¥ì·¥ï·¥ö·¥°·¥í·¥ù·¥ç·¥ï·¥ô·¥é·¥î·¥ô·¥ì·¥¢·¥õ·¥ô·¥ü·¥ï·¥ö·¥ú·¥ù·¥Ñ·¥Ö·¥ï·¥ì·¥é·¥¢·¥ù·¥Ñ·¥ï·¥ê·¥ô·¥ï·¥é·¥Ö·¥ô·¥ö
            </div>
            
            <div class="terminal-container">
                <div class="cipher-controls">
                    <select id="cipher-method">
                        <option value="caesar">Caesar Shift</option>
                        <option value="atbash">Atbash (Reverse Alphabet)</option>
                        <option value="vigenere">Vigen√®re Cipher</option>
                        <option value="substitution">Custom Substitution</option>
                    </select>
                    
                    <input type="text" id="cipher-key" placeholder="Cipher key..." value="3">
                    
                    <button id="apply-cipher" class="vote-btn">Apply Cipher</button>
                </div>
                
                <div class="output-text mono" id="cipher-output">
                    // Decoded text will appear here
                </div>
            </div>
        </section>
        
        <!-- Theories Section -->
        <section id="theories" class="glass-panel">
            <h2>Leading Theories</h2>
            <p>Many theories have been proposed about the origin and purpose of the Voynich Manuscript. Vote for the theory you find most plausible.</p>
            
            <div class="theories">
                <div class="theory-card">
                    <h3>Elaborate Hoax</h3>
                    <p>The manuscript could be an elaborate hoax created either in the 15th century or later. Perhaps it was created to sell to collectors like Emperor Rudolf II who was interested in esoteric materials.</p>
                    <button class="vote-btn" data-theory="hoax">Vote</button>
                </div>
                
                <div class="theory-card">
                    <h3>Constructed Language</h3>
                    <p>The text could represent an artificial or constructed language invented by a scholar. William Friedman suggested it might be an early example of a philosophical language.</p>
                    <button class="vote-btn" data-theory="constructed">Vote</button>
                </div>
                
                <div class="theory-card">
                    <h3>Encrypted Text</h3>
                    <p>The manuscript might contain encrypted information using a sophisticated cipher system beyond modern understanding. This could explain why modern cryptographic methods have failed.</p>
                    <button class="vote-btn" data-theory="cipher">Vote</button>
                </div>
                
                <div class="theory-card">
                    <h3>Lost Natural Language</h3>
                    <p>The text might be written in a now-extinct natural language, possibly using a unique writing system. Statistical analyses have shown similarities to natural languages.</p>
                    <button class="vote-btn" data-theory="lost">Vote</button>
                </div>
                
                <div class="theory-card">
                    <h3>Glossolalia</h3>
                    <p>The text might represent glossolalia or "speaking in tongues," possibly transcribed from a mystic in an altered state of consciousness during the medieval period.</p>
                    <button class="vote-btn" data-theory="glossolalia">Vote</button>
                </div>
            </div>
            
            <div class="vote-results">
                <h3>Current Results</h3>
                
                <div class="vote-bar">
                    <div class="vote-label">Elaborate Hoax</div>
                    <div class="vote-progress">
                        <div class="vote-fill" data-theory="hoax" style="width: 0%;"></div>
                    </div>
                    <div class="vote-percent" data-theory="hoax">0%</div>
                </div>
                
                <div class="vote-bar">
                    <div class="vote-label">Constructed Language</div>
                    <div class="vote-progress">
                        <div class="vote-fill" data-theory="constructed" style="width: 0%;"></div>
                    </div>
                    <div class="vote-percent" data-theory="constructed">0%</div>
                </div>
                
                <div class="vote-bar">
                    <div class="vote-label">Encrypted Text</div>
                    <div class="vote-progress">
                        <div class="vote-fill" data-theory="cipher" style="width: 0%;"></div>
                    </div>
                    <div class="vote-percent" data-theory="cipher">0%</div>
                </div>
                
                <div class="vote-bar">
                    <div class="vote-label">Lost Language</div>
                    <div class="vote-progress">
                        <div class="vote-fill" data-theory="lost" style="width: 0%;"></div>
                    </div>
                    <div class="vote-percent" data-theory="lost">0%</div>
                </div>
                
                <div class="vote-bar">
                    <div class="vote-label">Glossolalia</div>
                    <div class="vote-progress">
                        <div class="vote-fill" data-theory="glossolalia" style="width: 0%;"></div>
                    </div>
                    <div class="vote-percent" data-theory="glossolalia">0%</div>
                </div>
            </div>
        </section>
        
        <!-- Script Comparison Section -->
        <section id="scripts" class="glass-panel">
            <h2>Script Comparison</h2>
            <p>Compare the Voynich manuscript's script with other medieval writing systems. Notice any similarities or patterns that might provide clues.</p>
            
            <div class="scripts-grid">
                <div class="script-card">
                    <h3>Voynichese</h3>
                    <div class="script-sample">·¥ï·¥ö·¥ù·¥û·¥ô·¥î·¥¢·¥ö·¥ù·¥õ·¥ê·¥ï·¥ü·¥û·¥ì·¥ù·¥ú·¥Ñ·¥ô·¥ì·¥ï·¥ö</div>
                    <p>The undeciphered script of the Voynich Manuscript. Characters appear to have consistent patterns, with 20-30 distinct characters used repeatedly.</p>
                </div>
                
                <div class="script-card">
                    <h3>Medieval Latin</h3>
                    <div class="script-sample">≈øcientia potentia e≈øt</div>
                    <p>Standard script used throughout medieval Europe. Note the long 's' (≈ø) and ligatures that differ from modern Latin script.</p>
                </div>
                
                <div class="script-card">
                    <h3>Syriac</h3>
                    <div class="script-sample">‹´‹†‹°‹ê ‹•‹†‹ù‹ü‹ò‹¢</div>
                    <p>Semitic script used widely in the Middle East during the medieval period, notable for its flowing connected style.</p>
                </div>
                
                <div class="script-card">
                    <h3>Early Cyrillic</h3>
                    <div class="script-sample">‚∞Ä‚∞±‚∞≤‚∞≥‚∞¥‚∞µ‚∞∂‚∞∑‚∞∏‚∞π‚∞∫‚∞ª‚∞º‚∞Ω</div>
                    <p>Early version of the Cyrillic alphabet used in Eastern Europe from the 9th century onwards.</p>
                </div>
                
                <div class="script-card">
                    <h3>Alchemical Symbols</h3>
                    <div class="script-sample">üúÇ üúÉ üúÅ üúÑ ‚äï üù™ üùõ üùû</div>
                    <p>Symbolic writing used in medieval and Renaissance alchemical texts, often used to record recipes and processes.</p>
                </div>
                
                <div class="script-card">
                    <h3>Secretarial Hand</h3>
                    <div class="script-sample">Íùì Íùë Íùó Íùô Íùõ ÍùØ Íù≠ Íù∞</div>
                    <p>Abbreviated writing system used by scribes and secretaries in medieval courts and monasteries to write quickly.</p>
                </div>
            </div>
        </section>
        
        <!-- Quiz Section -->
        <section id="quiz" class="glass-panel">
            <h2>Test Your Knowledge</h2>
            <p>Take this quiz to test your knowledge about the Voynich Manuscript.</p>
            
            <div class="quiz-container">
                <div class="question" data-id="1">
                    <h3>1. When was the Voynich Manuscript carbon dated to?</h3>
                    <div class="options">
                        <div class="option" data-correct="true">1404-1438</div>
                        <div class="option">1501-1550</div>
                        <div class="option">1300-1350</div>
                        <div class="option">1600-1650</div>
                    </div>
                </div>
                
                <div class="question" data-id="2">
                    <h3>2. Who discovered the manuscript in 1912?</h3>
                    <div class="options">
                        <div class="option" data-correct="true">Wilfrid Voynich</div>
                        <div class="option">Johannes Marci</div>
                        <div class="option">Athanasius Kircher</div>
                        <div class="option">William Friedman</div>
                    </div>
                </div>
                
                <div class="question" data-id="3">
                    <h3>3. How many distinct sections does the manuscript contain?</h3>
                    <div class="options">
                        <div class="option">4</div>
                        <div class="option" data-correct="true">6</div>
                        <div class="option">8</div>
                        <div class="option">10</div>
                    </div>
                </div>
                
                <div class="question" data-id="4">
                    <h3>4. Where is the manuscript currently housed?</h3>
                    <div class="options">
                        <div class="option">British Library, London</div>
                        <div class="option">Vatican Secret Archives</div>
                        <div class="option" data-correct="true">Beinecke Rare Book Library, Yale University</div>
                        <div class="option">Smithsonian Institution</div>
                    </div>
                </div>
                
                <div class="question" data-id="5">
                    <h3>5. Which of these is NOT one of the main sections of the Voynich Manuscript?</h3>
                    <div class="options">
                        <div class="option">Herbal</div>
                        <div class="option">Astronomical</div>
                        <div class="option" data-correct="true">Mathematical</div>
                        <div class="option">Biological</div>
                    </div>
                </div>
                
                <button class="submit-quiz">Submit Answers</button>
                
                <div class="quiz-results">
                    <h3>Your Result</h3>
                    <div class="quiz-score">0/5</div>
                    <button class="reset-quiz">Try Again</button>
                </div>
            </div>
        </section>
    </div>
    
    <script>
        // Navigation
        const navButtons = document.querySelectorAll('nav button');
        const sections = document.querySelectorAll('section');
        
        navButtons.forEach(button => {
            button.addEventListener('click', () => {
                const targetSection = button.getAttribute('data-section');
                
                navButtons.forEach(btn => btn.classList.remove('active'));
                button.classList.add('active');
                
                sections.forEach(section => {
                    section.classList.remove('active');
                    if (section.id === targetSection) {
                        section.classList.add('active');
                    }
                });
            });
        });
        
        // Starfield Background
        const starfield = document.getElementById('starfield');
        const ctx = starfield.getContext('2d');
        let stars = [];
        
        function resizeCanvas() {
            starfield.width = window.innerWidth;
            starfield.height = window.innerHeight;
            initStars();
        }
        
        function initStars() {
            stars = [];
            const starCount = Math.floor(window.innerWidth * window.innerHeight / 1000);
            
            for (let i = 0; i < starCount; i++) {
                stars.push({
                    x: Math.random() * starfield.width,
                    y: Math.random() * starfield.height,
                    radius: Math.random() * 1.5,
                    speed: Math.random() * 0.05,
                    brightness: Math.random(),
                    angle: Math.random() * Math.PI * 2
                });
            }
        }
        
        function animateStars() {
            ctx.clearRect(0, 0, starfield.width, starfield.height);
            
            stars.forEach(star => {
                // Move star
                star.x += Math.cos(star.angle) * star.speed;
                star.y += Math.sin(star.angle) * star.speed;
                
                // Wrap around edges
                if (star.x < 0) star.x = starfield.width;
                if (star.x > starfield.width) star.x = 0;
                if (star.y < 0) star.y = starfield.height;
                if (star.y > starfield.height) star.y = 0;
                
                // Twinkle effect
                star.brightness += (Math.random() - 0.5) * 0.05;
                star.brightness = Math.max(0.1, Math.min(1, star.brightness));
                
                // Draw star
                ctx.beginPath();
                ctx.arc(star.x, star.y, star.radius, 0, Math.PI * 2);
                ctx.fillStyle = `rgba(255, 255, 255, ${star.brightness})`;
                ctx.fill();
            });
            
            requestAnimationFrame(animateStars);
        }
        
        window.addEventListener('resize', resizeCanvas);
        resizeCanvas();
        animateStars();
        
        // Manuscript Viewer
        const manuscriptCanvas = document.getElementById('manuscript-canvas');
        const msCtx = manuscriptCanvas.getContext('2d');
        const msContainer = document.querySelector('.manuscript-container');
        
        // Initialize manuscript viewer state
        let currentPage = 'herbal';
        let scale = 1;
        let offsetX = 0;
        let offsetY = 0;
        let isDragging = false;
        let dragStart = { x: 0, y: 0 };
        
        function resizeManuscriptCanvas() {
            const containerRect = msContainer.getBoundingClientRect();
            manuscriptCanvas.width = containerRect.width;
            manuscriptCanvas.height = containerRect.height;
            drawManuscriptPage();
        }
        
        // Create a mock Voynichese text generator
        function generateVoynichText(length) {
            const chars = '·¥ï·¥ö·¥ù·¥û·¥ô·¥î·¥¢·¥ö·¥ù·¥õ·¥ê·¥ü·¥û·¥ì·¥ù·¥ú·¥Ñ·¥ô·¥ì·¥ï·¥ö·¥°·¥í·¥ù·¥ç·¥ï·¥ô·¥é·¥î·¥ô·¥ì·¥¢·¥õ·¥ô·¥ü·¥ï·¥ö·¥ú·¥ù·¥Ñ·¥Ö·¥ì·¥é·¥¢·¥ù·¥Ñ·¥ï·¥ê·¥ô·¥ï·¥é·¥Ö·¥ô·¥ö';
            let text = '';
            for (let i = 0; i < length; i++) {
                text += chars.charAt(Math.floor(Math.random() * chars.length));
            }
            return text;
        }
        
        // Draw different page types
        function drawManuscriptPage() {
            msCtx.fillStyle = '#f5e9c9'; // Aged parchment color
            msCtx.fillRect(0, 0, manuscriptCanvas.width, manuscriptCanvas.height);
            
            // Apply transformation
            msCtx.save();
            msCtx.translate(offsetX, offsetY);
            msCtx.scale(scale, scale);
            
            // Draw content based on current page
            switch(currentPage) {
                case 'herbal':
                    drawHerbalPage();
                    break;
                case 'astro':
                    drawAstronomicalPage();
                    break;
                case 'bio':
                    drawBiologicalPage();
                    break;
                case 'cosmo':
                    drawCosmologicalPage();
                    break;
                default:
                    drawHerbalPage();
            }
            
            msCtx.restore();
        }
        
        function drawHerbalPage() {
            // Draw plant illustration
            msCtx.strokeStyle = '#472b1b';
            msCtx.lineWidth = 2;
            
            // Plant stem
            msCtx.beginPath();
            msCtx.moveTo(400, 500);
            msCtx.bezierCurveTo(380, 400, 420, 300, 400, 200);
            msCtx.stroke();
            
            // Leaves
            for (let i = 0; i < 5; i++) {
                const y = 250 + i * 50;
                const dir = i % 2 === 0 ? 1 : -1;
                const size = 30 + Math.random() * 30;
                
                msCtx.beginPath();
                msCtx.moveTo(400, y);
                msCtx.bezierCurveTo(
                    400 + 30 * dir, y - 10,
                    400 + 80 * dir, y + 10,
                    400 + 100 * dir, y - 5
                );
                msCtx.bezierCurveTo(
                    400 + 80 * dir, y + size,
                    400 + 30 * dir, y + 10,
                    400, y
                );
                msCtx.fillStyle = '#5a8d57';
                msCtx.fill();
                msCtx.stroke();
            }
            
            // Flower or fruit at top
            msCtx.beginPath();
            msCtx.arc(400, 180, 40, 0, Math.PI * 2);
            msCtx.fillStyle = '#b58d6e';
            msCtx.fill();
            msCtx.stroke();
            
            // Add Voynich-like text
            msCtx.font = '24px "JetBrains Mono"';
            msCtx.fillStyle = '#472b1b';
            
            // Left side text
            for (let i = 0; i < 8; i++) {
                const text = generateVoynichText(10 + Math.floor(Math.random() * 15));
                msCtx.fillText(text, 50, 100 + i * 50);
            }
            
            // Right side text
            for (let i = 0; i < 5; i++) {
                const text = generateVoynichText(5 + Math.floor(Math.random() * 10));
                msCtx.fillText(text, 550, 350 + i * 50);
            }
        }
        
        function drawAstronomicalPage() {
            // Background
            msCtx.fillStyle = '#f5e9c9';
            msCtx.fillRect(0, 0, manuscriptCanvas.width, manuscriptCanvas.height);
            
            // Main astronomical circle
            msCtx.strokeStyle = '#472b1b';
            msCtx.lineWidth = 2;
            
            msCtx.beginPath();
            msCtx.arc(400, 300, 200, 0, Math.PI * 2);
            msCtx.stroke();
            
            // Inner circles
            for (let i = 1; i <= 3; i++) {
                msCtx.beginPath();
                msCtx.arc(400, 300, 200 - i * 40, 0, Math.PI * 2);
                msCtx.stroke();
            }
            
            // Divide into segments
            for (let i = 0; i < 12; i++) {
                const angle = (i * Math.PI) / 6;
                msCtx.beginPath();
                msCtx.moveTo(400, 300);
                msCtx.lineTo(
                    400 + Math.cos(angle) * 200,
                    300 + Math.sin(angle) * 200
                );
                msCtx.stroke();
            }
            
            // Add symbols in sections
            msCtx.font = '24px "JetBrains Mono"';
            msCtx.fillStyle = '#472b1b';
            
            for (let i = 0; i < 12; i++) {
                const angle = (i * Math.PI) / 6 + Math.PI / 12;
                const x = 400 + Math.cos(angle) * 160;
                const y = 300 + Math.sin(angle) * 160;
                
                // Celestial symbols
                const symbols = ['‚òâ', '‚òΩ', '‚òø', '‚ôÄ', '‚ôÇ', '‚ôÉ', '‚ôÑ', '‚öπ', '‚òÑ', '‚òÖ', '‚öù', '‚òº'];
                msCtx.fillText(symbols[i], x - 12, y + 8);
            }
            
            // Add text around the outer edge
            msCtx.font = '18px "JetBrains Mono"';
            for (let i = 0; i < 12; i++) {
                const angle = (i * Math.PI) / 6 + Math.PI / 12;
                const x = 400 + Math.cos(angle) * 220;
                const y = 300 + Math.sin(angle) * 220;
                
                const text = generateVoynichText(5);
                msCtx.fillText(text, x - 30, y + 6);
            }
            
            // Add text in corners
            msCtx.font = '20px "JetBrains Mono"';
            for (let i = 0; i < 4; i++) {
                const x = i % 2 === 0 ? 100 : 700;
                const y = i < 2 ? 100 : 500;
                const text = generateVoynichText(8 + Math.floor(Math.random() * 6));
                msCtx.fillText(text, x - 50, y);
            }
        }
        
        function drawBiologicalPage() {
            // Draw bathing figures in tubes/pools
            msCtx.strokeStyle = '#472b1b';
            msCtx.lineWidth = 2;
            
            // Draw connected pools
            for (let i = 0; i < 3; i++) {
                const y = 150 + i * 150;
                
                // Draw pool
                msCtx.beginPath();
                msCtx.ellipse(400, y, 150, 60, 0, 0, Math.PI * 2);
                msCtx.fillStyle = '#a7c6da';
                msCtx.fill();
                msCtx.stroke();
                
                // Connection tubes
                if (i < 2) {
                    msCtx.beginPath();
                    msCtx.moveTo(400, y + 60);
                    msCtx.lineTo(400, y + 90);
                    msCtx.stroke();
                }
                
                // Draw simple figures in pools
                for (let j = 0; j < 3 + i; j++) {
                    const x = 320 + j * 50;
                    
                    // Body
                    msCtx.beginPath();
                    msCtx.moveTo(x, y - 20);
                    msCtx.lineTo(x, y + 15);
                    msCtx.stroke();
                    
                    // Head
                    msCtx.beginPath();
                    msCtx.arc(x, y - 30, 10, 0, Math.PI * 2);
                    msCtx.fillStyle = '#f5e9c9';
                    msCtx.fill();
                    msCtx.stroke();
                    
                    // Arms
                    msCtx.beginPath();
                    msCtx.moveTo(x - 15, y - 10);
                    msCtx.lineTo(x + 15, y - 10);
                    msCtx.stroke();
                }
            }
            
            // Add Voynich-like text
            msCtx.font = '20px "JetBrains Mono"';
            msCtx.fillStyle = '#472b1b';
            
            // Left side text
            for (let i = 0; i < 5; i++) {
                const text = generateVoynichText(8 + Math.floor(Math.random() * 10));
                msCtx.fillText(text, 50, 100 + i * 100);
            }
            
            // Right side text
            for (let i = 0; i < 5; i++) {
                const text = generateVoynichText(8 + Math.floor(Math.random() * 10));
                msCtx.fillText(text, 550, 100 + i * 100);
            }
            
            // Labels by pools
            for (let i = 0; i < 3; i++) {
                const y = 150 + i * 150;
                const text = generateVoynichText(5);
                msCtx.fillText(text, 560, y);
            }
        }
        
        function drawCosmologicalPage() {
            // Draw nested circles with emanating designs
            msCtx.strokeStyle = '#472b1b';
            msCtx.lineWidth = 2;
            
            // Central rosette
            msCtx.beginPath();
            msCtx.arc(400, 300, 150, 0, Math.PI * 2);
            msCtx.stroke();
            
            // Inner structure with a castle-like element
            msCtx.beginPath();
            msCtx.arc(400, 300, 100, 0, Math.PI * 2);
            msCtx.stroke();
            
            // Draw a stylized castle/tower in center
            msCtx.beginPath();
            msCtx.moveTo(350, 350);
            msCtx.lineTo(350, 250);
            msCtx.lineTo(375, 230);
            msCtx.lineTo(400, 250);
            msCtx.lineTo(425, 230);
            msCtx.lineTo(450, 250);
            msCtx.lineTo(450, 350);
            msCtx.closePath();
            msCtx.fillStyle = '#d1b48c';
            msCtx.fill();
            msCtx.stroke();
            
            // Tower tops
            msCtx.beginPath();
            msCtx.moveTo(375, 230);
            msCtx.lineTo(375, 200);
            msCtx.stroke();
            
            msCtx.beginPath();
            msCtx.moveTo(425, 230);
            msCtx.lineTo(425, 200);
            msCtx.stroke();
            
            // Windows
            msCtx.beginPath();
            msCtx.rect(370, 270, 20, 30);
            msCtx.rect(410, 270, 20, 30);
            msCtx.rect(390, 320, 20, 30);
            msCtx.stroke();
            
            // Emanating sections from central rosette
            for (let i = 0; i < 9; i++) {
                const angle = (i * Math.PI * 2) / 9;
                const x1 = 400 + Math.cos(angle) * 150;
                const y1 = 300 + Math.sin(angle) * 150;
                const x2 = 400 + Math.cos(angle) * 220;
                const y2 = 300 + Math.sin(angle) * 220;
                
                // Draw "petal"
                msCtx.beginPath();
                msCtx.moveTo(x1, y1);
                msCtx.lineTo(x2, y2);
                msCtx.arc(
                    x2 + Math.cos(angle) * 30,
                    y2 + Math.sin(angle) * 30,
                    40,
                    angle + Math.PI - 0.5,
                    angle + Math.PI + 0.5
                );
                msCtx.closePath();
                msCtx.fillStyle = i % 2 === 0 ? '#d1b48c' : '#c9a37e';
                msCtx.fill();
                msCtx.stroke();
                
                // Add a symbol in each petal
                const symbols = ['‚òâ', '‚òΩ', '‚òø', '‚ôÄ', '‚ôÇ', '‚ôÉ', '‚ôÑ', '‚òÖ', '‚òº'];
                msCtx.fillStyle = '#472b1b';
                msCtx.font = '24px serif';
                msCtx.fillText(
                    symbols[i],
                    x2 + Math.cos(angle) * 5 - 10,
                    y2 + Math.sin(angle) * 5 + 10
                );
            }
            
            // Add Voynich-like text around the edges
            msCtx.font = '20px "JetBrains Mono"';
            msCtx.fillStyle = '#472b1b';
            
            // Text in corners
            for (let i = 0; i < 4; i++) {
                const x = i % 2 === 0 ? 100 : 700;
                const y = i < 2 ? 100 : 500;
                for (let j = 0; j < 3; j++) {
                    const text = generateVoynichText(8 + Math.floor(Math.random() * 6));
                    msCtx.fillText(text, x - 80, y + j * 30);
                }
            }
        }
        
        // Set up manuscript viewer controls
        document.getElementById('herbal-btn').addEventListener('click', () => {
            currentPage = 'herbal';
            document.querySelectorAll('.viewer-controls button').forEach(btn => btn.classList.remove('active'));
            document.getElementById('herbal-btn').classList.add('active');
            drawManuscriptPage();
        });
        
        document.getElementById('astro-btn').addEventListener('click', () => {
            currentPage = 'astro';
            document.querySelectorAll('.viewer-controls button').forEach(btn => btn.classList.remove('active'));
            document.getElementById('astro-btn').classList.add('active');
            drawManuscriptPage();
        });
        
        document.getElementById('bio-btn').addEventListener('click', () => {
            currentPage = 'bio';
            document.querySelectorAll('.viewer-controls button').forEach(btn => btn.classList.remove('active'));
            document.getElementById('bio-btn').classList.add('active');
            drawManuscriptPage();
        });
        
        document.getElementById('cosmo-btn').addEventListener('click', () => {
            currentPage = 'cosmo';
            document.querySelectorAll('.viewer-controls button').forEach(btn => btn.classList.remove('active'));
            document.getElementById('cosmo-btn').classList.add('active');
            drawManuscriptPage();
        });
        
        document.getElementById('zoom-in').addEventListener('click', () => {
            if (scale < 3) {
                scale += 0.2;
                drawManuscriptPage();
            }
        });
        
        document.getElementById('zoom-out').addEventListener('click', () => {
            if (scale > 0.5) {
                scale -= 0.2;
                drawManuscriptPage();
            }
        });
        
        document.getElementById('reset-view').addEventListener('click', () => {
            scale = 1;
            offsetX = 0;
            offsetY = 0;
            drawManuscriptPage();
        });
        
        // Mouse dragging functionality
        manuscriptCanvas.addEventListener('mousedown', (e) => {
            isDragging = true;
            dragStart.x = e.clientX - offsetX;
            dragStart.y = e.clientY - offsetY;
            manuscriptCanvas.style.cursor = 'grabbing';
        });
        
        manuscriptCanvas.addEventListener('mousemove', (e) => {
            if (isDragging) {
                offsetX = e.clientX - dragStart.x;
                offsetY = e.clientY - dragStart.y;
                drawManuscriptPage();
            }
        });
        
        manuscriptCanvas.addEventListener('mouseup', () => {
            isDragging = false;
            manuscriptCanvas.style.cursor = 'move';
        });
        
        manuscriptCanvas.addEventListener('mouseleave', () => {
            isDragging = false;
            manuscriptCanvas.style.cursor = 'move';
        });
        
        manuscriptCanvas.addEventListener('wheel', (e) => {
            e.preventDefault();
            const delta = -Math.sign(e.deltaY) * 0.1;
            const newScale = Math.max(0.5, Math.min(3, scale + delta));
            
            if (newScale !== scale) {
                // Calculate mouse position relative to canvas
                const rect = manuscriptCanvas.getBoundingClientRect();
                const mouseX = e.clientX - rect.left;
                const mouseY = e.clientY - rect.top;
                
                // Calculate the position in the content
                const contentX = (mouseX - offsetX) / scale;
                const contentY = (mouseY - offsetY) / scale;
                
                // Update scale
                scale = newScale;
                
                // Update offset to zoom toward mouse position
                offsetX = mouseX - contentX * scale;
                offsetY = mouseY - contentY * scale;
                
                drawManuscriptPage();
            }
        });
        
        window.addEventListener('resize', resizeManuscriptCanvas);
        resizeManuscriptCanvas();
        
        // Decode Terminal
        document.getElementById('apply-cipher').addEventListener('click', () => {
            const cipherMethod = document.getElementById('cipher-method').value;
            const cipherKey = document.getElementById('cipher-key').value;
            const sampleText = document.getElementById('voynich-sample').textContent;
            let output = '';
            
            // Very simplified cipher methods for demonstration
            switch(cipherMethod) {
                case 'caesar':
                    output = 'Applying Caesar shift with key ' + cipherKey + '...\n';
                    output += 'Result: ';
                    // Just shift some characters for visualization
                    for (let i = 0; i < sampleText.length; i++) {
                        const code = sampleText.charCodeAt(i);
                        if (code >= 0x1D10 && code <= 0x1D50) {
                            const shift = parseInt(cipherKey) % 20;
                            let newCode = code + shift;
                            if (newCode > 0x1D50) newCode = 0x1D10 + (newCode - 0x1D50 - 1);
                            output += String.fromCharCode(newCode);
                        } else {
                            output += sampleText[i];
                        }
                    }
                    break;
                case 'atbash':
                    output = 'Applying Atbash (reversal) cipher...\n';
                    output += 'Result: ';
                    for (let i = 0; i < sampleText.length; i++) {
                        const code = sampleText.charCodeAt(i);
                        if (code >= 0x1D10 && code <= 0x1D50) {
                            const newCode = 0x1D50 - (code - 0x1D10);
                            output += String.fromCharCode(newCode);
                        } else {
                            output += sampleText[i];
                        }
                    }
                    break;
                case 'vigenere':
                    output = 'Applying Vigen√®re cipher with key "' + cipherKey + '"...\n';
                    output += 'Result: ';
                    if (cipherKey.length === 0) {
                        output += '[Error: Vigen√®re cipher requires a key]';
                    } else {
                        // Simple visualization of Vigen√®re effect
                        for (let i = 0; i < sampleText.length; i++) {
                            const code = sampleText.charCodeAt(i);
                            if (code >= 0x1D10 && code <= 0x1D50) {
                                const keyChar = cipherKey.charCodeAt(i % cipherKey.length) % 20;
                                let newCode = code + keyChar;
                                if (newCode > 0x1D50) newCode = 0x1D10 + (newCode - 0x1D50 - 1);
                                output += String.fromCharCode(newCode);
                            } else {
                                output += sampleText[i];
                            }
                        }
                    }
                    break;
                case 'substitution':
                    output = 'Applying custom substitution...\n';
                    output += 'Result: ';
                    // Convert to Latin alphabet for demonstration
                    for (let i = 0; i < sampleText.length; i++) {
                        const code = sampleText.charCodeAt(i);
                        if (code >= 0x1D10 && code <= 0x1D50) {
                            // Map to English alphabet range
                            const mappedCode = 97 + ((code - 0x1D10) % 26);
                            output += String.fromCharCode(mappedCode);
                        } else {
                            output += sampleText[i];
                        }
                    }
                    break;
                default:
                    output = 'Unknown cipher method';
            }
            
            document.getElementById('cipher-output').textContent = output;
        });
        
        // Theory Voting
        let votes = {
            hoax: 0,
            constructed: 0,
            cipher: 0,
            lost: 0,
            glossolalia: 0
        };
        
        let totalVotes = 0;
        
        document.querySelectorAll('.vote-btn[data-theory]').forEach(button => {
            button.addEventListener('click', () => {
                const theory = button.getAttribute('data-theory');
                votes[theory]++;
                totalVotes++;
                updateVoteDisplay();
                
                // Flash the button
                button.style.backgroundColor = 'var(--gold-accent)';
                button.style.color = 'var(--bg-color)';
                setTimeout(() => {
                    button.style.backgroundColor = '';
                    button.style.color = '';
                }, 200);
            });
        });
        
        function updateVoteDisplay() {
            for (const theory in votes) {
                const percentage = totalVotes === 0 ? 0 : Math.round((votes[theory] / totalVotes) * 100);
                const fillElement = document.querySelector(`.vote-fill[data-theory="${theory}"]`);
                const percentElement = document.querySelector(`.vote-percent[data-theory="${theory}"]`);
                
                fillElement.style.width = percentage + '%';
                percentElement.textContent = percentage + '%';
            }
        }
        
        // Quiz
        const options = document.querySelectorAll('.option');
        const submitQuiz = document.querySelector('.submit-quiz');
        const quizResults = document.querySelector('.quiz-results');
        const quizScore = document.querySelector('.quiz-score');
        const resetQuiz = document.querySelector('.reset-quiz');
        
        options.forEach(option => {
            option.addEventListener('click', () => {
                // Deselect other options in the same question
                const questionElement = option.closest('.question');
                questionElement.querySelectorAll('.option').forEach(opt => {
                    opt.classList.remove('selected');
                });
                
                // Select this option
                option.classList.add('selected');
            });
        });
        
        submitQuiz.addEventListener('click', () => {
            let score = 0;
            const questions = document.querySelectorAll('.question');
            
            questions.forEach(question => {
                const selected = question.querySelector('.option.selected');
                const options = question.querySelectorAll('.option');
                
                options.forEach(option => {
                    if (option.getAttribute('data-correct') === 'true') {
                        option.classList.add('correct');
                    }
                    
                    if (selected === option && option.getAttribute('data-correct') !== 'true') {
                        option.classList.add('incorrect');
                    }
                });
                
                if (selected && selected.getAttribute('data-correct') === 'true') {
                    score++;
                }
            });
            
            quizScore.textContent = `${score}/5`;
            quizResults.style.display = 'block';
            submitQuiz.style.display = 'none';
            
            // Disable further selection
            options.forEach(option => {
                option.style.pointerEvents = 'none';
            });
        });
        
        resetQuiz.addEventListener('click', () => {
            // Reset selection state
            options.forEach(option => {
                option.classList.remove('selected', 'correct', 'incorrect');
                option.style.pointerEvents = 'auto';
            });
            
            quizResults.style.display = 'none';
            submitQuiz.style.display = 'block';
        });
    </script>
</body>
</html>