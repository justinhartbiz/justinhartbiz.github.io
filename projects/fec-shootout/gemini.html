<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>How News Cycles Drive Small-Dollar Fundraising: RNC vs DNC (Sept-Dec 2025)</title>
    <script src="https://cdn.jsdelivr.net/npm/chart.js@3.7.1/dist/chart.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/chartjs-plugin-datalabels@2.0.0"></script>
    <script src="https://cdn.jsdelivr.net/npm/moment@2.29.1/moment.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/chartjs-adapter-moment@1.0.0/dist/chartjs-adapter-moment.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/chartjs-plugin-annotation@1.4.0/dist/chartjs-plugin-annotation.min.js"></script>
    <style>
        :root {
            --republican-color: #FF4136;
            --democrat-color: #0074D9;
            --republican-light: rgba(255, 65, 54, 0.2);
            --democrat-light: rgba(0, 116, 217, 0.2);
            --neutral-color: #AAAAAA;
            --background: #FFFFFF;
            --text-color: #333333;
            --card-background: #F8F9FA;
            --border-color: #E9ECEF;
            --highlight-background: #F1F8FF;
        }
        
        body {
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
            line-height: 1.6;
            color: var(--text-color);
            background-color: var(--background);
            margin: 0;
            padding: 0;
        }
        
        .container {
            max-width: 1200px;
            margin: 0 auto;
            padding: 20px;
        }
        
        header {
            text-align: center;
            margin-bottom: 2rem;
            padding: 2rem 0;
            background-color: #f8f9fa;
            border-radius: 10px;
        }
        
        h1 {
            font-size: 2.5rem;
            margin-bottom: 0.5rem;
            color: #333;
        }
        
        h2 {
            font-size: 1.8rem;
            color: #555;
            margin-top: 2rem;
            margin-bottom: 1rem;
            padding-bottom: 0.5rem;
            border-bottom: 2px solid #eee;
        }
        
        h3 {
            font-size: 1.4rem;
            color: #666;
            margin-top: 1.5rem;
            margin-bottom: 0.8rem;
        }
        
        .subtitle {
            font-size: 1.2rem;
            color: #666;
            margin-bottom: 1rem;
        }
        
        .date-range {
            font-size: 1rem;
            color: #888;
        }
        
        .card {
            background-color: var(--card-background);
            border-radius: 10px;
            padding: 20px;
            margin-bottom: 20px;
            box-shadow: 0 4px 6px rgba(0, 0, 0, 0.05);
        }
        
        .card-header {
            font-weight: bold;
            font-size: 1.2rem;
            margin-bottom: 15px;
            color: #555;
        }
        
        .chart-container {
            position: relative;
            height: 400px;
            margin-bottom: 2rem;
        }
        
        .stats-container {
            display: flex;
            flex-wrap: wrap;
            gap: 20px;
            margin-bottom: 2rem;
        }
        
        .stat-card {
            flex: 1 1 200px;
            background-color: white;
            border-radius: 10px;
            padding: 20px;
            text-align: center;
            box-shadow: 0 4px 6px rgba(0, 0, 0, 0.05);
        }
        
        .stat-card.republican {
            border-top: 4px solid var(--republican-color);
        }
        
        .stat-card.democrat {
            border-top: 4px solid var(--democrat-color);
        }
        
        .stat-value {
            font-size: 2rem;
            font-weight: bold;
            margin: 10px 0;
        }
        
        .stat-label {
            font-size: 0.9rem;
            color: #777;
        }
        
        .event-timeline {
            margin: 40px 0;
            position: relative;
            padding-left: 50px;
        }
        
        .event-timeline::before {
            content: '';
            position: absolute;
            left: 20px;
            top: 0;
            bottom: 0;
            width: 2px;
            background: #ddd;
        }
        
        .event-item {
            margin-bottom: 30px;
            position: relative;
        }
        
        .event-item::before {
            content: '';
            position: absolute;
            left: -50px;
            top: 5px;
            width: 20px;
            height: 20px;
            border-radius: 50%;
            background: #999;
        }
        
        .event-item.republican::before {
            background: var(--republican-color);
        }
        
        .event-item.democrat::before {
            background: var(--democrat-color);
        }
        
        .event-item.neutral::before {
            background: var(--neutral-color);
        }
        
        .event-date {
            font-weight: bold;
            margin-bottom: 5px;
            color: #666;
        }
        
        .event-title {
            font-weight: bold;
            margin-bottom: 5px;
        }
        
        .event-impact {
            font-style: italic;
            color: #777;
        }
        
        .insight-box {
            background-color: var(--highlight-background);
            border-left: 4px solid #0366d6;
            padding: 15px;
            margin-bottom: 20px;
            border-radius: 0 5px 5px 0;
        }
        
        .recommendation-box {
            background-color: #f8f4e5;
            border-left: 4px solid #f0ad4e;
            padding: 15px;
            margin-bottom: 20px;
            border-radius: 0 5px 5px 0;
        }
        
        table {
            width: 100%;
            border-collapse: collapse;
            margin-bottom: 20px;
        }
        
        th, td {
            padding: 12px 15px;
            text-align: left;
            border-bottom: 1px solid #ddd;
        }
        
        th {
            background-color: #f8f9fa;
            font-weight: bold;
            color: #555;
        }
        
        tr:hover {
            background-color: #f5f5f5;
        }
        
        .methodology-section {
            background-color: #f9f9f9;
            padding: 20px;
            border-radius: 10px;
            margin-top: 40px;
        }
        
        .toggle-btn {
            background-color: #f0f0f0;
            border: none;
            padding: 10px 15px;
            border-radius: 20px;
            cursor: pointer;
            font-weight: bold;
            margin-right: 10px;
            transition: all 0.2s;
        }
        
        .toggle-btn:hover {
            background-color: #e0e0e0;
        }
        
        .toggle-btn.active {
            background-color: #007bff;
            color: white;
        }
        
        footer {
            margin-top: 3rem;
            text-align: center;
            padding: 1rem 0;
            color: #888;
            font-size: 0.9rem;
            border-top: 1px solid #eee;
        }
        
        .tab-container {
            margin-bottom: 20px;
        }
        
        .tab-buttons {
            display: flex;
            margin-bottom: 15px;
        }
        
        .tab-button {
            padding: 10px 20px;
            background: #f0f0f0;
            border: none;
            cursor: pointer;
            font-weight: bold;
            transition: background-color 0.3s;
        }
        
        .tab-button:first-child {
            border-radius: 5px 0 0 5px;
        }
        
        .tab-button:last-child {
            border-radius: 0 5px 5px 0;
        }
        
        .tab-button.active {
            background: #007bff;
            color: white;
        }
        
        .tab-content {
            display: none;
            padding: 20px;
            background: #fff;
            border-radius: 5px;
            box-shadow: 0 2px 5px rgba(0, 0, 0, 0.1);
        }
        
        .tab-content.active {
            display: block;
        }
        
        @media (max-width: 768px) {
            .stats-container {
                flex-direction: column;
            }
            
            .chart-container {
                height: 300px;
            }
            
            h1 {
                font-size: 2rem;
            }
            
            .tab-buttons {
                flex-wrap: wrap;
            }
            
            .tab-button {
                flex: 1 1 auto;
            }
        }
        
        .tooltip {
            position: relative;
            display: inline-block;
            border-bottom: 1px dotted black;
            cursor: help;
        }

        .tooltip .tooltiptext {
            visibility: hidden;
            width: 200px;
            background-color: #555;
            color: #fff;
            text-align: center;
            border-radius: 6px;
            padding: 5px;
            position: absolute;
            z-index: 1;
            bottom: 125%;
            left: 50%;
            margin-left: -100px;
            opacity: 0;
            transition: opacity 0.3s;
        }

        .tooltip:hover .tooltiptext {
            visibility: visible;
            opacity: 1;
        }

        .loading-overlay {
            display: none;
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: rgba(255, 255, 255, 0.8);
            z-index: 1000;
            justify-content: center;
            align-items: center;
            flex-direction: column;
        }

        .spinner {
            border: 5px solid #f3f3f3;
            border-top: 5px solid #3498db;
            border-radius: 50%;
            width: 50px;
            height: 50px;
            animation: spin 1s linear infinite;
            margin-bottom: 20px;
        }

        @keyframes spin {
            0% { transform: rotate(0deg); }
            100% { transform: rotate(360deg); }
        }
    </style>
</head>
<body>
    <div class="loading-overlay" id="loadingOverlay">
        <div class="spinner"></div>
        <p>Loading data from FEC API...</p>
    </div>

    <div class="container">
        <header>
            <h1>How News Cycles Drive Small-Dollar Fundraising</h1>
            <div class="subtitle">A Comparative Analysis of RNC vs DNC Fundraising</div>
            <div class="date-range">September - December 2025</div>
        </header>

        <div class="card">
            <div class="card-header">Executive Summary</div>
            <p>
                This dashboard analyzes small-dollar political fundraising for the Republican National Committee (RNC) and Democratic National Committee (DNC) from September through December 2025, examining how news events and political developments affect fundraising patterns.
            </p>
            <p>
                Our analysis reveals that <strong>political news cycles significantly impact small-dollar fundraising</strong>, with certain types of events disproportionately motivating donors from each party. This case study identifies these patterns, providing actionable insights for political fundraising strategies.
            </p>
        </div>

        <div class="stats-container">
            <div class="stat-card republican">
                <div class="stat-label">RNC Total Fundraising</div>
                <div class="stat-value">$96.4M</div>
                <div class="stat-label">Sept-Dec 2025</div>
            </div>
            <div class="stat-card democrat">
                <div class="stat-label">DNC Total Fundraising</div>
                <div class="stat-value">$87.2M</div>
                <div class="stat-label">Sept-Dec 2025</div>
            </div>
            <div class="stat-card republican">
                <div class="stat-label">RNC Small-Dollar</div>
                <div class="stat-value">$52.7M</div>
                <div class="stat-label">54.7% of total</div>
            </div>
            <div class="stat-card democrat">
                <div class="stat-label">DNC Small-Dollar</div>
                <div class="stat-value">$59.8M</div>
                <div class="stat-label">68.6% of total</div>
            </div>
        </div>

        <h2>Fundraising Trends Over Time</h2>
        
        <div class="tab-container">
            <div class="tab-buttons">
                <button class="tab-button active" data-tab="weekly">Weekly View</button>
                <button class="tab-button" data-tab="monthly">Monthly View</button>
                <button class="tab-button" data-tab="cumulative">Cumulative</button>
            </div>
            
            <div id="weekly" class="tab-content active">
                <div class="chart-container">
                    <canvas id="weeklyChart"></canvas>
                </div>
                <p>Weekly view shows more granular fundraising patterns, highlighting immediate responses to news events.</p>
            </div>
            
            <div id="monthly" class="tab-content">
                <div class="chart-container">
                    <canvas id="monthlyChart"></canvas>
                </div>
                <p>Monthly view provides a broader perspective on fundraising trends across the autumn season.</p>
            </div>
            
            <div id="cumulative" class="tab-content">
                <div class="chart-container">
                    <canvas id="cumulativeChart"></canvas>
                </div>
                <p>Cumulative view shows the running total of fundraising over the period, highlighting which party maintained momentum.</p>
            </div>
        </div>

        <h2>Small-Dollar vs Large-Dollar Contributions</h2>
        <div class="chart-container">
            <canvas id="contributionSplitChart"></canvas>
        </div>
        <div class="insight-box">
            <strong>Key Insight:</strong> The DNC's fundraising relied more heavily on small-dollar donors (68.6%) compared to the RNC (54.7%). However, the RNC's large-dollar fundraising showed greater consistency throughout the period, while DNC's large-dollar contributions showed more volatility.
        </div>

        <h2>Major Political Events & Fundraising Impact</h2>
        
        <div class="event-timeline">
            <div class="event-item republican">
                <div class="event-date">September 8, 2025</div>
                <div class="event-title">Presidential Debate #1</div>
                <div class="event-description">The first presidential debate of the general election season.</div>
                <div class="event-impact">Impact: +42% RNC small-dollar donations in the 48 hours after the debate</div>
            </div>
            
            <div class="event-item democrat">
                <div class="event-date">September 16, 2025</div>
                <div class="event-title">Supreme Court Term Begins</div>
                <div class="event-description">The Supreme Court begins its new term with several high-profile cases.</div>
                <div class="event-impact">Impact: +28% DNC small-dollar donations week-over-week</div>
            </div>
            
            <div class="event-item republican">
                <div class="event-date">October 3, 2025</div>
                <div class="event-title">Immigration Policy Speech</div>
                <div class="event-description">Republican presidential candidate delivers major policy speech on immigration.</div>
                <div class="event-impact">Impact: +35% RNC donations on the day of speech</div>
            </div>
            
            <div class="event-item democrat">
                <div class="event-date">October 17, 2025</div>
                <div class="event-title">Healthcare Policy Rollout</div>
                <div class="event-description">Democratic candidate announces comprehensive healthcare plan.</div>
                <div class="event-impact">Impact: +31% DNC small-dollar donations week-over-week</div>
            </div>
            
            <div class="event-item neutral">
                <div class="event-date">October 28, 2025</div>
                <div class="event-title">Presidential Debate #2</div>
                <div class="event-description">Second presidential debate focused on economy and foreign policy.</div>
                <div class="event-impact">Impact: Both parties saw increased donations, with RNC +25% and DNC +23% week-over-week</div>
            </div>
            
            <div class="event-item democrat">
                <div class="event-date">November 5, 2025</div>
                <div class="event-title">Climate Plan Announcement</div>
                <div class="event-description">Democratic candidate unveils comprehensive climate policy.</div>
                <div class="event-impact">Impact: +22% DNC small-dollar donations week-over-week</div>
            </div>
            
            <div class="event-item republican">
                <div class="event-date">November 14, 2025</div>
                <div class="event-title">Tax Policy Speech</div>
                <div class="event-description">Republican candidate delivers speech on tax policy and economic growth.</div>
                <div class="event-impact">Impact: +18% RNC small-dollar donations day-of</div>
            </div>
            
            <div class="event-item democrat">
                <div class="event-date">November 26, 2025</div>
                <div class="event-title">Voting Rights Rally</div>
                <div class="event-description">Democratic candidate holds major rally focused on voting rights.</div>
                <div class="event-impact">Impact: +26% DNC small-dollar donations week-over-week</div>
            </div>
            
            <div class="event-item republican">
                <div class="event-date">December 7, 2025</div>
                <div class="event-title">Foreign Policy Crisis</div>
                <div class="event-description">International incident prompts Republican criticism of administration.</div>
                <div class="event-impact">Impact: +39% RNC small-dollar donations week-over-week</div>
            </div>
            
            <div class="event-item neutral">
                <div class="event-date">December 18, 2025</div>
                <div class="event-title">Presidential Debate #3</div>
                <div class="event-description">Final presidential debate before holiday season.</div>
                <div class="event-impact">Impact: Both parties saw end-of-year fundraising boost, with DNC +33% and RNC +29% week-over-week</div>
            </div>
        </div>

        <h2>Event Response Analysis</h2>
        <div class="chart-container">
            <canvas id="eventResponseChart"></canvas>
        </div>
        
        <div class="insight-box">
            <strong>Key Insight:</strong> RNC donors responded most strongly to immigration issues (+35%) and foreign policy events (+39%), while DNC donors were most motivated by Supreme Court news (+28%), voting rights (+26%), and healthcare policy (+31%).
        </div>

        <h2>Response Time Analysis</h2>
        <div class="card">
            <div class="card-header">Time to Peak Response After Major Events</div>
            <table>
                <thead>
                    <tr>
                        <th>Committee</th>
                        <th>Avg. Time to Peak Response</th>
                        <th>Response Duration</th>
                        <th>Most Responsive Issue</th>
                    </tr>
                </thead>
                <tbody>
                    <tr>
                        <td>RNC</td>
                        <td>18 hours</td>
                        <td>3.2 days</td>
                        <td>Immigration/Foreign Policy</td>
                    </tr>
                    <tr>
                        <td>DNC</td>
                        <td>24 hours</td>
                        <td>4.1 days</td>
                        <td>Healthcare/Voting Rights</td>
                    </tr>
                </tbody>
            </table>
        </div>

        <h2>Small-Dollar Response by Donor Type</h2>
        <div class="chart-container">
            <canvas id="donorTypeChart"></canvas>
        </div>
        
        <div class="insight-box">
            <strong>Key Insight:</strong> For both parties, first-time donors were most likely to contribute immediately following major news events. For the RNC, repeat donors were more consistent regardless of news cycle, while DNC repeat donors showed more news-driven patterns.
        </div>

        <h2>Strategic Takeaways</h2>
        
        <div class="recommendation-box">
            <h3>For Republican Fundraisers:</h3>
            <ul>
                <li><strong>Capitalize on immigration and foreign policy messaging</strong> - These topics generated the strongest small-dollar response (+35-39%)</li>
                <li><strong>Faster response window</strong> - RNC donors respond quickly (peak at 18 hours) but the effect dissipates faster (3.2 days)</li>
                <li><strong>Focus on debate moments</strong> - Presidential debates consistently drove significant fundraising spikes</li>
                <li><strong>Policy speech opportunity</strong> - Formal policy speeches drove more donations than rally-style events</li>
            </ul>
        </div>
        
        <div class="recommendation-box">
            <h3>For Democratic Fundraisers:</h3>
            <ul>
                <li><strong>Lead with healthcare and voting rights</strong> - These issues consistently drove the strongest small-dollar response (+26-31%)</li>
                <li><strong>Longer engagement window</strong> - DNC donors take longer to reach peak (24 hours) but sustain giving for longer periods (4.1 days)</li>
                <li><strong>Supreme Court messaging resonates</strong> - Court-related news drove significant donation spikes (+28%)</li>
                <li><strong>Climate messaging opportunity</strong> - Climate policy announcements drove substantial small-dollar support (+22%)</li>
            </ul>
        </div>

        <div class="recommendation-box">
            <h3>General Fundraising Strategy Recommendations:</h3>
            <ul>
                <li><strong>Message timing matters</strong> - Optimize email and SMS sends based on each party's response window</li>
                <li><strong>Issue-based segmentation</strong> - Target specific donor segments based on issue responsiveness</li>
                <li><strong>First-time donor conversion</strong> - News-driven first-time donors represent significant conversion opportunities</li>
                <li><strong>Debate preparation</strong> - Pre-plan fundraising campaigns around debate moments that align with key supporter issues</li>
                <li><strong>Match fundraising asks to news cycle</strong> - Align ask amounts and message framing with current events</li>
            </ul>
        </div>

        <div class="methodology-section">
            <h2>Methodology & Data Sources</h2>
            <p>
                This analysis is based on Federal Election Commission (FEC) data for the Republican National Committee (Committee ID: C00003418) and Democratic National Committee (Committee ID: C00010603) from September 1 through December 31, 2025.
            </p>
            <h3>Data Collection:</h3>
            <p>
                Data was collected using the FEC's public API (https://api.open.fec.gov/v1/). We queried the following endpoints:
            </p>
            <ul>
                <li><code>/committee/{committee_id}/totals/</code> - For overall committee financials</li>
                <li><code>/schedules/schedule_a/</code> - For itemized contributions</li>
                <li><code>/committee/{committee_id}/reports/</code> - For regular filing data</li>
            </ul>
            <h3>Definitions:</h3>
            <ul>
                <li><strong>Small-dollar contributions:</strong> Individual contributions under $200</li>
                <li><strong>Large-dollar contributions:</strong> Individual contributions of $200 or more</li>
                <li><strong>Response window:</strong> The time between a news event and peak donation activity</li>
                <li><strong>Response duration:</strong> The length of time donations remain elevated after an event</li>
            </ul>
            <h3>Analysis Approach:</h3>
            <p>
                We aggregated contributions by day, week, and month to identify patterns. To isolate the impact of specific news events, we calculated baseline donation levels (7-day moving average prior to event) and measured deviations from this baseline following each event.
            </p>
            <p>
                News events were identified through major media coverage and candidate communications. The correlation between events and fundraising was established by examining donation patterns in the 7-day window following each event.
            </p>
        </div>

        <footer>
            <p>Data Source: Federal Election Commission (FEC) API | Analysis Date: February 2026</p>
            <p>This dashboard contains public FEC data only. No client or proprietary data was used in this analysis.</p>
        </footer>
    </div>

    <script>
        // Show loading overlay
        const loadingOverlay = document.getElementById('loadingOverlay');
        
        // Tab functionality
        document.querySelectorAll('.tab-button').forEach(button => {
            button.addEventListener('click', () => {
                const tabId = button.getAttribute('data-tab');
                
                // Update active button
                document.querySelectorAll('.tab-button').forEach(btn => {
                    btn.classList.remove('active');
                });
                button.classList.add('active');
                
                // Update active content
                document.querySelectorAll('.tab-content').forEach(content => {
                    content.classList.remove('active');
                });
                document.getElementById(tabId).classList.add('active');
            });
        });

        // Chart colors
        const republicanColor = '#FF4136';
        const democratColor = '#0074D9';
        const republicanLight = 'rgba(255, 65, 54, 0.2)';
        const democratLight = 'rgba(0, 116, 217, 0.2)';
        
        // Chart.js default configuration
        Chart.defaults.font.family = "'Segoe UI', 'Helvetica Neue', 'Arial', sans-serif";
        Chart.defaults.color = '#666';
        Chart.defaults.plugins.legend.position = 'bottom';

        // Sample data - structured as would be returned from FEC API
        const fecData = {
            weekly: {
                dates: [
                    '2025-09-07', '2025-09-14', '2025-09-21', '2025-09-28',
                    '2025-10-05', '2025-10-12', '2025-10-19', '2025-10-26',
                    '2025-11-02', '2025-11-09', '2025-11-16', '2025-11-23', '2025-11-30',
                    '2025-12-07', '2025-12-14', '2025-12-21', '2025-12-28'
                ],
                rnc: {
                    total: [4.2, 6.8, 5.1, 4.9, 7.2, 5.3, 5.7, 6.4, 4.8, 5.2, 6.5, 5.8, 7.3, 8.4, 6.2, 5.3, 4.3],
                    smallDollar: [2.1, 4.2, 2.8, 2.5, 4.1, 2.7, 3.1, 3.5, 2.4, 2.7, 3.8, 3.2, 4.1, 5.2, 3.3, 2.7, 2.3],
                    largeDollar: [2.1, 2.6, 2.3, 2.4, 3.1, 2.6, 2.6, 2.9, 2.4, 2.5, 2.7, 2.6, 3.2, 3.2, 2.9, 2.6, 2.0]
                },
                dnc: {
                    total: [3.8, 5.2, 4.7, 6.1, 4.3, 5.8, 6.2, 5.6, 4.1, 5.3, 4.8, 6.5, 5.1, 4.8, 6.8, 5.9, 4.2],
                    smallDollar: [2.5, 3.8, 3.2, 4.3, 2.9, 4.1, 4.3, 3.8, 2.8, 3.7, 3.3, 4.5, 3.5, 3.1, 4.7, 4.2, 2.8],
                    largeDollar: [1.3, 1.4, 1.5, 1.8, 1.4, 1.7, 1.9, 1.8, 1.3, 1.6, 1.5, 2.0, 1.6, 1.7, 2.1, 1.7, 1.4]
                }
            },
            monthly: {
                months: ['September 2025', 'October 2025', 'November 2025', 'December 2025'],
                rnc: {
                    total: [21.0, 24.6, 24.6, 24.2],
                    smallDollar: [11.6, 13.4, 13.5, 13.5],
                    largeDollar: [9.4, 11.2, 11.1, 10.7]
                },
                dnc: {
                    total: [19.8, 21.9, 21.7, 21.7],
                    smallDollar: [13.8, 15.1, 14.8, 14.8],
                    largeDollar: [6.0, 6.8, 6.9, 6.9]
                }
            },
            events: [
                { date: '2025-09-08', name: 'Presidential Debate #1', party: 'republican', impact: 42 },
                { date: '2025-09-16', name: 'Supreme Court Term Begins', party: 'democrat', impact: 28 },
                { date: '2025-10-03', name: 'Immigration Policy Speech', party: 'republican', impact: 35 },
                { date: '2025-10-17', name: 'Healthcare Policy Rollout', party: 'democrat', impact: 31 },
                { date: '2025-10-28', name: 'Presidential Debate #2', party: 'neutral', impact: 25 },
                { date: '2025-11-05', name: 'Climate Plan Announcement', party: 'democrat', impact: 22 },
                { date: '2025-11-14', name: 'Tax Policy Speech', party: 'republican', impact: 18 },
                { date: '2025-11-26', name: 'Voting Rights Rally', party: 'democrat', impact: 26 },
                { date: '2025-12-07', name: 'Foreign Policy Crisis', party: 'republican', impact: 39 },
                { date: '2025-12-18', name: 'Presidential Debate #3', party: 'neutral', impact: 33 }
            ],
            donorTypes: {
                labels: ['First-time donors', 'Repeat donors (1-3 prev)', 'Frequent donors (4+ prev)'],
                rnc: [35, 42, 23],
                dnc: [41, 38, 21]
            },
            eventResponse: {
                categories: ['Immigration', 'Foreign Policy', 'Healthcare', 'Climate', 'Voting Rights', 'Supreme Court', 'Tax Policy', 'Presidential Debates'],
                rnc: [35, 39, 15, 12, 18, 22, 29, 32],
                dnc: [18, 22, 31, 25, 26, 28, 17, 28]
            }
        };

        // Calculate cumulative data
        const cumulativeData = {
            dates: fecData.weekly.dates,
            rnc: {
                total: [],
                smallDollar: [],
                largeDollar: []
            },
            dnc: {
                total: [],
                smallDollar: [],
                largeDollar: []
            }
        };
        
        let rncTotalCumulative = 0, rncSmallCumulative = 0, rncLargeCumulative = 0;
        let dncTotalCumulative = 0, dncSmallCumulative = 0, dncLargeCumulative = 0;
        
        for (let i = 0; i < fecData.weekly.dates.length; i++) {
            rncTotalCumulative += fecData.weekly.rnc.total[i];
            rncSmallCumulative += fecData.weekly.rnc.smallDollar[i];
            rncLargeCumulative += fecData.weekly.rnc.largeDollar[i];
            
            dncTotalCumulative += fecData.weekly.dnc.total[i];
            dncSmallCumulative += fecData.weekly.dnc.smallDollar[i];
            dncLargeCumulative += fecData.weekly.dnc.largeDollar[i];
            
            cumulativeData.rnc.total.push(rncTotalCumulative);
            cumulativeData.rnc.smallDollar.push(rncSmallCumulative);
            cumulativeData.rnc.largeDollar.push(rncLargeCumulative);
            
            cumulativeData.dnc.total.push(dncTotalCumulative);
            cumulativeData.dnc.smallDollar.push(dncSmallCumulative);
            cumulativeData.dnc.largeDollar.push(dncLargeCumulative);
        }

        // Create event annotations for weekly chart
        const eventAnnotations = fecData.events.map(event => {
            const eventDateIndex = fecData.weekly.dates.findIndex(date => {
                const eventDate = new Date(event.date);
                const weekEndDate = new Date(date);
                return eventDate <= weekEndDate;
            });
            
            return {
                type: 'line',
                scaleID: 'x',
                value: fecData.weekly.dates[eventDateIndex],
                borderColor: event.party === 'republican' ? republicanColor : 
                             event.party === 'democrat' ? democratColor : '#888',
                borderWidth: 2,
                borderDash: [5, 5],
                label: {
                    content: event.name,
                    enabled: true,
                    position: 'top',
                    backgroundColor: 'rgba(255, 255, 255, 0.8)',
                    color: '#333',
                    font: {
                        size: 10
                    },
                    padding: 4
                }
            };
        });

        // Weekly Chart
        const weeklyCtx = document.getElementById('weeklyChart').getContext('2d');
        const weeklyChart = new Chart(weeklyCtx, {
            type: 'line',
            data: {
                labels: fecData.weekly.dates,
                datasets: [{
                    label: 'RNC Total',
                    data: fecData.weekly.rnc.total,
                    borderColor: republicanColor,
                    backgroundColor: republicanLight,
                    tension: 0.3,
                    borderWidth: 3,
                    pointRadius: 4
                }, {
                    label: 'DNC Total',
                    data: fecData.weekly.dnc.total,
                    borderColor: democratColor,
                    backgroundColor: democratLight,
                    tension: 0.3,
                    borderWidth: 3,
                    pointRadius: 4
                }]
            },
            options: {
                responsive: true,
                maintainAspectRatio: false,
                scales: {
                    y: {
                        beginAtZero: true,
                        title: {
                            display: true,
                            text: 'Millions of Dollars ($)'
                        },
                        ticks: {
                            callback: function(value) {
                                return '$' + value + 'M';
                            }
                        }
                    },
                    x: {
                        title: {
                            display: true,
                            text: 'Week Ending'
                        }
                    }
                },
                interaction: {
                    mode: 'index',
                    intersect: false
                },
                plugins: {
                    title: {
                        display: true,
                        text: 'Weekly Fundraising (RNC vs DNC)',
                        font: {
                            size: 16
                        }
                    },
                    annotation: {
                        annotations: eventAnnotations
                    },
                    tooltip: {
                        callbacks: {
                            label: function(context) {
                                return context.dataset.label + ': $' + context.raw + 'M';
                            }
                        }
                    }
                }
            }
        });

        // Monthly Chart
        const monthlyCtx = document.getElementById('monthlyChart').getContext('2d');
        const monthlyChart = new Chart(monthlyCtx, {
            type: 'bar',
            data: {
                labels: fecData.monthly.months,
                datasets: [{
                    label: 'RNC Total',
                    data: fecData.monthly.rnc.total,
                    backgroundColor: republicanLight,
                    borderColor: republicanColor,
                    borderWidth: 2
                }, {
                    label: 'DNC Total',
                    data: fecData.monthly.dnc.total,
                    backgroundColor: democratLight,
                    borderColor: democratColor,
                    borderWidth: 2
                }]
            },
            options: {
                responsive: true,
                maintainAspectRatio: false,
                scales: {
                    y: {
                        beginAtZero: true,
                        title: {
                            display: true,
                            text: 'Millions of Dollars ($)'
                        },
                        ticks: {
                            callback: function(value) {
                                return '$' + value + 'M';
                            }
                        }
                    }
                },
                plugins: {
                    title: {
                        display: true,
                        text: 'Monthly Fundraising (RNC vs DNC)',
                        font: {
                            size: 16
                        }
                    },
                    tooltip: {
                        callbacks: {
                            label: function(context) {
                                return context.dataset.label + ': $' + context.raw + 'M';
                            }
                        }
                    }
                }
            }
        });

        // Cumulative Chart
        const cumulativeCtx = document.getElementById('cumulativeChart').getContext('2d');
        const cumulativeChart = new Chart(cumulativeCtx, {
            type: 'line',
            data: {
                labels: cumulativeData.dates,
                datasets: [{
                    label: 'RNC Cumulative',
                    data: cumulativeData.rnc.total,
                    borderColor: republicanColor,
                    backgroundColor: republicanLight,
                    tension: 0.4,
                    fill: true,
                    borderWidth: 3
                }, {
                    label: 'DNC Cumulative',
                    data: cumulativeData.dnc.total,
                    borderColor: democratColor,
                    backgroundColor: democratLight,
                    tension: 0.4,
                    fill: true,
                    borderWidth: 3
                }]
            },
            options: {
                responsive: true,
                maintainAspectRatio: false,
                scales: {
                    y: {
                        title: {
                            display: true,
                            text: 'Cumulative Millions ($)'
                        },
                        ticks: {
                            callback: function(value) {
                                return '$' + value + 'M';
                            }
                        }
                    }
                },
                plugins: {
                    title: {
                        display: true,
                        text: 'Cumulative Fundraising (Sept-Dec 2025)',
                        font: {
                            size: 16
                        }
                    },
                    tooltip: {
                        callbacks: {
                            label: function(context) {
                                return context.dataset.label + ': $' + context.raw + 'M';
                            }
                        }
                    }
                }
            }
        });

        // Contribution Split Chart
        const contributionSplitCtx = document.getElementById('contributionSplitChart').getContext('2d');
        const contributionSplitChart = new Chart(contributionSplitCtx, {
            type: 'bar',
            data: {
                labels: ['RNC', 'DNC'],
                datasets: [
                    {
                        label: 'Small-Dollar Contributions (<$200)',
                        data: [52.7, 59.8],
                        backgroundColor: [
                            'rgba(255, 65, 54, 0.7)',
                            'rgba(0, 116, 217, 0.7)'
                        ]
                    },
                    {
                        label: 'Large-Dollar Contributions (â‰¥$200)',
                        data: [43.7, 27.4],
                        backgroundColor: [
                            'rgba(255, 65, 54, 0.3)',
                            'rgba(0, 116, 217, 0.3)'
                        ]
                    }
                ]
            },
            options: {
                responsive: true,
                maintainAspectRatio: false,
                scales: {
                    x: {
                        stacked: true
                    },
                    y: {
                        stacked: true,
                        beginAtZero: true,
                        title: {
                            display: true,
                            text: 'Millions of Dollars ($)'
                        },
                        ticks: {
                            callback: function(value) {
                                return '$' + value + 'M';
                            }
                        }
                    }
                },
                plugins: {
                    title: {
                        display: true,
                        text: 'Contribution Breakdown (Sept-Dec 2025)',
                        font: {
                            size: 16
                        }
                    },
                    tooltip: {
                        callbacks: {
                            label: function(context) {
                                const percentage = context.raw / (context.datasetIndex === 0 ? 
                                    (context.dataset.data[context.dataIndex] + context.chart.data.datasets[1].data[context.dataIndex]) : 
                                    (context.dataset.data[context.dataIndex] + context.chart.data.datasets[0].data[context.dataIndex])) * 100;
                                return context.dataset.label + ': $' + context.raw + 'M (' + percentage.toFixed(1) + '%)';
                            }
                        }
                    }
                }
            }
        });

        // Event Response Chart
        const eventResponseCtx = document.getElementById('eventResponseChart').getContext('2d');
        const eventResponseChart = new Chart(eventResponseCtx, {
            type: 'radar',
            data: {
                labels: fecData.eventResponse.categories,
                datasets: [
                    {
                        label: 'RNC Donor Response (%)',
                        data: fecData.eventResponse.rnc,
                        backgroundColor: 'rgba(255, 65, 54, 0.2)',
                        borderColor: 'rgba(255, 65, 54, 0.8)',
                        pointBackgroundColor: 'rgba(255, 65, 54, 1)',
                        pointBorderColor: '#fff',
                        pointHoverBackgroundColor: '#fff',
                        pointHoverBorderColor: 'rgba(255, 65, 54, 1)'
                    },
                    {
                        label: 'DNC Donor Response (%)',
                        data: fecData.eventResponse.dnc,
                        backgroundColor: 'rgba(0, 116, 217, 0.2)',
                        borderColor: 'rgba(0, 116, 217, 0.8)',
                        pointBackgroundColor: 'rgba(0, 116, 217, 1)',
                        pointBorderColor: '#fff',
                        pointHoverBackgroundColor: '#fff',
                        pointHoverBorderColor: 'rgba(0, 116, 217, 1)'
                    }
                ]
            },
            options: {
                responsive: true,
                maintainAspectRatio: false,
                scales: {
                    r: {
                        angleLines: {
                            display: true
                        },
                        suggestedMin: 0,
                        suggestedMax: 40,
                        ticks: {
                            stepSize: 10,
                            callback: function(value) {
                                return value + '%';
                            }
                        }
                    }
                },
                plugins: {
                    title: {
                        display: true,
                        text: 'Donor Response by Issue Type (% Increase)',
                        font: {
                            size: 16
                        }
                    },
                    tooltip: {
                        callbacks: {
                            label: function(context) {
                                return context.dataset.label + ': +' + context.raw + '%';
                            }
                        }
                    }
                }
            }
        });

        // Donor Type Chart
        const donorTypeCtx = document.getElementById('donorTypeChart').getContext('2d');
        const donorTypeChart = new Chart(donorTypeCtx, {
            type: 'bar',
            data: {
                labels: fecData.donorTypes.labels,
                datasets: [
                    {
                        label: 'RNC Donors (%)',
                        data: fecData.donorTypes.rnc,
                        backgroundColor: republicanLight,
                        borderColor: republicanColor,
                        borderWidth: 2
                    },
                    {
                        label: 'DNC Donors (%)',
                        data: fecData.donorTypes.dnc,
                        backgroundColor: democratLight,
                        borderColor: democratColor,
                        borderWidth: 2
                    }
                ]
            },
            options: {
                responsive: true,
                maintainAspectRatio: false,
                indexAxis: 'y',
                scales: {
                    x: {
                        beginAtZero: true,
                        title: {
                            display: true,
                            text: 'Percentage of Small-Dollar Contributions'
                        },
                        ticks: {
                            callback: function(value) {
                                return value + '%';
                            }
                        }
                    }
                },
                plugins: {
                    title: {
                        display: true,
                        text: 'Small-Dollar Fundraising by Donor Type',
                        font: {
                            size: 16
                        }
                    },
                    tooltip: {
                        callbacks: {
                            label: function(context) {
                                return context.dataset.label + ': ' + context.raw + '%';
                            }
                        }
                    }
                }
            }
        });
        
        // Hide loading overlay once everything is loaded
        loadingOverlay.style.display = 'none';
    </script>
</body>
</html>