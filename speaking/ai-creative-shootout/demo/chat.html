<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>AI Creative Shootout ‚Äî Group Chat</title>
<style>
@import url('https://fonts.googleapis.com/css2?family=Inter:wght@400;600;700&display=swap');
*{margin:0;padding:0;box-sizing:border-box}
body{background:#000;font-family:'Inter',system-ui,sans-serif;display:flex;align-items:center;justify-content:center;min-height:100vh;color:#fff}

/* Phone frame */
.phone{width:400px;max-width:95vw;height:90vh;max-height:820px;background:#000;border-radius:40px;border:3px solid #333;display:flex;flex-direction:column;overflow:hidden;position:relative;box-shadow:0 0 60px rgba(0,0,0,.8)}
.notch{width:160px;height:30px;background:#000;border-radius:0 0 20px 20px;margin:0 auto;position:relative;z-index:10}

/* Top bar */
.top-bar{padding:4px 16px 10px;text-align:center;border-bottom:1px solid #1c1c1e}
.top-bar .title{font-size:.95em;font-weight:700}
.top-bar .subtitle{font-size:.7em;color:#8e8e93;margin-top:2px}
.back-link{position:absolute;left:16px;top:38px;color:#0a84ff;text-decoration:none;font-size:.85em}

/* Chat area */
.chat-area{flex:1;overflow-y:auto;padding:12px 14px;display:flex;flex-direction:column;gap:2px;scroll-behavior:smooth}

/* Messages */
.msg-group{display:flex;flex-direction:column;gap:1px;margin-bottom:8px}
.sender-name{font-size:.7em;font-weight:600;margin-left:48px;margin-bottom:2px}
.sender-patriot{color:#0a84ff}
.sender-skeptic{color:#8e8e93}
.sender-urgency{color:#ff453a}
.sender-consensus{color:#30d158}

.msg-row{display:flex;align-items:flex-end;gap:8px}
.msg-row.right{flex-direction:row-reverse}

.avatar{width:32px;height:32px;border-radius:50%;display:flex;align-items:center;justify-content:center;font-size:.9em;flex-shrink:0}
.avatar-patriot{background:#0a84ff20}
.avatar-skeptic{background:#8e8e9320}
.avatar-urgency{background:#ff453a20}
.avatar-consensus{background:#30d15820}
.avatar-user{background:#0a84ff}

.bubble{max-width:75%;padding:9px 14px;font-size:.88em;line-height:1.4;border-radius:18px;word-wrap:break-word}
.bubble-patriot{background:#0a84ff;color:#fff;border-bottom-left-radius:4px}
.bubble-skeptic{background:#2c2c2e;color:#fff;border-bottom-left-radius:4px}
.bubble-urgency{background:#ff453a;color:#fff;border-bottom-left-radius:4px}
.bubble-user{background:#0a84ff;color:#fff;border-bottom-right-radius:4px}

/* Consensus special bubble */
.consensus-bubble{background:linear-gradient(135deg,#1c1c1e,#2c2c2e);border:1px solid #30d158;border-radius:16px;padding:14px;margin:12px 8px;text-align:center}
.consensus-bubble .label{color:#30d158;font-weight:700;font-size:.75em;text-transform:uppercase;letter-spacing:1px;margin-bottom:8px}
.consensus-bubble .body{font-size:.85em;line-height:1.5;color:#e5e5ea;text-align:left;white-space:pre-line}

/* Typing indicator */
.typing-indicator{display:flex;align-items:center;gap:8px;margin-bottom:8px;padding-left:48px}
.typing-indicator .name{font-size:.7em;font-weight:600;color:#8e8e93}
.typing-dots{display:flex;gap:4px}
.typing-dots span{width:7px;height:7px;background:#8e8e93;border-radius:50%;animation:typingBounce 1.4s infinite}
.typing-dots span:nth-child(2){animation-delay:.2s}
.typing-dots span:nth-child(3){animation-delay:.4s}
@keyframes typingBounce{0%,60%,100%{transform:translateY(0);opacity:.4}30%{transform:translateY(-4px);opacity:1}}

/* Input bar */
.input-bar{padding:8px 10px;border-top:1px solid #1c1c1e;display:flex;gap:8px;align-items:flex-end;background:#000}
.input-bar textarea{flex:1;background:#1c1c1e;border:none;border-radius:20px;color:#fff;padding:10px 16px;font-family:inherit;font-size:.88em;resize:none;height:40px;max-height:80px;outline:none}
.input-bar textarea::placeholder{color:#636366}
.send-btn{width:36px;height:36px;border-radius:50%;background:#0a84ff;border:none;color:#fff;font-size:1.1em;cursor:pointer;display:flex;align-items:center;justify-content:center;flex-shrink:0;transition:transform .15s}
.send-btn:hover{transform:scale(1.1)}
.send-btn:disabled{background:#333;cursor:default;transform:none}

/* Fade in */
.fade-in{animation:fadeIn .3s ease}
@keyframes fadeIn{from{opacity:0;transform:translateY(6px)}to{opacity:1;transform:translateY(0)}}

/* Speed toggle */
.speed-toggle{position:fixed;top:12px;right:16px;background:#1c1c1e;border:1px solid #333;border-radius:20px;padding:6px 14px;font-size:.8em;cursor:pointer;z-index:100;color:#fff;user-select:none;transition:background .2s}
.speed-toggle:hover{background:#2c2c2e}
.speed-toggle.fast{border-color:#ff9500}

/* Home indicator */
.home-bar{height:20px;display:flex;align-items:center;justify-content:center}
.home-bar div{width:120px;height:4px;background:#555;border-radius:2px}
</style>
</head>
<body>

<div class="speed-toggle" id="speedToggle" onclick="toggleSpeed()">üê¢ Presentation</div>

<div class="phone">
  <div class="notch"></div>
  <div class="top-bar">
    <div class="title">üéØ AI Creative Shootout</div>
    <div class="subtitle">ü¶Ö Patriot ¬∑ üîç Skeptic ¬∑ üî• Urgency</div>
  </div>

  <div class="chat-area" id="chatArea"></div>

  <div class="input-bar">
    <textarea id="userInput" placeholder="Paste your draft copy...">"The radical left is destroying America! Send $5 now!"</textarea>
    <button class="send-btn" id="sendBtn" onclick="startChat()">‚Üë</button>
  </div>
  <div class="home-bar"><div></div></div>
</div>

<script>
const chat = document.getElementById('chatArea');
const sendBtn = document.getElementById('sendBtn');
const userInput = document.getElementById('userInput');
let running = false;
let slowMode = true; // Default: presentation speed

function toggleSpeed() {
  slowMode = !slowMode;
  const btn = document.getElementById('speedToggle');
  btn.textContent = slowMode ? 'üê¢ Presentation' : 'üêá Fast';
  btn.classList.toggle('fast', !slowMode);
}

const SCRIPT = [
  {
    who: 'patriot',
    name: 'ü¶Ö The Patriot',
    text: 'Hold on. "Destroying America"? That\'s fear, not inspiration. Where\'s the PROMISE of greatness? I want a shining city on a hill, not a dumpster fire. This makes me want to hide, not donate.'
  },
  {
    who: 'skeptic',
    name: 'üîç The Skeptic',
    text: '"The radical left is destroying America" ‚Äî which part, specifically? The economy? Schools? This is vague fear-mongering. And "Send $5 now" ‚Äî why $5? Why not explain what the $5 DOES?'
  },
  {
    who: 'urgency',
    name: 'üî• The Urgency',
    text: 'WEAK. SO WEAK!! Where\'s the DEADLINE?! Where\'s the MATCH?! "Send $5 now" ‚Äî NOW isn\'t urgent enough! I need a COUNTDOWN TIMER, a 3X MATCH, and an EXPIRATION or NOBODY CLICKS ANYTHING!'
  },
  {
    who: 'patriot',
    name: 'ü¶Ö The Patriot',
    text: 'Look, I get it ‚Äî you want emotion. But POSITIVE emotion converts better. "Protect the American Dream" hits harder than "they\'re destroying everything." Give people something to fight FOR.'
  },
  {
    who: 'skeptic',
    name: 'üîç The Skeptic',
    text: 'I agree with Patriot on this one. I ran the numbers on 400 fundraising emails ‚Äî specific claims outperform vague ones by 3.2x. Also, social proof: "Join 47,000 patriots" crushes "Send $5."'
  },
  {
    who: 'urgency',
    name: 'üî• The Urgency',
    text: 'OK FINE, Skeptic has a point with the data. But here\'s what I NEED: (1) A deadline ‚Äî "midnight tonight." (2) A match ‚Äî "3X MATCH." (3) A consequence ‚Äî "or this expires FOREVER." THAT\'S the formula!'
  },
  {
    who: 'patriot',
    name: 'ü¶Ö The Patriot',
    text: 'What about this: "America\'s greatest chapter hasn\'t been written yet ‚Äî and YOU hold the pen." That\'s aspirational. That\'s Kennedy energy. People donate to HOPE, not despair.'
  },
  {
    who: 'skeptic',
    name: 'üîç The Skeptic',
    text: 'I actually... don\'t hate that, Patriot. But ground it. "We\'re $12,000 away from flipping District 7" ‚Äî THAT I can believe. Abstract hope + concrete target = magic formula.'
  },
  {
    who: 'urgency',
    name: 'üî• The Urgency',
    text: 'FINE. Keep your poetry! But ADD: "Your $5 becomes $15 with tonight\'s 3X match ‚Äî expires at MIDNIGHT." Hope + specifics + deadline. NOW WE\'RE COOKING! üî•'
  },
  {
    who: 'patriot',
    name: 'ü¶Ö The Patriot',
    text: 'I love it but "expires" sounds like a coupon. We\'re not selling yogurt. How about: "This moment won\'t wait." More gravitas.'
  },
  {
    who: 'skeptic',
    name: 'üîç The Skeptic',
    text: 'Patriot, "this moment won\'t wait" is vague again. BUT ‚Äî has anyone considered a P.S. line? P.S. lines get 79% more reads than body copy. Put the match offer there. Urgency, you\'ll love this.'
  },
  {
    who: 'urgency',
    name: 'üî• The Urgency',
    text: 'SKEPTIC IS RIGHT AND I HATE ADMITTING IT!! The P.S. is PRIME REAL ESTATE! "P.S. Your 3X match expires at midnight. Don\'t leave $10 on the table." SHIP IT!!'
  },
  {
    who: 'patriot',
    name: 'ü¶Ö The Patriot',
    text: '‚úÖ That\'s the one. Dignity, specifics, and urgency ‚Äî all in harmony. I\'m proud of us.'
  },
  {
    who: 'skeptic',
    name: 'üîç The Skeptic',
    text: '‚úÖ Surprisingly... I approve. Every claim is grounded. The ask is clear. Well done, team.'
  },
  {
    who: 'urgency',
    name: 'üî• The Urgency',
    text: '‚úÖ FINALLY! SHIP IT! SHIP IT NOW BEFORE MIDNIGHT!! üöÄüî•'
  }
];

const FINAL_COPY = `Subject: The chapter that changes everything

Friend,

America's greatest chapter hasn't been written yet ‚Äî and YOU hold the pen.

Right now, we're just $12,000 away from our goal to flip District 7. And thanks to a group of dedicated patriots, every dollar you give tonight is TRIPLED.

Your $5 becomes $15. But only until midnight.

Join 47,000 Americans who are writing the next chapter ‚Äî not with fear, but with action.

‚Üí Rush your 3X-matched gift now

P.S. Your 3X match expires at midnight tonight. Don't leave $10 on the table ‚Äî give your $5 now and make it count three times over.`;

function addUserBubble(text) {
  const group = document.createElement('div');
  group.className = 'msg-group fade-in';
  group.innerHTML = `
    <div class="msg-row right">
      <div class="bubble bubble-user">${esc(text)}</div>
    </div>`;
  chat.appendChild(group);
  scrollDown();
}

function showTyping(who, name) {
  const el = document.createElement('div');
  el.className = 'typing-indicator fade-in';
  el.id = 'typing';
  el.innerHTML = `<span class="name">${name} is typing</span><div class="typing-dots"><span></span><span></span><span></span></div>`;
  chat.appendChild(el);
  scrollDown();
  return el;
}

function addBubble(who, name, text, showName) {
  const group = document.createElement('div');
  group.className = 'msg-group fade-in';
  group.innerHTML = `
    ${showName ? `<div class="sender-name sender-${who}">${name}</div>` : ''}
    <div class="msg-row">
      <div class="avatar avatar-${who}">${name.split(' ')[0]}</div>
      <div class="bubble bubble-${who}">${esc(text)}</div>
    </div>`;
  chat.appendChild(group);
  scrollDown();
}

function addConsensus(text) {
  const el = document.createElement('div');
  el.className = 'consensus-bubble fade-in';
  el.innerHTML = `<div class="label">üìã Shared Note ‚Äî Final Copy</div><div class="body">${esc(text)}</div>`;
  chat.appendChild(el);
  scrollDown();
}

function esc(s) { return s.replace(/&/g,'&amp;').replace(/</g,'&lt;').replace(/>/g,'&gt;').replace(/\n/g,'<br>'); }
function scrollDown() { chat.scrollTop = chat.scrollHeight; }
function sleep(ms) { return new Promise(r => setTimeout(r, ms)); }

async function startChat() {
  if (running) return;
  running = true;
  sendBtn.disabled = true;
  const draft = userInput.value.trim();
  if (!draft) return;

  addUserBubble(draft);
  userInput.value = '';
  await sleep(600);

  let lastWho = '';
  for (const line of SCRIPT) {
    const typingEl = showTyping(line.who, line.name);
    const delay = slowMode ? (2000 + Math.random() * 1500) : (800 + Math.random() * 1200);
    await sleep(delay);
    typingEl.remove();
    addBubble(line.who, line.name, line.text, line.who !== lastWho);
    lastWho = line.who;
    await sleep(slowMode ? 1200 : 300);
  }

  await sleep(800);
  addConsensus(FINAL_COPY);
}
</script>
</body>
</html>
