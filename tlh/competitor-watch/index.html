<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>TLH Competitor Watch — SoCal Estate Sale Market Intelligence</title>
<style>
:root{--bg:#0b0f14;--surface:#141920;--card:#1b2229;--border:#2a3340;--text:#e8ecf0;--muted:#7a8898;--gold:#f5c842;--teal:#2dd4bf;--red:#f87171;--orange:#fb923c;--purple:#a78bfa;--blue:#60a5fa;--green:#4ade80;--tlh:#e67e22}
*{margin:0;padding:0;box-sizing:border-box}
body{background:var(--bg);color:var(--text);font-family:-apple-system,BlinkMacSystemFont,"Segoe UI",sans-serif;font-size:14px;line-height:1.5}
header{background:linear-gradient(135deg,#0f1a0a,#1a2a10);border-bottom:2px solid var(--tlh);padding:20px 30px;display:flex;justify-content:space-between;align-items:flex-end}
header h1{font-size:22px;font-weight:800;color:var(--tlh)}
.sub{font-size:11px;color:var(--muted);margin-top:3px}
.strip{display:flex;gap:24px}
.stat .v{font-size:20px;font-weight:700;text-align:right}
.stat .l{font-size:10px;color:var(--muted);text-transform:uppercase;letter-spacing:.5px;text-align:right}
nav{background:var(--surface);border-bottom:1px solid var(--border);padding:0 30px;display:flex;gap:2px}
nav button{background:none;border:none;color:var(--muted);padding:12px 16px;font-size:13px;font-weight:600;cursor:pointer;border-bottom:2px solid transparent;transition:all .2s}
nav button:hover{color:var(--text)}
nav button.active{color:var(--tlh);border-bottom-color:var(--tlh)}
.tab{display:none;padding:24px 30px}.tab.active{display:block}
.stitle{font-size:17px;font-weight:700;margin-bottom:14px}.stitle span{color:var(--tlh)}
.card{background:var(--card);border:1px solid var(--border);border-radius:10px;padding:18px}
.card h3{font-size:11px;font-weight:700;text-transform:uppercase;letter-spacing:.5px;color:var(--muted);margin-bottom:12px}
.g2{display:grid;grid-template-columns:1fr 1fr;gap:16px}
.g3{display:grid;grid-template-columns:1fr 1fr 1fr;gap:14px}
.g4{display:grid;grid-template-columns:repeat(4,1fr);gap:12px}
.box{background:rgba(230,126,34,.07);border:1px solid rgba(230,126,34,.25);border-radius:8px;padding:13px 15px;font-size:13px;line-height:1.5;margin-bottom:12px}
.box strong{color:var(--tlh)}
.box.r{background:rgba(248,113,113,.07);border-color:rgba(248,113,113,.3)}.box.r strong{color:var(--red)}
.box.g{background:rgba(74,222,128,.07);border-color:rgba(74,222,128,.25)}.box.g strong{color:var(--green)}
.box.b{background:rgba(96,165,250,.07);border-color:rgba(96,165,250,.25)}.box.b strong{color:var(--blue)}
.box.p{background:rgba(167,139,250,.07);border-color:rgba(167,139,250,.25)}.box.p strong{color:var(--purple)}
.kpi-grid{display:grid;grid-template-columns:repeat(4,1fr);gap:14px;margin-bottom:18px}
.kpi{background:var(--card);border:1px solid var(--border);border-radius:10px;padding:16px;text-align:center}
.kpi-val{font-size:30px;font-weight:900;font-family:monospace;line-height:1;margin-bottom:4px}
.kpi-lbl{font-size:11px;color:var(--muted);text-transform:uppercase;letter-spacing:.5px}
.kpi-delta{font-size:12px;margin-top:6px;font-weight:600}
table{width:100%;border-collapse:collapse}
th{text-align:left;font-size:11px;font-weight:600;text-transform:uppercase;letter-spacing:.5px;color:var(--muted);padding:8px 10px;border-bottom:1px solid var(--border);cursor:pointer;background:var(--card);position:sticky;top:0;z-index:5}
th:hover{color:var(--text)}
td{padding:7px 10px;border-bottom:1px solid rgba(42,51,64,.4);font-size:12px;vertical-align:middle}
tr:hover td{background:rgba(255,255,255,.025)}
.scrtbl{max-height:420px;overflow-y:auto;border:1px solid var(--border);border-radius:8px}
.yb{display:inline-block;padding:2px 7px;border-radius:4px;font-size:11px;font-weight:700;font-family:monospace}
.yg{background:rgba(74,222,128,.15);color:var(--green)}
.yo{background:rgba(251,146,60,.15);color:var(--orange)}
.yr{background:rgba(248,113,113,.15);color:var(--red)}
.ym{background:rgba(148,163,184,.1);color:var(--muted)}
.yt{background:rgba(230,126,34,.15);color:var(--tlh)}
.brow{display:flex;align-items:center;gap:8px;margin-bottom:7px}
.blbl{font-size:12px;width:220px;flex-shrink:0;white-space:nowrap;overflow:hidden;text-overflow:ellipsis}
.btrack{flex:1;height:20px;background:var(--surface);border-radius:4px;overflow:hidden}
.bfill{height:100%;border-radius:4px;display:flex;align-items:center;padding-left:8px;font-size:11px;font-weight:700;color:rgba(0,0,0,.85)}
.bval{font-size:11px;font-family:monospace;width:50px;text-align:right;color:var(--muted)}
.mb14{margin-bottom:14px}.mb18{margin-bottom:18px}.mt10{margin-top:10px}
.pill{display:inline-block;padding:2px 7px;border-radius:10px;font-size:10px;font-weight:700}
.pill-tlh{background:rgba(230,126,34,.15);color:var(--tlh)}
.pill-comp{background:rgba(96,165,250,.1);color:var(--blue)}
.pill-opp{background:rgba(74,222,128,.1);color:var(--green)}
.pill-warn{background:rgba(248,113,113,.1);color:var(--red)}
</style>
</head>
<body>
<header>
  <div>
    <h1>&#x1F50D; TLH Competitor Watch</h1>
    <div class="sub">6,080 estate sales tracked &middot; 481 competitors &middot; SoCal market &middot; Jan 2024&ndash;Jan 2026 &middot; EstateSales.net data</div>
  </div>
  <div class="strip">
    <div class="stat"><div class="v" style="color:var(--tlh)">258</div><div class="l">TLH Sales</div></div>
    <div class="stat"><div class="v" style="color:var(--green)">12.3%</div><div class="l">SD Share</div></div>
    <div class="stat"><div class="v" style="color:var(--orange)">2.7%</div><div class="l">OC Share</div></div>
    <div class="stat"><div class="v" style="color:var(--red)">0.7%</div><div class="l">LA Share</div></div>
  </div>
</header>
<nav>
  <button class="active" onclick="showTab('overview')">&#x1F4CA; Market Overview</button>
  <button onclick="showTab('competitors')">&#x1F3C6; Competitors</button>
  <button onclick="showTab('zips')">&#x1F5FA; ZIP Opportunity Map</button>
  <button onclick="showTab('trend')">&#x1F4C8; TLH Trend</button>
  <button onclick="showTab('intel')">&#x1F9E0; Intelligence</button>
</nav>

<!-- OVERVIEW -->
<div id="tab-overview" class="tab active">
  <div class="stitle">Market Overview &mdash; <span>SoCal Estate Sale Landscape</span></div>

  <div class="kpi-grid">
    <div class="kpi">
      <div class="kpi-val" style="color:var(--tlh)">4.2%</div>
      <div class="kpi-lbl">TLH Overall Share</div>
      <div class="kpi-delta" style="color:var(--green)">&#x2191; Growing (3% → 6%)</div>
    </div>
    <div class="kpi">
      <div class="kpi-val" style="color:var(--green)">12.3%</div>
      <div class="kpi-lbl">San Diego Share</div>
      <div class="kpi-delta" style="color:var(--muted)">#1 in SD market</div>
    </div>
    <div class="kpi">
      <div class="kpi-val" style="color:var(--orange)">210</div>
      <div class="kpi-lbl">Yorba Linda (92886)</div>
      <div class="kpi-delta" style="color:var(--red)">0 TLH sales — top OC opp</div>
    </div>
    <div class="kpi">
      <div class="kpi-val" style="color:var(--purple)">481</div>
      <div class="kpi-lbl">Active Competitors</div>
      <div class="kpi-delta" style="color:var(--muted)">Fragmented market</div>
    </div>
  </div>

  <div class="g2 mb18">
    <div class="card">
      <h3>Market Share by County (all-time)</h3>
      <div id="county-bars"></div>
    </div>
    <div class="card">
      <h3>Monthly Sales Volume — TLH vs Total Market</h3>
      <canvas id="monthlyChart" height="200"></canvas>
    </div>
  </div>

  <div class="g3">
    <div class="box g">
      <strong>&#x1F3C6; TLH is #1 in San Diego.</strong><br>
      At 12.3% share (184 of 1,491 sales), TLH dominates its home market &mdash; 2.6x its nearest SD competitor. The SD moat is real.
    </div>
    <div class="box r">
      <strong>&#x26A0;&#xFE0F; OC is wide open &mdash; and untapped.</strong><br>
      Caring Transitions Of Costa Mesa held 8.8% OC share in 2024 then almost vanished (252 sales in Q3 2024 &rarr; 9 in Q1 2025). The vacuum exists. TLH is at 2.7%.
    </div>
    <div class="box b">
      <strong>&#x1F4A1; LA is a greenfield.</strong><br>
      TLH has 0.7% market share in LA (19 of 2,556 sales). The market is fragmented &mdash; no single competitor dominates. The #1 competitor (Venzor) holds only 3%.
    </div>
  </div>
</div>

<!-- COMPETITORS -->
<div id="tab-competitors" class="tab">
  <div class="stitle">Competitor Intelligence &mdash; <span>Who&rsquo;s Growing, Who&rsquo;s Dying</span></div>

  <div class="g2 mb18">
    <div class="card">
      <h3>Top Competitors &mdash; All-Time Sales Count</h3>
      <div id="comp-bars"></div>
    </div>
    <div class="card">
      <h3>Quarterly Market Share Trend (Top 6)</h3>
      <canvas id="qShareChart" height="220"></canvas>
    </div>
  </div>

  <div class="g2 mb18">
    <div class="card">
      <h3>&#x1F4C8; Growing Competitors (Q4 2024 &rarr; Q4 2025)</h3>
      <div style="margin-top:6px;display:flex;flex-direction:column;gap:7px">
        <div style="display:flex;justify-content:space-between;align-items:center;padding:7px 10px;background:rgba(248,113,113,.08);border-radius:6px;border:1px solid rgba(248,113,113,.2)">
          <span style="font-size:12px;font-weight:700">Grasons Beach Cities OC</span>
          <div style="display:flex;align-items:center;gap:8px">
            <span class="yb yr">5 &rarr; 12</span><span style="font-size:11px;color:var(--red);font-weight:700">+7 &#x26A0;</span>
          </div>
        </div>
        <div style="display:flex;justify-content:space-between;align-items:center;padding:7px 10px;background:rgba(248,113,113,.08);border-radius:6px;border:1px solid rgba(248,113,113,.2)">
          <span style="font-size:12px;font-weight:700">Grasons Co. Elite Estate Sale</span>
          <div style="display:flex;align-items:center;gap:8px">
            <span class="yb yr">16 &rarr; 23</span><span style="font-size:11px;color:var(--red);font-weight:700">+7 &#x26A0;</span>
          </div>
        </div>
        <div style="display:flex;justify-content:space-between;padding:7px 10px;background:var(--surface);border-radius:6px">
          <span style="font-size:12px">The Estate Sisters</span><span class="yb yo">1 &rarr; 7 (+6)</span>
        </div>
        <div style="display:flex;justify-content:space-between;padding:7px 10px;background:rgba(230,126,34,.08);border-radius:6px;border:1px solid rgba(230,126,34,.2)">
          <span style="font-size:12px;font-weight:700;color:var(--tlh)">&#x2714; True Legacy Homes</span><span class="yb yt">35 &rarr; 40 (+5)</span>
        </div>
        <div style="display:flex;justify-content:space-between;padding:7px 10px;background:var(--surface);border-radius:6px">
          <span style="font-size:12px">Blue Waters Relocation</span><span class="yb yo">7 &rarr; 10 (+3)</span>
        </div>
      </div>
    </div>
    <div class="card">
      <h3>&#x1F4C9; Shrinking/Dying Competitors</h3>
      <div style="margin-top:6px;display:flex;flex-direction:column;gap:7px">
        <div style="display:flex;justify-content:space-between;align-items:center;padding:7px 10px;background:rgba(74,222,128,.07);border-radius:6px;border:1px solid rgba(74,222,128,.2)">
          <span style="font-size:12px;font-weight:700">JOHNEVIEVE</span>
          <div style="display:flex;align-items:center;gap:8px">
            <span class="yb yg">12 &rarr; 2</span><span style="font-size:11px;color:var(--green);font-weight:700">-10 &#x2713;</span>
          </div>
        </div>
        <div style="display:flex;justify-content:space-between;padding:7px 10px;background:rgba(74,222,128,.07);border-radius:6px;border:1px solid rgba(74,222,128,.2)">
          <span style="font-size:12px;font-weight:700">Grasons Co City Of Angels</span><span class="yb yg">7 &rarr; 1 (-6) &#x2713;</span>
        </div>
        <div style="display:flex;justify-content:space-between;padding:7px 10px;background:rgba(74,222,128,.07);border-radius:6px;border:1px solid rgba(74,222,128,.2)">
          <span style="font-size:12px">Golden Eagle Estate Sales</span><span class="yb yg">7 &rarr; 0 &#x2713;</span>
        </div>
        <div style="display:flex;justify-content:space-between;padding:7px 10px;background:rgba(74,222,128,.07);border-radius:6px;border:1px solid rgba(74,222,128,.2)">
          <span style="font-size:12px">A Better Solution Estate Sales</span><span class="yb yg">6 &rarr; 0 &#x2713;</span>
        </div>
        <div style="display:flex;justify-content:space-between;padding:7px 10px;background:var(--surface);border-radius:6px">
          <span style="font-size:12px">Handled.</span><span class="yb ym">7 &rarr; 2 (-5)</span>
        </div>
      </div>
    </div>
  </div>

  <div class="card">
    <h3>The Caring Transitions Anomaly &mdash; 252 Sales in Q3 2024, Then Nothing</h3>
    <div class="box r mt10">
      <strong>What happened:</strong> Caring Transitions Of Costa Mesa ran 252 sales in Q3 2024 (10.5% OC market share &mdash; more than anyone else that quarter). By Q4 2024 they were at 8. By 2025 they averaged 7-10/quarter. This is a franchise collapse, a data quirk, or a major operational change. Either way &mdash; they left an 8.8% OC market share vacuum and TLH is sitting at 2.7%. The vacuum is still there.
    </div>
    <div style="margin-top:8px">
      <div class="brow"><div class="blbl">2024-Q2</div><div class="btrack"><div class="bfill" style="width:17%;background:#64748b">43</div></div></div>
      <div class="brow"><div class="blbl">2024-Q3 &#x1F4A5;</div><div class="btrack"><div class="bfill" style="width:100%;background:var(--red)">252 &mdash; PEAK</div></div></div>
      <div class="brow"><div class="blbl">2024-Q4</div><div class="btrack"><div class="bfill" style="width:3%;background:#64748b">8</div></div></div>
      <div class="brow"><div class="blbl">2025 average</div><div class="btrack"><div class="bfill" style="width:4%;background:#64748b">~9/qtr</div></div></div>
    </div>
  </div>
</div>

<!-- ZIP MAP -->
<div id="tab-zips" class="tab">
  <div class="stitle">ZIP Opportunity Map &mdash; <span>Where to Expand vs Where to Defend</span></div>

  <div class="g2 mb18">
    <div class="card">
      <h3>&#x1F7E2; TLH Strongholds (>20% ZIP share)</h3>
      <div id="stronghold-list"></div>
    </div>
    <div class="card">
      <h3>&#x1F534; High-Activity OC ZIPs with ZERO TLH Presence</h3>
      <div id="oc-gaps-list"></div>
    </div>
  </div>

  <div class="card mb18">
    <h3>All ZIPs — Sorted by Total Activity (click headers to sort)</h3>
    <div class="scrtbl mt10">
      <table>
        <thead><tr>
          <th onclick="sortZips(0)">ZIP</th>
          <th onclick="sortZips(1)">County</th>
          <th onclick="sortZips(2)">Total Sales</th>
          <th onclick="sortZips(3)">TLH Sales</th>
          <th onclick="sortZips(4)">TLH Share</th>
          <th>Top Competitor</th>
          <th>Status</th>
        </tr></thead>
        <tbody id="zip-table-body"></tbody>
      </table>
    </div>
  </div>
</div>

<!-- TLH TREND -->
<div id="tab-trend" class="tab">
  <div class="stitle">TLH Market Position Trend &mdash; <span>22 Months of Data</span></div>

  <div class="g2 mb18">
    <div class="card">
      <h3>TLH Monthly Sales vs Market Share %</h3>
      <canvas id="tlhTrendChart" height="200"></canvas>
    </div>
    <div class="card">
      <h3>Monthly Market Share Table</h3>
      <div class="scrtbl">
        <table>
          <thead><tr><th>Month</th><th>TLH Sales</th><th>Market Total</th><th>Share</th></tr></thead>
          <tbody id="trend-table-body"></tbody>
        </table>
      </div>
    </div>
  </div>

  <div class="g3">
    <div class="box g">
      <strong>&#x1F4C8; Growing overall:</strong> TLH went from 2.8% share in Q2 2024 to 5.8% in Q1 2026. Volume grew from ~15 sales/quarter to 40+. The trajectory is right.
    </div>
    <div class="box">
      <strong>&#x1F3AF; Q3 2025 spike:</strong> TLH hit 17.2% share in August 2025 &mdash; highest ever. Only 64 total market sales that month (data gap?), but TLH had 11. Investigate if this was real or a data coverage gap.
    </div>
    <div class="box b">
      <strong>&#x1F4CD; SD is the anchor:</strong> 184 of 258 all-time TLH sales (71%) are in San Diego. The expansion to OC and LA is real but nascent.
    </div>
  </div>
</div>

<!-- INTELLIGENCE -->
<div id="tab-intel" class="tab">
  <div class="stitle">Market Intelligence &mdash; <span>5 Strategic Insights</span></div>

  <div style="display:flex;flex-direction:column;gap:14px">
    <div class="card">
      <div style="display:flex;align-items:flex-start;gap:14px">
        <div style="background:rgba(230,126,34,.15);border:2px solid var(--tlh);border-radius:50%;width:38px;height:38px;display:flex;align-items:center;justify-content:center;font-size:16px;font-weight:900;flex-shrink:0;color:var(--tlh)">1</div>
        <div>
          <div style="font-size:15px;font-weight:700;color:var(--tlh);margin-bottom:6px">The OC Vacuum Is Real and Available Now</div>
          <div style="font-size:13px;color:var(--muted);line-height:1.6">Caring Transitions Of Costa Mesa held 8.8% of all OC estate sales. They cratered from 252 sales in Q3 2024 to 9/quarter by 2025. Nobody absorbed their share &mdash; it scattered across smaller operators. Yorba Linda (92886) alone had 210 total estate sales with zero TLH presence, led by what's left of Caring Transitions. This is the single most actionable expansion opportunity: Yorba Linda + East OC. Grasons holds the northwest OC corridors (Huntington Beach, Newport, Corona Del Mar) but they&rsquo;re not growing. The east OC market is fragmented.</div>
        </div>
      </div>
    </div>

    <div class="card">
      <div style="display:flex;align-items:flex-start;gap:14px">
        <div style="background:rgba(96,165,250,.12);border:2px solid var(--blue);border-radius:50%;width:38px;height:38px;display:flex;align-items:center;justify-content:center;font-size:16px;font-weight:900;flex-shrink:0;color:var(--blue)">2</div>
        <div>
          <div style="font-size:15px;font-weight:700;color:var(--blue);margin-bottom:6px">Grasons Is the Real Competitor &mdash; Four Franchises, All Growing</div>
          <div style="font-size:13px;color:var(--muted);line-height:1.6">Grasons isn&rsquo;t one company &mdash; it&rsquo;s a franchise network: Grasons Co. Elite Estate Sale Services, Grasons Co. Elite Of North Orange County, Grasons Beach Cities OC, Grasons Co. South Bay Beachside, Grasons Co. City Of Angels (dying), and more. Combined they likely hold 10-12% of the SoCal market. Each franchise operator is independently growing. Beach Cities OC went from 5 to 12 sales/quarter. Elite went from 16 to 23. They are systematically covering OC with franchise density. TLH&rsquo;s SD dominance doesn&rsquo;t overlap with Grasons&rsquo; OC concentration &mdash; which means head-to-head competition hasn&rsquo;t started yet. When TLH moves into OC seriously, Grasons is the fight.</div>
        </div>
      </div>
    </div>

    <div class="card">
      <div style="display:flex;align-items:flex-start;gap:14px">
        <div style="background:rgba(74,222,128,.1);border:2px solid var(--green);border-radius:50%;width:38px;height:38px;display:flex;align-items:center;justify-content:center;font-size:16px;font-weight:900;flex-shrink:0;color:var(--green)">3</div>
        <div>
          <div style="font-size:15px;font-weight:700;color:var(--green);margin-bottom:6px">LA Is Wide Open — No Dominant Player Below 3%</div>
          <div style="font-size:13px;color:var(--muted);line-height:1.6">In San Diego, TLH at 12.3% is the clear leader. In Orange County, Caring Transitions hit 8.8% before collapsing. In Los Angeles, nobody holds more than 3%. The #1 LA competitor (Venzor Estate Sales) has 77 sales over 2 years &mdash; 3% market share. This is the most fragmented market TLH doesn&rsquo;t serve. The call volume data from the TLH revenue signal analysis confirms LA campaigns have a 42.5% win rate &mdash; the best of any paid campaign. TLH wins more of what it pursues in LA than anywhere else. It&rsquo;s just not pursuing enough.</div>
        </div>
      </div>
    </div>

    <div class="card">
      <div style="display:flex;align-items:flex-start;gap:14px">
        <div style="background:rgba(167,139,250,.1);border:2px solid var(--purple);border-radius:50%;width:38px;height:38px;display:flex;align-items:center;justify-content:center;font-size:16px;font-weight:900;flex-shrink:0;color:var(--purple)">4</div>
        <div>
          <div style="font-size:15px;font-weight:700;color:var(--purple);margin-bottom:6px">TLH&rsquo;s SD ZIP Fortress: 92111, 91941, 92020, 92040, 92109</div>
          <div style="font-size:13px;color:var(--muted);line-height:1.6">Five ZIP codes where TLH holds 20%+ market share: 92111 (San Diego, 42% share), 91941 (La Mesa, 21%), 92020 (El Cajon, 26%), 92040 (Lakeside, 33%), 92109 (Pacific Beach, 24%). These are the ZIPs where TLH has a defensible competitive position. They should inform where to concentrate Google Ads geotargeting, where to build referral networks, and where to be most aggressive on pricing. Any competitor who moves into 92111 or 92020 is attacking TLH&rsquo;s home ground.</div>
        </div>
      </div>
    </div>

    <div class="card">
      <div style="display:flex;align-items:flex-start;gap:14px">
        <div style="background:rgba(251,146,60,.1);border:2px solid var(--orange);border-radius:50%;width:38px;height:38px;display:flex;align-items:center;font-size:16px;font-weight:900;flex-shrink:0;color:var(--orange)">5</div>
        <div>
          <div style="font-size:15px;font-weight:700;color:var(--orange);margin-bottom:6px">The Market Is Growing — 2024 to 2026</div>
          <div style="font-size:13px;color:var(--muted);line-height:1.6">Total SoCal estate sales on EstateSales.net grew from roughly 1,700 in Q2 2024 to 652 in Q4 2025 (data collection ended Jan 2026). The market isn&rsquo;t declining &mdash; it may be growing as the Baby Boomer estate wave accelerates. With 10,000 Americans turning 65 every day, the structural tailwind for estate sales is a decade-long runway. TLH&rsquo;s growth from 2.8% to 5.8% market share during this period means it&rsquo;s growing faster than the market. The question is whether that pace continues as Grasons consolidates OC.</div>
        </div>
      </div>
    </div>
  </div>
</div>

<script>
const MONTHLY = [{"month": "2024-01", "tlh": 3, "total": 165, "share": 1.8, "top_competitors": [["Privately Listed Sale", 17], ["Pacific Global Auction", 7], ["JOHNEVIEVE", 6], ["Grasons Co. Elite Estate Sale Services", 4], ["Anna's Attic Estate Sales", 3]]}, {"month": "2024-05", "tlh": 9, "total": 428, "share": 2.1, "top_competitors": [["Privately Listed Sale", 31], ["Grasons Co. Elite Of North Orange County", 7], ["Pacificauctionhouse.com", 7]]}, {"month": "2024-06", "tlh": 19, "total": 588, "share": 3.2, "top_competitors": [["Privately Listed Sale", 66], ["Grasons Co. Elite Of North Orange County", 11], ["Aws Auctioneers", 10], ["NorthCountyAuctions.com", 9]]}, {"month": "2024-07", "tlh": 13, "total": 467, "share": 2.8, "top_competitors": [["Privately Listed Sale", 52], ["Caring Transitions Of Costa Mesa", 44], ["Caring Transitions Beach Cities", 14], ["Aws Auctioneers", 11]]}, {"month": "2024-08", "tlh": 21, "total": 704, "share": 3.0, "top_competitors": [["Caring Transitions Of Costa Mesa", 81], ["Privately Listed Sale", 70], ["Grasons Co. Elite Of North Orange County", 16], ["NorthCountyAuctions.com", 14]]}, {"month": "2024-09", "tlh": 16, "total": 522, "share": 3.1, "top_competitors": [["Caring Transitions Of Costa Mesa", 53], ["Privately Listed Sale", 46], ["Grasons Co. Elite Of North Orange County", 16], ["NorthCountyAuctions.com", 11]]}, {"month": "2024-10", "tlh": 12, "total": 235, "share": 5.1, "top_competitors": [["Privately Listed Sale", 31], ["Grasons Co. Elite Of North Orange County", 5], ["Venzor Estate Sales", 5], ["Pickersrus", 5]]}, {"month": "2024-11", "tlh": 15, "total": 284, "share": 5.3, "top_competitors": [["Privately Listed Sale", 41], ["Grasons Co. Elite Estate Sale Services", 8], ["JOHNEVIEVE", 6], ["Anna's Attic Estate Sales", 5]]}, {"month": "2024-12", "tlh": 8, "total": 153, "share": 5.2, "top_competitors": [["Privately Listed Sale", 32], ["Grasons Co. Elite Estate Sale Services", 4], ["Venzor Estate Sales", 4], ["Gold Standard Estate Sales", 4]]}, {"month": "2025-01", "tlh": 12, "total": 162, "share": 7.4, "top_competitors": [["Privately Listed Sale", 18], ["Grasons Co. Elite Of North Orange County", 8], ["Hr Ur Collections", 5], ["Grasons Co. of Long Beach", 4]]}, {"month": "2025-02", "tlh": 10, "total": 221, "share": 4.5, "top_competitors": [["Privately Listed Sale", 26], ["Grasons Co. Elite Estate Sale Services", 8], ["Stellar Estate Sales", 5], ["Treasure Hunt Estate and Appraisal Services", 4]]}, {"month": "2025-03", "tlh": 7, "total": 247, "share": 2.8, "top_competitors": [["Privately Listed Sale", 32], ["Grasons Co. Elite Estate Sale Services", 13], ["Hr Ur Collections", 6], ["Summers Estate Liquidation", 4]]}, {"month": "2025-04", "tlh": 12, "total": 252, "share": 4.8, "top_competitors": [["Privately Listed Sale", 40], ["Grasons Co. Elite Estate Sale Services", 7], ["Grasons Co. Elite Of North Orange County", 5], ["Hr Ur Collections", 5]]}, {"month": "2025-05", "tlh": 12, "total": 310, "share": 3.9, "top_competitors": [["Privately Listed Sale", 44], ["Grasons Co. Elite Estate Sale Services", 7], ["Venzor Estate Sales", 7], ["Grasons Co. Elite Of North Orange County", 6]]}, {"month": "2025-06", "tlh": 11, "total": 312, "share": 3.5, "top_competitors": [["Privately Listed Sale", 47], ["Venzor Estate Sales", 11], ["Grasons Co. Elite Estate Sale Services", 10], ["Hr Ur Collections", 6]]}, {"month": "2025-07", "tlh": 2, "total": 15, "share": 13.3, "top_competitors": [["Liquidation and Estate Buyouts", 2], ["Carol Bishop Services", 1], ["Anna's Attic Estate Sales", 1], ["Blue Moon Estate Sales - Del Mar - San Diego", 1]]}, {"month": "2025-08", "tlh": 11, "total": 64, "share": 17.2, "top_competitors": [["Privately Listed Sale", 13], ["Summers Estate Liquidation", 3], ["Blue Moon Estate Sales - Del Mar - San Diego", 3], ["Blue Waters Relocation and Estate Sales", 3]]}, {"month": "2025-09", "tlh": 13, "total": 91, "share": 14.3, "top_competitors": [["Privately Listed Sale", 14], ["Blue Waters Relocation and Estate Sales", 4], ["Anna's Attic Estate Sales", 4], ["Summers Estate Liquidation", 3]]}, {"month": "2025-10", "tlh": 16, "total": 288, "share": 5.6, "top_competitors": [["Privately Listed Sale", 59], ["Grasons Co. Elite Estate Sale Services", 10], ["Integrity First Sales", 5], ["Blue Waters Relocation and Estate Sales", 5]]}, {"month": "2025-11", "tlh": 14, "total": 182, "share": 7.7, "top_competitors": [["Privately Listed Sale", 22], ["Venzor Estate Sales", 8], ["Grasons Co. Elite Estate Sale Services", 6], ["Hr Ur Collections", 5]]}, {"month": "2025-12", "tlh": 10, "total": 182, "share": 5.5, "top_competitors": [["Privately Listed Sale", 34], ["Grasons Co. Elite Estate Sale Services", 7], ["Venzor Estate Sales", 4], ["Estate Sales By Schmitz", 3]]}, {"month": "2026-01", "tlh": 12, "total": 208, "share": 5.8, "top_competitors": [["Privately Listed Sale", 25], ["Socal Home Clear Outs LLC", 7], ["Grasons Co. Elite Estate Sale Services", 5], ["Venzor Estate Sales", 4]]}];
const COUNTIES = {"San Diego": {"total": 1491, "tlh": 184, "share": 12.3, "top": [["True Legacy Homes", 184], ["Blue Waters Relocation and Estate Sales", 70], ["Anna's Attic Estate Sales", 59], ["Summers Estate Liquidation", 52], ["NorthCountyAuctions.com", 49], ["Integrity First Sales", 42], ["On The Road Antiques", 28], ["She Sells Seashells Estate Services", 27]]}, "Los Angeles": {"total": 2556, "tlh": 19, "share": 0.7, "top": [["Venzor Estate Sales", 77], ["Grasons Co. South Bay Beachside", 43], ["Pacific Global Auction", 42], ["Golden Rabbit Estate Sales", 42], ["Blue Moon Estate Sales-whittier", 38], ["Grasons Co. of Long Beach", 35], ["Vintique Finds", 34], ["Veteran Estate Sales", 31]]}, "Orange": {"total": 2033, "tlh": 55, "share": 2.7, "top": [["Caring Transitions Of Costa Mesa", 178], ["Grasons Co. Elite Estate Sale Services", 132], ["Grasons Co. Elite Of North Orange County", 102], ["Grasons Beach Cities OC", 80], ["Treasure Hunt Estate and Appraisal Services", 61], ["True Legacy Homes", 55], ["Details Estate Sales", 53], ["Hr Ur Collections", 50]]}};
const QUARTERLY = [{"quarter": "2024-Q1", "total": 165, "companies": {"True Legacy Homes": 3, "Caring Transitions Of Costa Mesa": 0, "Grasons Co. Elite Estate Sale Services": 4, "Grasons Co. Elite Of North Orange County": 0, "Grasons Beach Cities OC": 2, "Venzor Estate Sales": 0, "Hr Ur Collections": 1, "Blue Waters Relocation and Estate Sales": 1}}, {"quarter": "2024-Q2", "total": 1016, "companies": {"True Legacy Homes": 28, "Caring Transitions Of Costa Mesa": 0, "Grasons Co. Elite Estate Sale Services": 10, "Grasons Co. Elite Of North Orange County": 18, "Grasons Beach Cities OC": 13, "Venzor Estate Sales": 2, "Hr Ur Collections": 9, "Blue Waters Relocation and Estate Sales": 6}}, {"quarter": "2024-Q3", "total": 1693, "companies": {"True Legacy Homes": 50, "Caring Transitions Of Costa Mesa": 178, "Grasons Co. Elite Estate Sale Services": 23, "Grasons Co. Elite Of North Orange County": 36, "Grasons Beach Cities OC": 24, "Venzor Estate Sales": 7, "Hr Ur Collections": 18, "Blue Waters Relocation and Estate Sales": 16}}, {"quarter": "2024-Q4", "total": 672, "companies": {"True Legacy Homes": 35, "Caring Transitions Of Costa Mesa": 0, "Grasons Co. Elite Estate Sale Services": 16, "Grasons Co. Elite Of North Orange County": 10, "Grasons Beach Cities OC": 5, "Venzor Estate Sales": 13, "Hr Ur Collections": 8, "Blue Waters Relocation and Estate Sales": 7}}, {"quarter": "2025-Q1", "total": 630, "companies": {"True Legacy Homes": 29, "Caring Transitions Of Costa Mesa": 0, "Grasons Co. Elite Estate Sale Services": 25, "Grasons Co. Elite Of North Orange County": 15, "Grasons Beach Cities OC": 8, "Venzor Estate Sales": 12, "Hr Ur Collections": 14, "Blue Waters Relocation and Estate Sales": 8}}, {"quarter": "2025-Q2", "total": 874, "companies": {"True Legacy Homes": 35, "Caring Transitions Of Costa Mesa": 0, "Grasons Co. Elite Estate Sale Services": 24, "Grasons Co. Elite Of North Orange County": 14, "Grasons Beach Cities OC": 12, "Venzor Estate Sales": 22, "Hr Ur Collections": 13, "Blue Waters Relocation and Estate Sales": 14}}, {"quarter": "2025-Q3", "total": 170, "companies": {"True Legacy Homes": 26, "Caring Transitions Of Costa Mesa": 0, "Grasons Co. Elite Estate Sale Services": 2, "Grasons Co. Elite Of North Orange County": 0, "Grasons Beach Cities OC": 1, "Venzor Estate Sales": 2, "Hr Ur Collections": 0, "Blue Waters Relocation and Estate Sales": 8}}, {"quarter": "2025-Q4", "total": 652, "companies": {"True Legacy Homes": 40, "Caring Transitions Of Costa Mesa": 0, "Grasons Co. Elite Estate Sale Services": 23, "Grasons Co. Elite Of North Orange County": 10, "Grasons Beach Cities OC": 12, "Venzor Estate Sales": 16, "Hr Ur Collections": 9, "Blue Waters Relocation and Estate Sales": 10}}, {"quarter": "2026-Q1", "total": 208, "companies": {"True Legacy Homes": 12, "Caring Transitions Of Costa Mesa": 0, "Grasons Co. Elite Estate Sale Services": 5, "Grasons Co. Elite Of North Orange County": 3, "Grasons Beach Cities OC": 3, "Venzor Estate Sales": 4, "Hr Ur Collections": 4, "Blue Waters Relocation and Estate Sales": 0}}];
const ZIPS = [{"zip": "92886", "county": "Orange", "total": 210, "tlh": 0, "share": 0.0, "top_co": "Caring Transitions Of Costa Mesa"}, {"zip": "92626", "county": "Orange", "total": 113, "tlh": 2, "share": 1.8, "top_co": "Michaels Gallery"}, {"zip": "92037", "county": "San Diego", "total": 87, "tlh": 8, "share": 9.2, "top_co": "La Jolla Estate Liquidators"}, {"zip": "90274", "county": "Los Angeles", "total": 59, "tlh": 1, "share": 1.7, "top_co": "Pacific Global Auction"}, {"zip": "92660", "county": "Orange", "total": 53, "tlh": 2, "share": 3.8, "top_co": "Details Estate Sales"}, {"zip": "90720", "county": "Orange", "total": 51, "tlh": 0, "share": 0.0, "top_co": "Caring Transitions Beach Cities"}, {"zip": "92869", "county": "Orange", "total": 49, "tlh": 0, "share": 0.0, "top_co": "Grasons Co. Elite Of North Orange County"}, {"zip": "90210", "county": "Los Angeles", "total": 49, "tlh": 0, "share": 0.0, "top_co": "Handled."}, {"zip": "91941", "county": "San Diego", "total": 48, "tlh": 10, "share": 20.8, "top_co": "Anna's Attic Estate Sales"}, {"zip": "90014", "county": "Los Angeles", "total": 48, "tlh": 0, "share": 0.0, "top_co": "Pacific Auction House"}, {"zip": "92867", "county": "Orange", "total": 47, "tlh": 0, "share": 0.0, "top_co": "Grasons Co. Elite Of North Orange County"}, {"zip": "92081", "county": "San Diego", "total": 44, "tlh": 2, "share": 4.5, "top_co": "Summers Estate Liquidation"}, {"zip": "90275", "county": "Los Angeles", "total": 44, "tlh": 0, "share": 0.0, "top_co": "Venzor Estate Sales"}, {"zip": "92627", "county": "Orange", "total": 44, "tlh": 1, "share": 2.3, "top_co": "Habitat Estate Sales"}, {"zip": "92120", "county": "San Diego", "total": 40, "tlh": 5, "share": 12.5, "top_co": "Infinity Estate Sales"}, {"zip": "92078", "county": "San Diego", "total": 39, "tlh": 5, "share": 12.8, "top_co": "Lori's Treasures Of Time Inc. Estate Sal"}, {"zip": "90212", "county": "Los Angeles", "total": 39, "tlh": 0, "share": 0.0, "top_co": "Kings Auctions Inc"}, {"zip": "92648", "county": "Orange", "total": 39, "tlh": 0, "share": 0.0, "top_co": "America's Estate Sales"}, {"zip": "92831", "county": "Orange", "total": 38, "tlh": 2, "share": 5.3, "top_co": "Golden Sun Auctions, Inc."}, {"zip": "90019", "county": "Los Angeles", "total": 38, "tlh": 0, "share": 0.0, "top_co": "Louvre Antique Auction"}, {"zip": "90630", "county": "Orange", "total": 37, "tlh": 2, "share": 5.4, "top_co": "Tlc Estate Transition & Concierge Servic"}, {"zip": "91016", "county": "Los Angeles", "total": 37, "tlh": 0, "share": 0.0, "top_co": "John Moran Auctioneers"}, {"zip": "92806", "county": "Orange", "total": 37, "tlh": 0, "share": 0.0, "top_co": "International Auction Gallery"}, {"zip": "91942", "county": "San Diego", "total": 35, "tlh": 6, "share": 17.1, "top_co": "Anna's Attic Estate Sales"}, {"zip": "92117", "county": "San Diego", "total": 35, "tlh": 6, "share": 17.1, "top_co": "Anna's Attic Estate Sales"}, {"zip": "91105", "county": "Los Angeles", "total": 35, "tlh": 0, "share": 0.0, "top_co": "Prime Auction Gallery"}, {"zip": "90808", "county": "Los Angeles", "total": 35, "tlh": 0, "share": 0.0, "top_co": "Tlc Estate Transition & Concierge Servic"}, {"zip": "92009", "county": "San Diego", "total": 34, "tlh": 6, "share": 17.6, "top_co": "Integrity First Sales"}, {"zip": "91604", "county": "Los Angeles", "total": 34, "tlh": 0, "share": 0.0, "top_co": "LAES"}, {"zip": "90049", "county": "Los Angeles", "total": 34, "tlh": 0, "share": 0.0, "top_co": "Auctions And Estate Sales Won"}, {"zip": "90069", "county": "Los Angeles", "total": 33, "tlh": 0, "share": 0.0, "top_co": "Grasons Co City Of Angels"}, {"zip": "92056", "county": "San Diego", "total": 33, "tlh": 1, "share": 3.0, "top_co": "Gs Estate Sales & Liquidations"}, {"zip": "92029", "county": "San Diego", "total": 32, "tlh": 5, "share": 15.6, "top_co": "NorthCountyAuctions.com"}, {"zip": "92069", "county": "San Diego", "total": 32, "tlh": 0, "share": 0.0, "top_co": "NorthCountyAuctions.com"}, {"zip": "90631", "county": "Orange", "total": 32, "tlh": 0, "share": 0.0, "top_co": "Grasons Co. Elite Of North Orange County"}, {"zip": "90803", "county": "Los Angeles", "total": 32, "tlh": 1, "share": 3.1, "top_co": "A Better Solution Estate Sales"}, {"zip": "90815", "county": "Los Angeles", "total": 32, "tlh": 1, "share": 3.1, "top_co": "Grasons Co. of Long Beach"}, {"zip": "92008", "county": "San Diego", "total": 31, "tlh": 3, "share": 9.7, "top_co": "NorthCountyAuctions.com"}, {"zip": "91107", "county": "Los Angeles", "total": 31, "tlh": 0, "share": 0.0, "top_co": "Teal Magnolia"}, {"zip": "92024", "county": "San Diego", "total": 30, "tlh": 5, "share": 16.7, "top_co": "Blue Waters Relocation and Estate Sales"}, {"zip": "92119", "county": "San Diego", "total": 30, "tlh": 4, "share": 13.3, "top_co": "Anna's Attic Estate Sales"}, {"zip": "90620", "county": "Orange", "total": 30, "tlh": 1, "share": 3.3, "top_co": "Grasons Co. Elite Of North Orange County"}, {"zip": "92672", "county": "Orange", "total": 30, "tlh": 0, "share": 0.0, "top_co": "Estate Sales By Sam And Pam"}, {"zip": "92707", "county": "Orange", "total": 30, "tlh": 0, "share": 0.0, "top_co": "South Coast Auction"}, {"zip": "92057", "county": "San Diego", "total": 30, "tlh": 3, "share": 10.0, "top_co": "Blue Moon Estate Sales - North County Sa"}, {"zip": "92646", "county": "Orange", "total": 30, "tlh": 1, "share": 3.3, "top_co": "Gold Standard Estate Sales"}, {"zip": "91776", "county": "Los Angeles", "total": 30, "tlh": 0, "share": 0.0, "top_co": "Mega International Auction"}, {"zip": "90045", "county": "Los Angeles", "total": 29, "tlh": 0, "share": 0.0, "top_co": "AFL Estate Sales"}, {"zip": "92780", "county": "Orange", "total": 27, "tlh": 2, "share": 7.4, "top_co": "West Coast Auction Gallery"}, {"zip": "92084", "county": "San Diego", "total": 27, "tlh": 2, "share": 7.4, "top_co": "Blue Waters Relocation and Estate Sales"}, {"zip": "92807", "county": "Orange", "total": 27, "tlh": 1, "share": 3.7, "top_co": "Olli's Estate Sales"}, {"zip": "92651", "county": "Orange", "total": 26, "tlh": 1, "share": 3.8, "top_co": "Details Estate Sales"}, {"zip": "92647", "county": "Orange", "total": 26, "tlh": 0, "share": 0.0, "top_co": "Grasons Beach Cities OC"}, {"zip": "90277", "county": "Los Angeles", "total": 26, "tlh": 0, "share": 0.0, "top_co": "Grasons Co. South Bay Beachside"}, {"zip": "91423", "county": "Los Angeles", "total": 26, "tlh": 0, "share": 0.0, "top_co": "James Waterbury"}, {"zip": "92027", "county": "San Diego", "total": 26, "tlh": 0, "share": 0.0, "top_co": "She Sells Seashells Estate Services"}, {"zip": "92104", "county": "San Diego", "total": 26, "tlh": 0, "share": 0.0, "top_co": "Caring Transitions Of San Diego East"}, {"zip": "92109", "county": "San Diego", "total": 25, "tlh": 6, "share": 24.0, "top_co": "Dignity Estate Services"}, {"zip": "91201", "county": "Los Angeles", "total": 25, "tlh": 0, "share": 0.0, "top_co": "Rl Spear"}, {"zip": "91007", "county": "Los Angeles", "total": 25, "tlh": 0, "share": 0.0, "top_co": "Golden Rabbit Estate Sales"}, {"zip": "92071", "county": "San Diego", "total": 25, "tlh": 5, "share": 20.0, "top_co": "Anna's Attic Estate Sales"}, {"zip": "92054", "county": "San Diego", "total": 24, "tlh": 2, "share": 8.3, "top_co": "Caring Transitions of Carlsbad & La Joll"}, {"zip": "92673", "county": "Orange", "total": 24, "tlh": 2, "share": 8.3, "top_co": "A Fine Choice Estate Sales LLC"}, {"zip": "92833", "county": "Orange", "total": 24, "tlh": 1, "share": 4.2, "top_co": "Treasured Past Estate Sales"}, {"zip": "92103", "county": "San Diego", "total": 24, "tlh": 4, "share": 16.7, "top_co": "Blue Waters Relocation and Estate Sales"}, {"zip": "90008", "county": "Los Angeles", "total": 24, "tlh": 0, "share": 0.0, "top_co": "Chloe Estate Liquidators"}, {"zip": "92122", "county": "San Diego", "total": 24, "tlh": 3, "share": 12.5, "top_co": "Blue Waters Relocation and Estate Sales"}, {"zip": "92020", "county": "San Diego", "total": 23, "tlh": 6, "share": 26.1, "top_co": "Golden Eagle Estate Sales"}, {"zip": "90046", "county": "Los Angeles", "total": 23, "tlh": 0, "share": 0.0, "top_co": "X Estate Sales LLC"}, {"zip": "91030", "county": "Los Angeles", "total": 23, "tlh": 0, "share": 0.0, "top_co": "Golden Rabbit Estate Sales"}, {"zip": "92115", "county": "San Diego", "total": 23, "tlh": 2, "share": 8.7, "top_co": "Beckus Estate Sales"}, {"zip": "90036", "county": "Los Angeles", "total": 23, "tlh": 0, "share": 0.0, "top_co": "Estate Sale Angels"}, {"zip": "92835", "county": "Orange", "total": 22, "tlh": 0, "share": 0.0, "top_co": "Treasured Past Estate Sales"}, {"zip": "92025", "county": "San Diego", "total": 21, "tlh": 1, "share": 4.8, "top_co": "NorthCountyAuctions.com"}, {"zip": "92706", "county": "Orange", "total": 21, "tlh": 1, "share": 4.8, "top_co": "Lola & Lena Estate Sales"}, {"zip": "90266", "county": "Los Angeles", "total": 21, "tlh": 0, "share": 0.0, "top_co": "Grasons Co. South Bay Beachside"}, {"zip": "92865", "county": "Orange", "total": 21, "tlh": 1, "share": 4.8, "top_co": "Grasons Co. Elite Of North Orange County"}, {"zip": "92625", "county": "Orange", "total": 21, "tlh": 0, "share": 0.0, "top_co": "Grasons Beach Cities OC"}, {"zip": "92866", "county": "Orange", "total": 20, "tlh": 0, "share": 0.0, "top_co": "Estate sales by MMD"}, {"zip": "91711", "county": "Los Angeles", "total": 20, "tlh": 0, "share": 0.0, "top_co": "Amazing International Group"}, {"zip": "92637", "county": "Orange", "total": 20, "tlh": 0, "share": 0.0, "top_co": "Estate Sales By Nikki"}, {"zip": "90712", "county": "Los Angeles", "total": 20, "tlh": 0, "share": 0.0, "top_co": "Grasons Co. of Long Beach"}, {"zip": "92705", "county": "Orange", "total": 20, "tlh": 1, "share": 5.0, "top_co": "Grasons Co. Elite Of North Orange County"}, {"zip": "92870", "county": "Orange", "total": 20, "tlh": 0, "share": 0.0, "top_co": "Caring Transitions Beach Cities"}, {"zip": "91108", "county": "Los Angeles", "total": 20, "tlh": 0, "share": 0.0, "top_co": "Golden Rabbit Estate Sales"}, {"zip": "91104", "county": "Los Angeles", "total": 20, "tlh": 0, "share": 0.0, "top_co": "All Personal Property Appraisals & Estat"}, {"zip": "90503", "county": "Los Angeles", "total": 20, "tlh": 0, "share": 0.0, "top_co": "Grasons Co. South Bay Beachside"}, {"zip": "92028", "county": "San Diego", "total": 19, "tlh": 1, "share": 5.3, "top_co": "Sandy's Estate Liquidators Corporation"}, {"zip": "92010", "county": "San Diego", "total": 19, "tlh": 0, "share": 0.0, "top_co": "Summers Estate Liquidation"}, {"zip": "90740", "county": "Orange", "total": 19, "tlh": 0, "share": 0.0, "top_co": "Bittersweet By S&L"}, {"zip": "92821", "county": "Orange", "total": 19, "tlh": 0, "share": 0.0, "top_co": "Scollard Auctions"}, {"zip": "90732", "county": "Los Angeles", "total": 19, "tlh": 0, "share": 0.0, "top_co": "Antiquity Estate Consulting & Sales LLC"}, {"zip": "92111", "county": "San Diego", "total": 19, "tlh": 8, "share": 42.1, "top_co": "The Estate Sales Pro"}, {"zip": "92614", "county": "Orange", "total": 18, "tlh": 1, "share": 5.6, "top_co": "WeeArt Gallery Inc."}, {"zip": "91206", "county": "Los Angeles", "total": 18, "tlh": 0, "share": 0.0, "top_co": "All Personal Property Appraisals & Estat"}, {"zip": "92116", "county": "San Diego", "total": 18, "tlh": 3, "share": 16.7, "top_co": "Golden Eagle Estate Sales"}, {"zip": "90042", "county": "Los Angeles", "total": 18, "tlh": 0, "share": 0.0, "top_co": "A to Z Estate Sale and Liquidation"}, {"zip": "91775", "county": "Los Angeles", "total": 18, "tlh": 0, "share": 0.0, "top_co": "Grasons Co Prestige Pasadena & Territori"}, {"zip": "91505", "county": "Los Angeles", "total": 18, "tlh": 0, "share": 0.0, "top_co": "Kim's Estate Sales"}, {"zip": "92663", "county": "Orange", "total": 18, "tlh": 0, "share": 0.0, "top_co": "Grasons Beach Cities OC"}];
const COMPETITORS = ["True Legacy Homes", "Caring Transitions Of Costa Mesa", "Grasons Co. Elite Estate Sale Services", "Grasons Co. Elite Of North Orange County", "Grasons Beach Cities OC", "Venzor Estate Sales", "Hr Ur Collections", "Blue Waters Relocation and Estate Sales"];

const CO_COLORS = {
  'True Legacy Homes': '#e67e22',
  'Caring Transitions Of Costa Mesa': '#f87171',
  'Grasons Co. Elite Estate Sale Services': '#a78bfa',
  'Grasons Co. Elite Of North Orange County': '#c084fc',
  'Grasons Beach Cities OC': '#d946ef',
  'Venzor Estate Sales': '#60a5fa',
  'Hr Ur Collections': '#2dd4bf',
  'Blue Waters Relocation and Estate Sales': '#4ade80',
};

function showTab(id) {
  document.querySelectorAll('.tab').forEach(t => t.classList.remove('active'));
  document.querySelectorAll('nav button').forEach(b => b.classList.remove('active'));
  document.getElementById('tab-' + id).classList.add('active');
  event.target.classList.add('active');
  setTimeout(initCharts, 50);
}

function drawLineChart(canvasId, labels, datasets, opts) {
  const canvas = document.getElementById(canvasId);
  if (!canvas) return;
  const W = canvas.offsetWidth || 500;
  const H = canvas.height;
  canvas.width = W;
  const ctx = canvas.getContext('2d');
  ctx.clearRect(0, 0, W, H);
  
  const pad = {top:30, right:20, bottom:35, left:45};
  const cw = W - pad.left - pad.right;
  const ch = H - pad.top - pad.bottom;
  
  const allVals = datasets.flatMap(d => d.data.filter(v => v !== null));
  const minV = 0;
  const maxV = Math.max(...allVals) * 1.15 || 1;
  
  // Grid
  ctx.strokeStyle = 'rgba(42,51,64,0.8)';
  ctx.lineWidth = 1;
  for (let i = 0; i <= 4; i++) {
    const y = pad.top + ch - (i/4)*ch;
    ctx.beginPath(); ctx.moveTo(pad.left, y); ctx.lineTo(pad.left+cw, y); ctx.stroke();
    ctx.fillStyle = '#7a8898'; ctx.font = '10px sans-serif'; ctx.textAlign = 'right';
    const val = (i/4) * maxV;
    ctx.fillText(opts && opts.pct ? val.toFixed(0)+'%' : val.toFixed(0), pad.left-4, y+4);
  }
  
  // X labels
  const step = Math.ceil(labels.length / 10);
  labels.forEach((l, i) => {
    if (i % step === 0) {
      const x = pad.left + (i / Math.max(labels.length-1, 1)) * cw;
      ctx.fillStyle = '#7a8898'; ctx.font = '10px sans-serif'; ctx.textAlign = 'center';
      ctx.fillText(l.slice(2), x, H - 8);
    }
  });
  
  // Lines
  datasets.forEach(ds => {
    const validData = ds.data.map((v, i) => ({ v, i })).filter(p => p.v !== null);
    if (validData.length < 2) return;
    ctx.strokeStyle = ds.color; ctx.lineWidth = 2; ctx.beginPath();
    validData.forEach(({v, i}, idx) => {
      const x = pad.left + (i / Math.max(labels.length-1, 1)) * cw;
      const y = pad.top + ch - ((v - minV) / (maxV - minV)) * ch;
      idx === 0 ? ctx.moveTo(x, y) : ctx.lineTo(x, y);
    });
    ctx.stroke();
    validData.forEach(({v, i}) => {
      const x = pad.left + (i / Math.max(labels.length-1, 1)) * cw;
      const y = pad.top + ch - ((v - minV) / (maxV - minV)) * ch;
      ctx.fillStyle = ds.color; ctx.beginPath(); ctx.arc(x, y, 3, 0, Math.PI*2); ctx.fill();
    });
  });
  
  // Legend
  if (datasets.length > 1) {
    let lx = pad.left;
    datasets.forEach(ds => {
      ctx.fillStyle = ds.color; ctx.fillRect(lx, 6, 14, 4);
      ctx.fillStyle = '#e8ecf0'; ctx.font = '10px sans-serif'; ctx.textAlign = 'left';
      const label = ds.label.length > 20 ? ds.label.slice(0,18)+'…' : ds.label;
      ctx.fillText(label, lx + 18, 13);
      lx += Math.min(ds.label.length * 6.5 + 22, 150);
    });
  }
}

function initCharts() {
  const labels = MONTHLY.map(m => m.month);
  
  // Monthly chart: TLH bars + total line
  const canvas = document.getElementById('monthlyChart');
  if (canvas && canvas.offsetWidth > 0) {
    const W = canvas.offsetWidth; const H = canvas.height;
    canvas.width = W;
    const ctx = canvas.getContext('2d');
    ctx.clearRect(0, 0, W, H);
    const pad = {top:20, right:20, bottom:35, left:45};
    const cw = W - pad.left - pad.right;
    const ch = H - pad.top - pad.bottom;
    const maxT = Math.max(...MONTHLY.map(m => m.total));
    const bw = cw / MONTHLY.length * 0.6;
    
    MONTHLY.forEach((m, i) => {
      const x = pad.left + (i / MONTHLY.length) * cw + cw/MONTHLY.length*0.2;
      // Total bar
      const hT = (m.total / maxT) * ch;
      ctx.fillStyle = 'rgba(42,51,64,0.8)';
      ctx.fillRect(x, pad.top + ch - hT, bw, hT);
      // TLH bar
      const hTLH = (m.total > 0 ? m.tlh / maxT * ch : 0);
      ctx.fillStyle = '#e67e22';
      ctx.fillRect(x, pad.top + ch - hTLH, bw, hTLH);
      // X label every 3
      if (i % 3 === 0) {
        ctx.fillStyle = '#7a8898'; ctx.font = '10px sans-serif'; ctx.textAlign = 'center';
        ctx.fillText(m.month.slice(2), x + bw/2, H - 8);
      }
    });
    
    // Y axis
    for (let i = 0; i <= 4; i++) {
      const y = pad.top + ch - (i/4)*ch;
      ctx.strokeStyle = 'rgba(42,51,64,0.5)'; ctx.lineWidth = 1;
      ctx.beginPath(); ctx.moveTo(pad.left, y); ctx.lineTo(pad.left+cw, y); ctx.stroke();
      ctx.fillStyle = '#7a8898'; ctx.font = '10px sans-serif'; ctx.textAlign = 'right';
      ctx.fillText(Math.round((i/4)*maxT), pad.left-4, y+4);
    }
    
    // Legend
    ctx.fillStyle = 'rgba(42,51,64,0.8)'; ctx.fillRect(pad.left, 4, 12, 10);
    ctx.fillStyle = '#7a8898'; ctx.font = '10px sans-serif'; ctx.textAlign = 'left';
    ctx.fillText('Total market', pad.left+16, 13);
    ctx.fillStyle = '#e67e22'; ctx.fillRect(pad.left+110, 4, 12, 10);
    ctx.fillStyle = '#e67e22'; ctx.fillText('TLH', pad.left+126, 13);
  }
  
  // Quarterly share chart
  const qLabels = QUARTERLY.map(q => q.quarter);
  const topCos = COMPETITORS.slice(0, 6);
  drawLineChart('qShareChart', qLabels,
    topCos.map(co => ({
      label: co.split(' ')[0] + ' ' + (co.split(' ')[1]||''),
      color: CO_COLORS[co] || '#64748b',
      data: QUARTERLY.map(q => q.total > 0 ? Math.round(q.companies[co]/q.total*100*10)/10 : 0)
    })),
    {pct: true}
  );
  
  // TLH trend
  drawLineChart('tlhTrendChart', MONTHLY.map(m => m.month),
    [
      {label: 'TLH Market Share %', color: '#e67e22', data: MONTHLY.map(m => m.share)},
    ],
    {pct: true}
  );
}

function initCountyBars() {
  const el = document.getElementById('county-bars');
  if (!el) return;
  const counties = ['San Diego', 'Orange', 'Los Angeles'];
  const maxShare = Math.max(...counties.map(c => COUNTIES[c]?.share || 0));
  el.innerHTML = counties.map(c => {
    const d = COUNTIES[c] || {share:0, tlh:0, total:0};
    const pct = maxShare > 0 ? (d.share/maxShare)*100 : 0;
    const color = d.share >= 10 ? '#4ade80' : d.share >= 4 ? '#f5c842' : '#fb923c';
    return '<div class="brow">' +
      '<div class="blbl">' + c + ' (' + d.total + ' total)</div>' +
      '<div class="btrack"><div class="bfill" style="width:'+pct+'%;background:'+color+'">'+d.share+'% share</div></div>' +
      '<div class="bval">'+d.tlh+' TLH</div></div>';
  }).join('');
}

function initCompBars() {
  const el = document.getElementById('comp-bars');
  if (!el) return;
  const TLH = 'True Legacy Homes';
  const all = {};
  MONTHLY.forEach(m => {
    m.top_competitors.forEach(([co, n]) => {
      all[co] = (all[co]||0) + n;
    });
  });
  all[TLH] = MONTHLY.reduce((s,m) => s+m.tlh, 0);
  const sorted = Object.entries(all).sort((a,b) => b[1]-a[1]).slice(0,12);
  const maxN = sorted[0][1];
  el.innerHTML = sorted.map(([co, n]) => {
    const isTLH = co === TLH;
    const color = isTLH ? '#e67e22' : (CO_COLORS[co] || '#64748b');
    const pct = (n/maxN)*100;
    return '<div class="brow">' +
      '<div class="blbl" style="'+(isTLH?'font-weight:700;color:var(--tlh)':'')+'">'+(isTLH?'★ ':'')+co.slice(0,30)+'</div>' +
      '<div class="btrack"><div class="bfill" style="width:'+pct+'%;background:'+color+'">'+n+'</div></div>' +
      '</div>';
  }).join('');
}

function initStrongholds() {
  const el = document.getElementById('stronghold-list');
  if (!el) return;
  const strongholds = ZIPS.filter(z => z.tlh > 0 && z.share >= 20).sort((a,b) => b.share-a.share);
  el.innerHTML = strongholds.slice(0,12).map(z => 
    '<div style="display:flex;justify-content:space-between;align-items:center;padding:6px 8px;border-bottom:1px solid rgba(42,51,64,.4)">' +
    '<span style="font-size:12px;font-family:monospace">' + z.zip + '</span>' +
    '<span style="font-size:11px;color:var(--muted);flex:1;margin:0 8px">' + z.county + '</span>' +
    '<span class="yb yt">' + z.share + '%</span>' +
    '<span style="font-size:11px;color:var(--muted);margin-left:8px">' + z.tlh + '/' + z.total + '</span>' +
    '</div>'
  ).join('') || '<div style="color:var(--muted);padding:8px">No data</div>';
}

function initOCGaps() {
  const el = document.getElementById('oc-gaps-list');
  if (!el) return;
  const gaps = ZIPS.filter(z => z.tlh === 0 && z.county === 'Orange' && z.total >= 5)
    .sort((a,b) => b.total-a.total);
  el.innerHTML = gaps.slice(0,12).map(z =>
    '<div style="display:flex;justify-content:space-between;align-items:center;padding:6px 8px;border-bottom:1px solid rgba(42,51,64,.4)">' +
    '<span style="font-size:12px;font-family:monospace">' + z.zip + '</span>' +
    '<span style="font-size:11px;color:var(--muted);flex:1;margin:0 8px;overflow:hidden;text-overflow:ellipsis;white-space:nowrap">' + z.top_co + '</span>' +
    '<span class="yb yr">' + z.total + ' sales</span>' +
    '</div>'
  ).join('') || '<div style="color:var(--muted);padding:8px">No gaps found</div>';
}

let zipSortCol = 2, zipSortDir = -1;
function initZipTable() {
  const tbody = document.getElementById('zip-table-body');
  if (!tbody) return;
  const sorted = [...ZIPS].sort((a,b) => {
    const keys = ['zip','county','total','tlh','share'];
    const k = keys[zipSortCol] || 'total';
    const av = a[k], bv = b[k];
    return typeof av === 'number' ? (bv-av)*zipSortDir : String(av).localeCompare(String(bv))*zipSortDir;
  });
  tbody.innerHTML = sorted.slice(0,80).map(z => {
    const status = z.tlh === 0 && z.county === 'Orange' && z.total >= 10 
      ? '<span class="pill pill-opp">&#x1F3AF; OC Opp</span>'
      : z.share >= 20 ? '<span class="pill pill-tlh">&#x2605; Stronghold</span>'
      : z.share >= 10 ? '<span class="pill pill-tlh">&#x2714; Present</span>'
      : z.tlh === 0 ? '<span class="pill pill-warn">&#x2715; No TLH</span>'
      : '<span class="pill pill-comp">&#x25CF; Marginal</span>';
    const shareColor = z.share >= 20 ? 'var(--green)' : z.share >= 10 ? 'var(--tlh)' : z.share > 0 ? 'var(--muted)' : 'var(--red)';
    return '<tr>' +
      '<td style="font-family:monospace;font-size:11px">' + z.zip + '</td>' +
      '<td style="color:var(--muted)">' + z.county + '</td>' +
      '<td style="font-weight:600">' + z.total + '</td>' +
      '<td style="color:var(--tlh);font-weight:600">' + z.tlh + '</td>' +
      '<td><span style="color:' + shareColor + ';font-weight:700;font-family:monospace">' + z.share + '%</span></td>' +
      '<td style="color:var(--muted);font-size:11px;max-width:200px;overflow:hidden;white-space:nowrap;text-overflow:ellipsis">' + z.top_co + '</td>' +
      '<td>' + status + '</td>' +
      '</tr>';
  }).join('');
}

function sortZips(col) {
  zipSortDir = zipSortCol === col ? -zipSortDir : -1;
  zipSortCol = col;
  initZipTable();
}

function initTrendTable() {
  const tbody = document.getElementById('trend-table-body');
  if (!tbody) return;
  tbody.innerHTML = [...MONTHLY].reverse().map(m => {
    const color = m.share >= 10 ? 'var(--green)' : m.share >= 5 ? 'var(--tlh)' : m.share >= 3 ? 'var(--orange)' : 'var(--muted)';
    return '<tr>' +
      '<td style="font-weight:600">' + m.month + '</td>' +
      '<td style="color:var(--tlh);font-weight:700">' + m.tlh + '</td>' +
      '<td style="color:var(--muted)">' + m.total + '</td>' +
      '<td><span style="color:' + color + ';font-weight:700;font-family:monospace">' + m.share + '%</span></td>' +
      '</tr>';
  }).join('');
}

window.addEventListener('load', () => {
  initCharts();
  initCountyBars();
  initCompBars();
  initStrongholds();
  initOCGaps();
  initZipTable();
  initTrendTable();
});
</script>
</body>
</html>