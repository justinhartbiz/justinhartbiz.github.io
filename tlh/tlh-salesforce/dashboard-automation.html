<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>TLH Salesforce - Automation Inventory</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <style>
        .automation-card:hover {
            transform: translateY(-2px);
            box-shadow: 0 10px 20px rgba(0,0,0,0.3);
        }
        .flow-line {
            stroke-dasharray: 5,5;
            animation: flow 2s linear infinite;
        }
        @keyframes flow {
            to { stroke-dashoffset: -20; }
        }
    </style>
</head>
<body class="bg-gray-900 text-white min-h-screen">
    <div class="container mx-auto px-4 py-8">
        <header class="text-center mb-8">
            <h1 class="text-4xl font-bold text-purple-400 mb-2">True Legacy Homes</h1>
            <h2 class="text-2xl text-gray-400">Automation Inventory Dashboard</h2>
            <p class="text-gray-500 mt-2">183 Flows ‚Ä¢ 43 Triggers ‚Ä¢ 47 Validation Rules</p>
        </header>

        <!-- Summary Cards -->
        <div class="grid grid-cols-2 md:grid-cols-5 gap-4 mb-8">
            <div class="bg-gradient-to-br from-purple-600 to-purple-800 rounded-xl p-4 text-center">
                <div class="text-4xl font-bold">183</div>
                <div class="text-purple-200 text-sm">Active Flows</div>
            </div>
            <div class="bg-gradient-to-br from-blue-600 to-blue-800 rounded-xl p-4 text-center">
                <div class="text-4xl font-bold">43</div>
                <div class="text-blue-200 text-sm">Apex Triggers</div>
            </div>
            <div class="bg-gradient-to-br from-yellow-600 to-yellow-800 rounded-xl p-4 text-center">
                <div class="text-4xl font-bold">47</div>
                <div class="text-yellow-200 text-sm">Validation Rules</div>
            </div>
            <div class="bg-gradient-to-br from-green-600 to-green-800 rounded-xl p-4 text-center">
                <div class="text-4xl font-bold">128</div>
                <div class="text-green-200 text-sm">Email Templates</div>
            </div>
            <div class="bg-gradient-to-br from-pink-600 to-pink-800 rounded-xl p-4 text-center">
                <div class="text-4xl font-bold">3</div>
                <div class="text-pink-200 text-sm">Scheduled Flows</div>
            </div>
        </div>

        <!-- Automation by Object -->
        <h3 class="text-2xl font-bold text-gray-300 mb-4">Automation by Object</h3>
        
        <div class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6 mb-8">
            <!-- Lead -->
            <div class="automation-card bg-gray-800 rounded-xl p-6 transition-all border border-gray-700">
                <div class="flex items-center justify-between mb-4">
                    <h4 class="text-xl font-bold text-blue-400">üì• Lead</h4>
                    <span class="bg-blue-900 text-blue-300 px-3 py-1 rounded-full text-sm">20+ automations</span>
                </div>
                <div class="space-y-3">
                    <div>
                        <div class="text-sm text-gray-400 mb-1">Record-Triggered Flows</div>
                        <div class="flex flex-wrap gap-1">
                            <span class="bg-purple-900/50 text-purple-300 px-2 py-0.5 rounded text-xs">Before Save: 5</span>
                            <span class="bg-purple-900/50 text-purple-300 px-2 py-0.5 rounded text-xs">After Save: 10</span>
                            <span class="bg-purple-900/50 text-purple-300 px-2 py-0.5 rounded text-xs">Before Delete: 1</span>
                        </div>
                    </div>
                    <div>
                        <div class="text-sm text-gray-400 mb-1">Apex Triggers</div>
                        <div class="text-xs text-gray-500">
                            <span class="text-blue-300">LeadConversionFieldMapping</span>, 
                            <span class="text-blue-300">LeadSyncWebhookTrigger</span>,
                            <span class="text-blue-300">leadConvertChatter</span>,
                            <span class="text-blue-300">Lead_CallRail_AfterInsert</span>,
                            <span class="text-blue-300">WebLeadNotificationTrigger</span>,
                            <span class="text-blue-300">LeadTrigger</span>
                        </div>
                    </div>
                    <div>
                        <div class="text-sm text-gray-400 mb-1">Validation Rules (11)</div>
                        <div class="text-xs text-gray-500">County, First_Name, Lead_Source_Required, RequireAddresstoConvert, RequireUnqualifiedReason...</div>
                    </div>
                </div>
            </div>

            <!-- Opportunity -->
            <div class="automation-card bg-gray-800 rounded-xl p-6 transition-all border border-gray-700">
                <div class="flex items-center justify-between mb-4">
                    <h4 class="text-xl font-bold text-green-400">üíº Opportunity</h4>
                    <span class="bg-green-900 text-green-300 px-3 py-1 rounded-full text-sm">25+ automations</span>
                </div>
                <div class="space-y-3">
                    <div>
                        <div class="text-sm text-gray-400 mb-1">Record-Triggered Flows</div>
                        <div class="flex flex-wrap gap-1">
                            <span class="bg-purple-900/50 text-purple-300 px-2 py-0.5 rounded text-xs">Before Save: 8</span>
                            <span class="bg-purple-900/50 text-purple-300 px-2 py-0.5 rounded text-xs">After Save: 15</span>
                        </div>
                    </div>
                    <div>
                        <div class="text-sm text-gray-400 mb-1">Apex Triggers</div>
                        <div class="text-xs text-gray-500">
                            <span class="text-green-300">OpportunityTrigger</span>,
                            <span class="text-green-300">OpportunitySyncWebhookTrigger</span>,
                            <span class="text-green-300">OpportunityGeocodingTrigger</span>,
                            <span class="text-green-300">GSP_D_Opportunity</span>
                        </div>
                    </div>
                    <div>
                        <div class="text-sm text-gray-400 mb-1">Validation Rules (13)</div>
                        <div class="text-xs text-gray-500">Cash_Offer_Submitted, Loss_Reason, IC_Ready_Stage, Pending_Signature...</div>
                    </div>
                </div>
            </div>

            <!-- Account -->
            <div class="automation-card bg-gray-800 rounded-xl p-6 transition-all border border-gray-700">
                <div class="flex items-center justify-between mb-4">
                    <h4 class="text-xl font-bold text-yellow-400">üè¢ Account</h4>
                    <span class="bg-yellow-900 text-yellow-300 px-3 py-1 rounded-full text-sm">12+ automations</span>
                </div>
                <div class="space-y-3">
                    <div>
                        <div class="text-sm text-gray-400 mb-1">Record-Triggered Flows</div>
                        <div class="flex flex-wrap gap-1">
                            <span class="bg-purple-900/50 text-purple-300 px-2 py-0.5 rounded text-xs">Before Save: 1</span>
                            <span class="bg-purple-900/50 text-purple-300 px-2 py-0.5 rounded text-xs">After Save: 5</span>
                        </div>
                    </div>
                    <div>
                        <div class="text-sm text-gray-400 mb-1">Apex Triggers</div>
                        <div class="text-xs text-gray-500">
                            <span class="text-yellow-300">AccountSyncWebhookTrigger</span>,
                            <span class="text-yellow-300">PS_Account</span>,
                            <span class="text-yellow-300">dlrs_AccountTrigger</span>
                        </div>
                    </div>
                    <div>
                        <div class="text-sm text-gray-400 mb-1">Validation Rules (4)</div>
                        <div class="text-xs text-gray-500">Loss_Reason, Must_have_Address, Account_Source_cannot_be_None...</div>
                    </div>
                </div>
            </div>

            <!-- Contact -->
            <div class="automation-card bg-gray-800 rounded-xl p-6 transition-all border border-gray-700">
                <div class="flex items-center justify-between mb-4">
                    <h4 class="text-xl font-bold text-pink-400">üë§ Contact</h4>
                    <span class="bg-pink-900 text-pink-300 px-3 py-1 rounded-full text-sm">10+ automations</span>
                </div>
                <div class="space-y-3">
                    <div>
                        <div class="text-sm text-gray-400 mb-1">Record-Triggered Flows</div>
                        <div class="flex flex-wrap gap-1">
                            <span class="bg-purple-900/50 text-purple-300 px-2 py-0.5 rounded text-xs">Before Save: 2</span>
                            <span class="bg-purple-900/50 text-purple-300 px-2 py-0.5 rounded text-xs">After Save: 3</span>
                        </div>
                    </div>
                    <div>
                        <div class="text-sm text-gray-400 mb-1">Apex Triggers</div>
                        <div class="text-xs text-gray-500">
                            <span class="text-pink-300">ContactSyncWebhookTrigger</span>,
                            <span class="text-pink-300">PS_Contact</span>,
                            <span class="text-pink-300">PS_Contact_Describe_Async</span>
                        </div>
                    </div>
                </div>
            </div>

            <!-- Task -->
            <div class="automation-card bg-gray-800 rounded-xl p-6 transition-all border border-gray-700">
                <div class="flex items-center justify-between mb-4">
                    <h4 class="text-xl font-bold text-cyan-400">‚úÖ Task</h4>
                    <span class="bg-cyan-900 text-cyan-300 px-3 py-1 rounded-full text-sm">8+ automations</span>
                </div>
                <div class="space-y-3">
                    <div>
                        <div class="text-sm text-gray-400 mb-1">Record-Triggered Flows</div>
                        <div class="flex flex-wrap gap-1">
                            <span class="bg-purple-900/50 text-purple-300 px-2 py-0.5 rounded text-xs">Before Save: 1</span>
                            <span class="bg-purple-900/50 text-purple-300 px-2 py-0.5 rounded text-xs">After Save: 4</span>
                        </div>
                    </div>
                    <div>
                        <div class="text-sm text-gray-400 mb-1">Apex Triggers</div>
                        <div class="text-xs text-gray-500">
                            <span class="text-cyan-300">TaskTrigger</span>,
                            <span class="text-cyan-300">PS_Task</span>,
                            <span class="text-cyan-300">dlrs_TaskTrigger</span>
                        </div>
                    </div>
                </div>
            </div>

            <!-- Cadences & Direct Mail -->
            <div class="automation-card bg-gray-800 rounded-xl p-6 transition-all border border-gray-700">
                <div class="flex items-center justify-between mb-4">
                    <h4 class="text-xl font-bold text-orange-400">üì¨ Cadences/DM</h4>
                    <span class="bg-orange-900 text-orange-300 px-3 py-1 rounded-full text-sm">15+ automations</span>
                </div>
                <div class="space-y-3">
                    <div>
                        <div class="text-sm text-gray-400 mb-1">Cadence Flows</div>
                        <div class="text-xs text-gray-500">
                            Stop Cadences, Add Bulk Cadences, Stop Direct Mail Cadences, Update Has Cadence...
                        </div>
                    </div>
                    <div>
                        <div class="text-sm text-gray-400 mb-1">Apex Triggers</div>
                        <div class="text-xs text-gray-500">
                            <span class="text-orange-300">CadencesTrigger</span>,
                            <span class="text-orange-300">DirectMailSequenceTrigger</span>,
                            <span class="text-orange-300">DM_CadencesDirectMailTrigger</span>,
                            <span class="text-orange-300">PreventDeletingOrders</span>
                        </div>
                    </div>
                </div>
            </div>
        </div>

        <!-- Key Automation Flows -->
        <h3 class="text-2xl font-bold text-gray-300 mb-4">Key Business Automations</h3>
        
        <div class="grid grid-cols-1 lg:grid-cols-2 gap-6 mb-8">
            <!-- Lead Conversion Flow -->
            <div class="bg-gray-800 rounded-xl p-6 border border-gray-700">
                <h4 class="text-lg font-bold text-green-400 mb-4">üîÑ Lead Conversion Process</h4>
                <div class="relative">
                    <svg class="absolute inset-0 w-full h-24 pointer-events-none">
                        <line x1="100" y1="40" x2="220" y2="40" stroke="#22c55e" stroke-width="2" class="flow-line"/>
                        <line x1="280" y1="40" x2="400" y2="40" stroke="#22c55e" stroke-width="2" class="flow-line"/>
                        <line x1="460" y1="40" x2="580" y2="40" stroke="#22c55e" stroke-width="2" class="flow-line"/>
                    </svg>
                    <div class="flex justify-between items-center">
                        <div class="bg-blue-900 rounded-lg p-3 text-center z-10">
                            <div class="text-2xl">üì•</div>
                            <div class="text-xs text-blue-300">Lead</div>
                        </div>
                        <div class="bg-purple-900 rounded-lg p-3 text-center z-10">
                            <div class="text-2xl">‚úÖ</div>
                            <div class="text-xs text-purple-300">Validate</div>
                        </div>
                        <div class="bg-yellow-900 rounded-lg p-3 text-center z-10">
                            <div class="text-2xl">üîÑ</div>
                            <div class="text-xs text-yellow-300">Convert</div>
                        </div>
                        <div class="bg-green-900 rounded-lg p-3 text-center z-10">
                            <div class="text-2xl">üíº</div>
                            <div class="text-xs text-green-300">Opp Created</div>
                        </div>
                    </div>
                </div>
                <div class="mt-4 text-sm text-gray-400">
                    <p><strong>Validations:</strong> Address, County, Meeting #1 Date, Lead Source, RE in Play</p>
                    <p><strong>Auto-created:</strong> Account, Contact, Cash Offer Opportunity, Estate Sale Opportunity</p>
                </div>
            </div>

            <!-- IC Decision Flow -->
            <div class="bg-gray-800 rounded-xl p-6 border border-gray-700">
                <h4 class="text-lg font-bold text-yellow-400 mb-4">üìä Investment Committee Process</h4>
                <div class="relative">
                    <svg class="absolute inset-0 w-full h-24 pointer-events-none">
                        <line x1="90" y1="40" x2="180" y2="40" stroke="#eab308" stroke-width="2" class="flow-line"/>
                        <line x1="250" y1="40" x2="340" y2="40" stroke="#eab308" stroke-width="2" class="flow-line"/>
                        <line x1="410" y1="40" x2="500" y2="40" stroke="#eab308" stroke-width="2" class="flow-line"/>
                        <line x1="570" y1="40" x2="660" y2="40" stroke="#eab308" stroke-width="2" class="flow-line"/>
                    </svg>
                    <div class="flex justify-between items-center text-center">
                        <div class="bg-yellow-900/50 rounded-lg p-2 z-10">
                            <div class="text-xl">üè†</div>
                            <div class="text-xs text-yellow-300">In Pursuit</div>
                        </div>
                        <div class="bg-yellow-900/50 rounded-lg p-2 z-10">
                            <div class="text-xl">üìã</div>
                            <div class="text-xs text-yellow-300">IC Ready</div>
                        </div>
                        <div class="bg-yellow-900/50 rounded-lg p-2 z-10">
                            <div class="text-xl">üë•</div>
                            <div class="text-xs text-yellow-300">IC Review</div>
                        </div>
                        <div class="bg-yellow-900/50 rounded-lg p-2 z-10">
                            <div class="text-xl">‚úÖ</div>
                            <div class="text-xs text-yellow-300">Approved</div>
                        </div>
                        <div class="bg-green-900/50 rounded-lg p-2 z-10">
                            <div class="text-xl">üìù</div>
                            <div class="text-xs text-green-300">Contract</div>
                        </div>
                    </div>
                </div>
                <div class="mt-4 text-sm text-gray-400">
                    <p><strong>IC Ready Requirements:</strong> Primary Contact, DoA Contact, Field PM</p>
                    <p><strong>Logs:</strong> ARV/Appetite Check ‚Üí IC Request ‚Üí IC Decision ‚Üí IC Final</p>
                </div>
            </div>

            <!-- Meeting Scheduling -->
            <div class="bg-gray-800 rounded-xl p-6 border border-gray-700">
                <h4 class="text-lg font-bold text-blue-400 mb-4">üìÖ Meeting #1 Automation</h4>
                <div class="space-y-2 text-sm">
                    <div class="flex items-center gap-2">
                        <span class="text-blue-400">‚Ä¢</span>
                        <span>Meeting #1 Date/Time ‚Üí Auto-populate Meeting #1 field</span>
                    </div>
                    <div class="flex items-center gap-2">
                        <span class="text-green-400">‚Ä¢</span>
                        <span>Meeting #1 Set ‚Üí Send confirmation email (1 or 2 managers)</span>
                    </div>
                    <div class="flex items-center gap-2">
                        <span class="text-purple-400">‚Ä¢</span>
                        <span>Scheduled Flow ‚Üí Email reminder before meeting</span>
                    </div>
                    <div class="flex items-center gap-2">
                        <span class="text-yellow-400">‚Ä¢</span>
                        <span>Meeting attended ‚Üí Create "Log Meeting Notes" task</span>
                    </div>
                    <div class="flex items-center gap-2">
                        <span class="text-pink-400">‚Ä¢</span>
                        <span>Reschedule/Cancel ‚Üí Screen flow for user guidance</span>
                    </div>
                </div>
            </div>

            <!-- Email/Notification Automations -->
            <div class="bg-gray-800 rounded-xl p-6 border border-gray-700">
                <h4 class="text-lg font-bold text-pink-400 mb-4">üìß Email Notifications</h4>
                <div class="space-y-2 text-sm">
                    <div class="flex items-center gap-2">
                        <span class="text-pink-400">‚Ä¢</span>
                        <span>Web Lead ‚Üí Chatter post + Push notification</span>
                    </div>
                    <div class="flex items-center gap-2">
                        <span class="text-pink-400">‚Ä¢</span>
                        <span>IC Ready ‚Üí Email to team with property details</span>
                    </div>
                    <div class="flex items-center gap-2">
                        <span class="text-pink-400">‚Ä¢</span>
                        <span>IC Decision ‚Üí Email (Approved/Rejected/Retrade)</span>
                    </div>
                    <div class="flex items-center gap-2">
                        <span class="text-pink-400">‚Ä¢</span>
                        <span>Closing Escrow ‚Üí Notify AM, TC, remove listing photos</span>
                    </div>
                    <div class="flex items-center gap-2">
                        <span class="text-pink-400">‚Ä¢</span>
                        <span>Vacancy Email ‚Üí 2 days before scheduled</span>
                    </div>
                    <div class="flex items-center gap-2">
                        <span class="text-pink-400">‚Ä¢</span>
                        <span>Pending Ratings ‚Üí Email to Outside Sales Manager</span>
                    </div>
                </div>
            </div>
        </div>

        <!-- Integration Automations -->
        <h3 class="text-2xl font-bold text-gray-300 mb-4">Integration Automations</h3>
        
        <div class="grid grid-cols-1 md:grid-cols-3 gap-6 mb-8">
            <div class="bg-gray-800 rounded-xl p-6 border border-gray-700">
                <h4 class="text-lg font-bold text-red-400 mb-4">üîó Webhook Triggers</h4>
                <ul class="space-y-2 text-sm text-gray-300">
                    <li>‚Ä¢ AccountSyncWebhookTrigger</li>
                    <li>‚Ä¢ ContactSyncWebhookTrigger</li>
                    <li>‚Ä¢ LeadSyncWebhookTrigger</li>
                    <li>‚Ä¢ OpportunitySyncWebhookTrigger</li>
                </ul>
                <p class="mt-3 text-xs text-gray-500">Syncs to external systems (PropertySalesAI/Audantic)</p>
            </div>

            <div class="bg-gray-800 rounded-xl p-6 border border-gray-700">
                <h4 class="text-lg font-bold text-cyan-400 mb-4">üì± Platform Events</h4>
                <ul class="space-y-2 text-sm text-gray-300">
                    <li>‚Ä¢ Lmr_EnrichEvent__e ‚Üí Property enrichment</li>
                    <li>‚Ä¢ Error_Event__e ‚Üí Error logging</li>
                    <li>‚Ä¢ Web_Lead_Notification__e ‚Üí Web alerts</li>
                    <li>‚Ä¢ Outlook_Calendar_Event__e ‚Üí Calendar sync</li>
                </ul>
            </div>

            <div class="bg-gray-800 rounded-xl p-6 border border-gray-700">
                <h4 class="text-lg font-bold text-purple-400 mb-4">üìä Rollup Triggers</h4>
                <ul class="space-y-2 text-sm text-gray-300">
                    <li>‚Ä¢ dlrs_AccountTrigger</li>
                    <li>‚Ä¢ dlrs_TaskTrigger</li>
                    <li>‚Ä¢ dlrs_Left_Main_ExpenseTrigger</li>
                    <li>‚Ä¢ RollupSummariesTrigger</li>
                    <li>‚Ä¢ PS_* triggers (Rollup Helper)</li>
                </ul>
            </div>
        </div>

        <!-- Trigger Execution Order Warning -->
        <div class="bg-yellow-900/30 border border-yellow-600 rounded-xl p-6 mb-8">
            <h4 class="text-lg font-bold text-yellow-400 mb-2">‚ö†Ô∏è Automation Complexity Note</h4>
            <p class="text-gray-300">This org has <strong>43 active triggers</strong> and <strong>183 active flows</strong>. Objects like Lead, Opportunity, and Account have multiple triggers that execute in non-deterministic order. Consider:</p>
            <ul class="mt-3 space-y-1 text-sm text-gray-400">
                <li>‚Ä¢ Documenting trigger execution order dependencies</li>
                <li>‚Ä¢ Reviewing for potential recursion loops between flows and triggers</li>
                <li>‚Ä¢ Consolidating similar automation logic</li>
                <li>‚Ä¢ Adding error handling for async operations</li>
            </ul>
        </div>
    </div>
</body>
</html>
