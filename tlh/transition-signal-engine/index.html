<!doctype html><html><head><meta charset='utf-8'/><meta name='viewport' content='width=device-width,initial-scale=1'/><title>Transition Signal Engine — SD</title><style>:root{--bg:#0b1020;--card:#11192f;--line:#243456;--txt:#e8efff;--mut:#9ab0d8;--ok:#2dd4bf;--wait:#f59e0b;--sup:#ef4444}*{box-sizing:border-box}body{margin:0;background:radial-gradient(1200px 500px at 80% -20%,#1a2b57,transparent),var(--bg);color:var(--txt);font-family:ui-sans-serif,system-ui} .wrap{max-width:1200px;margin:auto;padding:24px}h1{margin:0 0 8px}.mut{color:var(--mut);font-size:13px}.grid{display:grid;grid-template-columns:repeat(4,1fr);gap:10px;margin:16px 0}.card{background:var(--card);border:1px solid var(--line);border-radius:12px;padding:12px}.k{font-size:30px;font-weight:800}.tag{padding:3px 8px;border-radius:999px;font-size:11px;font-weight:700}.ready{background:#083d36;color:#8ff0dc}.wait{background:#4b3408;color:#ffd48a}.sup{background:#4a1111;color:#ffb0b0}table{width:100%;border-collapse:collapse;background:var(--card);border:1px solid var(--line);border-radius:12px;overflow:hidden}th,td{padding:10px;border-bottom:1px solid #223456;text-align:left;font-size:13px;vertical-align:top}th{font-size:11px;color:#a9bddf;text-transform:uppercase;letter-spacing:.06em}.rule{display:grid;grid-template-columns:1fr 1fr;gap:10px}.pill{display:inline-block;border:1px solid #36507f;border-radius:8px;padding:3px 8px;font-size:11px;color:#b9cef2}@media(max-width:980px){.grid{grid-template-columns:1fr 1fr}.rule{grid-template-columns:1fr}}</style></head><body><div class='wrap'><h1>Transition Signal Engine <span class='mut'>San Diego v1 (Compliant)</span></h1><div class='mut'>Public-signal model only. No real-time emergency interception. Outputs: <b>ready_now</b>, <b>wait</b>, <b>suppress</b> with reason codes.</div><div class='grid' id='kpis'></div><div class='rule'><div class='card'><h3 style='margin:4px 0 8px'>Scoring Model</h3><div class='mut'>Max 100</div><ul><li>Obituary signal: <b>40</b></li><li>Probate/trustee/public filing: <b>30</b></li><li>Property distress/vacancy signal: <b>15</b></li><li>Recency fit window: <b>15</b></li></ul><div class='pill'>Threshold: ready_now >= 70 + cooldown clear</div></div><div class='card'><h3 style='margin:4px 0 8px'>Safety Rules</h3><ul><li>Cooldown by signal type (7/14/21 days)</li><li>Suppress if duplicate outreach in 30d</li><li>Suppress if DNC/sensitivity flags present</li><li>Every decision includes reason code</li></ul><div class='pill'>Audit-first decisioning</div></div></div><div style='height:12px'></div><table><thead><tr><th>Name</th><th>Signals</th><th>Score</th><th>Cooldown</th><th>Decision</th><th>Reason Code</th><th>Next Action</th></tr></thead><tbody id='rows'></tbody></table></div><script>const rows=[{name:'Lead A',daysSinceObit:12,obit:1,probate:1,distress:0,lastContactDays:99,dnc:0,sensitive:0},{name:'Lead B',daysSinceObit:3,obit:1,probate:0,distress:1,lastContactDays:99,dnc:0,sensitive:0},{name:'Lead C',daysSinceObit:22,obit:1,probate:1,distress:1,lastContactDays:8,dnc:0,sensitive:0},{name:'Lead D',daysSinceObit:17,obit:1,probate:0,distress:0,lastContactDays:99,dnc:1,sensitive:0},{name:'Lead E',daysSinceObit:15,obit:1,probate:1,distress:0,lastContactDays:99,dnc:0,sensitive:1}];function recencyPts(d){if(d<7)return 0; if(d<=21)return 15; if(d<=45)return 10; return 4}function score(r){return (r.obit?40:0)+(r.probate?30:0)+(r.distress?15:0)+recencyPts(r.daysSinceObit)}function cooldownClear(r){return r.daysSinceObit>=7}function decide(r){if(r.dnc) return ['suppress','DNC_FLAG']; if(r.sensitive) return ['suppress','SENSITIVITY_FLAG']; if(r.lastContactDays<30) return ['wait','RECENT_OUTREACH_30D']; const s=score(r); if(!cooldownClear(r)) return ['wait','COOLDOWN_LT_7D']; if(s>=70) return ['ready_now','SCORE_GTE_70']; if(s>=55) return ['wait','SCORE_55_69']; return ['wait','LOW_SIGNAL_SCORE']}const rendered=rows.map(r=>{const s=score(r);const[d,reason]=decide(r);const tag=d==='ready_now'?`<span class='tag ready'>ready_now</span>`:d==='suppress'?`<span class='tag sup'>suppress</span>`:`<span class='tag wait'>wait</span>`;const nxt=d==='ready_now'?'queue_care_first_postcard':d==='suppress'?'none':'recheck_next_cycle';return `<tr><td>${r.name}</td><td>obit:${r.obit} • probate:${r.probate} • distress:${r.distress}</td><td><b>${s}</b></td><td>${cooldownClear(r)?'clear':'active'}</td><td>${tag}</td><td>${reason}</td><td>${nxt}</td></tr>`}).join('');document.getElementById('rows').innerHTML=rendered;const d=rows.map(decide);const ready=d.filter(x=>x[0]==='ready_now').length,wait=d.filter(x=>x[0]==='wait').length,sup=d.filter(x=>x[0]==='suppress').length;document.getElementById('kpis').innerHTML=`<div class='card'><div class='mut'>Records</div><div class='k'>${rows.length}</div></div><div class='card'><div class='mut'>Ready Now</div><div class='k' style='color:var(--ok)'>${ready}</div></div><div class='card'><div class='mut'>Wait</div><div class='k' style='color:var(--wait)'>${wait}</div></div><div class='card'><div class='mut'>Suppress</div><div class='k' style='color:var(--sup)'>${sup}</div></div>`;</script></body></html>