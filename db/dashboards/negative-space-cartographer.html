<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>The Negative Space Cartographer</title>
<style>
*{margin:0;padding:0;box-sizing:border-box}
body{background:#0a0a0f;color:#c8c8d0;font-family:'Courier New',monospace;min-height:100vh;display:flex;flex-direction:column;align-items:center;padding:40px 20px}
h1{font-size:1.8em;color:#fff;margin-bottom:8px;text-align:center}
.subtitle{color:#666;font-size:.85em;margin-bottom:40px;text-align:center;max-width:600px}
.input-area{width:100%;max-width:700px;margin-bottom:30px}
textarea{width:100%;background:#111;border:1px solid #333;color:#ddd;font-family:inherit;font-size:.9em;padding:16px;border-radius:8px;resize:vertical;min-height:120px}
textarea::placeholder{color:#444}
button{background:#222;color:#888;border:1px solid #444;padding:12px 32px;font-family:inherit;font-size:.9em;cursor:pointer;border-radius:6px;margin-top:12px;transition:all .2s}
button:hover{background:#333;color:#fff;border-color:#666}
.output{width:100%;max-width:900px;margin-top:20px}
.neg-map{display:grid;grid-template-columns:1fr 1fr;gap:16px;margin-top:20px}
.absence-card{background:#0d0d14;border:1px solid #1a1a2e;border-radius:8px;padding:20px;position:relative;overflow:hidden}
.absence-card::before{content:'';position:absolute;top:0;left:0;right:0;height:3px;background:linear-gradient(90deg,transparent,#2a1a3e,transparent)}
.absence-card h3{color:#7b68ee;font-size:.85em;margin-bottom:8px;text-transform:uppercase;letter-spacing:1px}
.absence-card p{color:#777;font-size:.8em;line-height:1.6}
.absence-card .type{color:#444;font-size:.7em;margin-top:10px;font-style:italic}
.dark-field{margin-top:30px;text-align:center}
.dark-field canvas{border:1px solid #1a1a2e;border-radius:8px}
.meta{color:#333;font-size:.7em;margin-top:40px;text-align:center}
@media(max-width:600px){.neg-map{grid-template-columns:1fr}}
</style>
</head>
<body>
<h1>The Negative Space Cartographer</h1>
<p class="subtitle">Describe what you've built, chosen, or decided. This tool maps what you didn't — the shape of your absences.</p>

<div class="input-area">
<textarea id="input" placeholder="List your decisions, projects, skills, or choices. One per line.&#10;&#10;Example:&#10;Built a SaaS product&#10;Studied political science&#10;Moved to Texas&#10;Work in fundraising&#10;Have 9 kids"></textarea>
<button onclick="mapNegativeSpace()">Map the Absence</button>
</div>

<div class="output" id="output"></div>

<p class="meta">Not what you are. What you aren't.</p>

<script>
const domainMap = {
  'technology': ['biology','poetry','ceramics','dance','astronomy','linguistics','forestry','oceanography','philosophy of mind'],
  'business': ['art','ecology','contemplative practice','pure mathematics','ethnomusicology','geology','choreography','mycology'],
  'politics': ['material science','botany','acoustic engineering','phenomenology','textile arts','glaciology','puppetry','fermentation'],
  'family': ['solitude practices','nomadic living','monastic discipline','deep-sea exploration','avant-garde art','competitive athletics','laboratory research'],
  'software': ['woodworking','animal husbandry','calligraphy','meteorology','theatrical performance','soil science','glassblowing','navigation'],
  'writing': ['sculpture','competitive sports','electrical engineering','beekeeping','cartography','stone masonry','aikido','perfumery'],
  'finance': ['folklore','weaving','volcanology','mime','herbalism','blacksmithing','bird language','tidal patterns'],
  'education': ['smuggling routes','prison architecture','deep cave systems','abandoned railways','ghost towns','shipwrecks','seed vaults'],
  'marketing': ['silence','slowness','decay studies','moss cultivation','star charting','bone setting','tide reading','smoke signaling'],
  'religion': ['atheist philosophy','chaos magic','nihilist literature','psychedelic research','transhumanism','entropy worship','void meditation'],
  'default': ['marine biology','archival science','puppet theater','mycology','sand painting','competitive debate','typeface design','apiculture','kintsugi']
};

const absenceTypes = ['Domain Never Entered','Skill Never Attempted','Collaboration Never Tried','Question Never Asked','Identity Never Explored','Tool Never Touched','Geography Never Inhabited','Constraint Never Adopted'];

function detectDomains(text) {
  const t = text.toLowerCase();
  const found = [];
  if(/tech|software|code|app|saas|tool|build/i.test(t)) found.push('technology','software');
  if(/business|company|startup|revenue/i.test(t)) found.push('business');
  if(/politic|campaign|fundrais|donor|vote/i.test(t)) found.push('politics');
  if(/family|kid|child|parent|wife|husband/i.test(t)) found.push('family');
  if(/writ|blog|book|article|content/i.test(t)) found.push('writing');
  if(/money|financ|invest|crypto|trade/i.test(t)) found.push('finance');
  if(/teach|course|education|school/i.test(t)) found.push('education');
  if(/market|brand|ad|creative/i.test(t)) found.push('marketing');
  if(/church|faith|god|spiritual|relig/i.test(t)) found.push('religion');
  return [...new Set(found)];
}

function mapNegativeSpace() {
  const text = document.getElementById('input').value.trim();
  if(!text) return;
  const domains = detectDomains(text);
  if(domains.length === 0) domains.push('default');

  let absences = [];
  domains.forEach(d => {
    const pool = domainMap[d] || domainMap['default'];
    pool.forEach(item => {
      if(!text.toLowerCase().includes(item.toLowerCase())) {
        absences.push({domain: item, source: d, type: absenceTypes[Math.floor(Math.random()*absenceTypes.length)]});
      }
    });
  });

  // Deduplicate and limit
  const seen = new Set();
  absences = absences.filter(a => {
    if(seen.has(a.domain)) return false;
    seen.add(a.domain);
    return true;
  }).slice(0, 12);

  let html = '<div class="neg-map">';
  absences.forEach(a => {
    html += `<div class="absence-card">
      <h3>${a.domain}</h3>
      <p>Your choices systematically exclude this territory. It exists in the complement of your life — present by its absence, shaping you by what it never contributed.</p>
      <div class="type">${a.type} · implied by: ${a.source}</div>
    </div>`;
  });
  html += '</div>';

  // Draw dark field
  html += '<div class="dark-field"><canvas id="darkCanvas" width="800" height="300"></canvas></div>';
  document.getElementById('output').innerHTML = html;

  // Render
  setTimeout(() => {
    const c = document.getElementById('darkCanvas');
    if(!c) return;
    const ctx = c.getContext('2d');
    ctx.fillStyle = '#06060a';
    ctx.fillRect(0,0,800,300);
    absences.forEach((a,i) => {
      const x = 60 + (i % 6) * 120;
      const y = 80 + Math.floor(i/6) * 140;
      const r = 30 + Math.random()*20;
      const grad = ctx.createRadialGradient(x,y,0,x,y,r);
      grad.addColorStop(0,'rgba(60,40,100,0.3)');
      grad.addColorStop(1,'transparent');
      ctx.fillStyle = grad;
      ctx.beginPath();
      ctx.arc(x,y,r,0,Math.PI*2);
      ctx.fill();
      ctx.fillStyle = '#333';
      ctx.font = '9px Courier New';
      ctx.textAlign = 'center';
      ctx.fillText(a.domain, x, y+r+14);
    });
  }, 100);
}
</script>
</body>
</html>
